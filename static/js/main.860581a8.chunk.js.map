{"version":3,"sources":["../../../fure-view/lib/index.js","../../../fure-view/lib/hooks.js","../../../fure-core/lib/index.js","../../../fure-view/lib/Ticker/index.js","../../../fure-view/lib/Renderer.js","../../../fure-view/lib/UI/View.js","../../../fure-view/lib/Gradient/Gradient.js","../../../fure-view/lib/Physics/Composite.js","../../../fure-view/lib/Physics/World.js","../../../fure-view/lib/Sprite/index.js","../../../fure-view/lib/Sprite/Sprite.js","../../../fure-view/lib/Container.js","../../../fure-view/lib/Loader.js","../../../fure-core/lib/collection/compare.js","../../../fure-core/lib/rx/index.js","../../../fure-core/lib/Core.js","../../../fure-view/lib/Gradient/Velocity.js","../../../fure-view/lib/UI/index.js","../../../fure-view/lib/Resource/make.js","../../../fure-view/lib/Stage.js","../../../fure-view/lib/Gradient/index.js","../../../fure-core/lib/pkg-info.js","../../../fure-core/lib/collection/index.js","../../../fure-core/lib/collection/TreeSet.js","../../../fure-core/lib/Ticker.js","../../../fure-view/lib/Ticker/Subscribe.js","../../../fure-view/lib/Gradient/Simple.js","../../../fure-view/lib/Gradient/Circular.js","../../../fure-view/lib/Physics/index.js","../../../fure-view/lib/Physics/Constraint.js","../../../fure-view/lib/Physics/Mouse.js","../../../fure-view/lib/UI/resize.js","../../../fure-view/lib/Physics/Body.js","../../../fure-view/lib/Physics/set-poly-decomp.js","../../../fure-view/lib/Sprite/Animated.js","../../../fure-view/lib/Sprite/Movable.js","../../../fure-view/lib/Resource/index.js","../../../fure-view/lib/Resource/THColors.js","../../../fure-view/lib/Resource/use.js","../../../fure-view/lib/App.js","../../../fure-view/lib/Progress.js","Scene/helper.js","Scene/StageAndUI/index.js","Scene/TextureAndSprite/index.js","Scene/PreloadResource/index.js","main/core/index.js","Scene/LogicDecoupling/index.js","Scene/HighFrequency/index.js","Scene/Physics/index.js","Scene/index.js","Home/index.js","index.js"],"names":["Object","defineProperty","exports","value","_Gradient","keys","forEach","key","enumerable","get","_Physics","_Resource","_Sprite","_Ticker","_UI","_App","_Container","_hooks","_Loader","_Progress","_Renderer","_Stage","_slicedToArray","usePromiseRef","useCloseableAsync","useCloseable","defaultClose","_react","close","destroy","remove","undefined","supplier","arguments","length","deps","state","useMemo","useEffect","closeRef","useRef","_ref","useState","_ref2","setState","promise","Promise","resolve","current","then","setValue","instance","bind","_collection","_rx","_Core","_exportNames","TickerContext","TickerController","useTicker","obj","__esModule","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","prototype","hasOwnProperty","call","desc","set","default","_interopRequireWildcard","_core","_Subscribe","WeakMap","createContext","Ticker","shared","displayName","_ref$ticker","ticker","_ref$children","children","_ref$running","running","autoStart","start","pause","createElement","Provider","useContext","useDebugValue","FPS","toFixed","useView","useScreen","useRenderer","Renderer","RendererContext","PIXI","_View","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","push","apply","_defineProperty","configurable","writable","withView","create","width","height","view","ViewContext","renderer","resize","Creator","options","target","i","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","screen","setRef","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","ref","Function","Component","ext","WithView","id","className","style","props","_ref2$className","_ref3","_ref4","setView","canvasRef","useCallback","canvas","concat","View","WithExt","forwardRef","entries","_ref5","_ref6","name","useGradient","pointsFn","gradientFn","points","subject","_rxjs","Subject","pipe","next","sub","each","unsubscribe","JSON","stringify","_Simple","_Velocity","_Circular","Composite","useComposite","CompositeContext","Matter","eventNames","events","definition","parent","composite","add","callback","Events","on","off","useEvent","_toConsumableArray","useWorld","useEngine","World","EngineContext","_Mouse","_Composite","_operators","defaultRenderOptions","wireframeBackground","showPositions","showBounds","showVelocity","showCollisions","_ref$events","_ref$renderDebug","renderDebug","engine","Engine","delta","update","clear","_canvas$classList","_ref2$classList","classList","renderDefinition","renderOptions","parentNode","document","appendChild","render","Render","run","updateStyle","_renderer$view","clientWidth","clientHeight","offsetLeft","offsetTop","left","top","fromResize","debounceTime","subscribe","_","world","g","window","firstDebug","Mouse","SpriteProps","SpriteContext","useSprite","Sprite","_Animated","_Movable","createSprite","container","useContainer","sprite","addChild","removeChild","texture","position","scale","_props$anchor","anchor","x","y","rotation","_props$tint","tint","blendMode","degree","angle","radian","_sprite","_props","ParticleContainer","Container","ContainerContext","createContainer","constructor","useLoader","Loader","LoaderContext","baseUrl","concurrency","loader","progress","shuffle","compareExtract","compareReverse","compareNature","l","r","compare","e1","e2","mapper","target1","target2","elements","wrapper","map","element","weight","Math","random","sort","pick","pluck","_defineProperty2","_classCallCheck","Core","_this","this","rpcId","subjectId","rpc","event","_len","args","Array","_key","reduce","dict","_len2","_key2","_len3","_key3","interval","take","toPromise","Velocity","velocityFn","vector","join","point","deltaTime","vectors","_loop","index","previous","_resize","UI","styleOf","scaleMode","transform","_ref$className","outerStyle","styleEvent","builtinStyle","useSubscribe","makeResource","Resource","LoaderResource","Polygon","maker","draw","transparent","console","warn","_object$getBounds","getBounds","image","Image","src","toDataURL","Texture","BaseTexture","resource","resources","addToCache","shape","fill","line","border","graphics","Graphics","beginFill","color","alpha","lineStyle","drawShape","circle","radius","Circle","ellipse","Ellipse","polygon","rectangle","Rectangle","roundedRectangle","RoundedRectangle","triangle","sharp","star","innerRadius","drawStar","text","Text","useStage","Stage","StageContext","LazyRefresh","stage","subRef","once","TickRefresh","Gradient","_console","_package","pkgInfo","version","author","license","homepage","padding","info","replace","_compare","_TreeSet","_createClass","TreeSet","binarySearch","comparator","right","middle","cmp","pushAll","isEmpty","splice","size","requestTimer","Date","getTime","cb","setTimeout","requestAnimationFrame","syncPeriod","now","offset","core","sync","time","timer","_running","skipOnBack","throttleTime","asyncScheduler","leading","trailing","_delta","fromEvent","visibilityState","_visibile","fn","Subscribe","init","snapshot","setSnapshot","subcription","Simple","simpleFn","slice","simplePointsFn","point0","point1","remain","interp","max","min","Circular","rotate","frames","distance","direction","velocityState","obs","_ref3$","positionX","positionY","halfRotate","velocity","sin","initial","cos","decorate","_Constraint","_Body","_World","_regeneratorRuntime","_asyncToGenerator","Constraint","mark","_callee2","tasks","constraint","wrap","_context2","prev","_callee","_context","abrupt","sent","stop","_x2","all","_x","useRefs","acc","newPromiseRef","mouseConstraint","mouse","MouseConstraint","stiffness","visible","observer","ResizeObserver","fromEventPattern","handler","observe","_handler","unobserve","Body","BodyComponent","useBody","isSleeping","isStatic","isSensor","body","Sleeping","setStatic","SpriteBody","newBody","Error","setVelocity","SpritePath","vertices","Vector","Bodies","fromVertices","SpriteCircle","SpriteRectangle","SpriteTriangle","nextCategory","nextGroup","_polyDecomp","decomp","AnimatedSprite","textures","autoUpdate","_ref2$playing","playing","_ref2$loop","loop","_ref2$animationSpeed","animationSpeed","play","MovableSprite","FreeMoveSprite","_extends","assign","Consumer","animId","_ref5$","UDLR","vx","vy","toUDLR","eachSize","idle","up","down","BLEND_MODES","_pixi","_make","_THColors","_use","THColors","newColor","data","toString","A","rgb","B","rg","G","R","hex","rgba","Reimu","Marisa","Alice","Cirno","Sakuya","Youmu","Yuyuko","Yakumo","useResource","complete","unmount","completed","option","save","emit","catch","error","_resource","finally","url","load","onLoad","_completed","reset","utils","clearTextureCache","query","_field","field","useApp","App","AppContext","resizeTo","app","Application","Progress","Indicator","indicator","loaded","setLoaded","_loader","removeListener","Fragment","useSelect","selected","setSeleted","selector","onClick","playerPath","gravity","playerAnims","bodySize","usages","backgroundColor","Advance","textAlign","StageAndUI","Usage","usageSelector","displayText","randomPosition","thc","Animated","Moveable","fontFamily","fontSize","TextureAndSprite","Loading","bottom","background","useShooter","turn","sampleTime","startWith","mergeMap","copies","ox","oy","PI","Kagari","baseTexture","alt","maxWidth","maxHeight","reimu","kagari","of","marisa","make","delay","alice","PreloadResource","LogicDecoupling","bubble","players","Set","subscriptions","playerName","playerAttr","message","life","attr","inc","dec","newBubble","readyTimer","from","zip","bubbleTimer","tap","blow","leave","player","delete","Bubble","Player","onTap","onTouchStart","Message","show","messages","insertAt","opacity","queue","scan","Game","birth","Particle","particles","runTime","last","sendAt","count","floor","range","particle","unshift","pop","ADD","HighFrequency","sceneConfig","Catapult","catapultRefs","bodyA","pointB","filters","negCatapult","collisionFilter","group","pairs","bodyB","label","victim","marisaX","victimX","velocityX","restitution","density","friction","Physics","scenes","Scene","context","history","useHistory","goBack","Home","location","match","to","pathname","PUBLIC_URL","process","ReactDOM","exact","path","component","getElementById"],"mappings":"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","file":"static/js/main.860581a8.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Gradient = require(\"./Gradient\");\n\nObject.keys(_Gradient).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Gradient[key];\n    }\n  });\n});\n\nvar _Physics = require(\"./Physics\");\n\nObject.keys(_Physics).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Physics[key];\n    }\n  });\n});\n\nvar _Resource = require(\"./Resource\");\n\nObject.keys(_Resource).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Resource[key];\n    }\n  });\n});\n\nvar _Sprite = require(\"./Sprite\");\n\nObject.keys(_Sprite).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Sprite[key];\n    }\n  });\n});\n\nvar _Ticker = require(\"./Ticker\");\n\nObject.keys(_Ticker).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Ticker[key];\n    }\n  });\n});\n\nvar _UI = require(\"./UI\");\n\nObject.keys(_UI).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _UI[key];\n    }\n  });\n});\n\nvar _App = require(\"./App\");\n\nObject.keys(_App).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _App[key];\n    }\n  });\n});\n\nvar _Container = require(\"./Container\");\n\nObject.keys(_Container).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Container[key];\n    }\n  });\n});\n\nvar _hooks = require(\"./hooks\");\n\nObject.keys(_hooks).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _hooks[key];\n    }\n  });\n});\n\nvar _Loader = require(\"./Loader\");\n\nObject.keys(_Loader).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Loader[key];\n    }\n  });\n});\n\nvar _Progress = require(\"./Progress\");\n\nObject.keys(_Progress).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Progress[key];\n    }\n  });\n});\n\nvar _Renderer = require(\"./Renderer\");\n\nObject.keys(_Renderer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Renderer[key];\n    }\n  });\n});\n\nvar _Stage = require(\"./Stage\");\n\nObject.keys(_Stage).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Stage[key];\n    }\n  });\n});","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.usePromiseRef = exports.useCloseableAsync = exports.useCloseable = exports.defaultClose = void 0;\n\nvar _react = require(\"react\");\n/** utility hooks. */\n\n\nvar defaultClose = function defaultClose(value) {\n  return 'close' in value ? value.close() : 'destroy' in value ? value.destroy() : 'remove' in value ? value.remove() : undefined;\n};\n\nexports.defaultClose = defaultClose;\n\nvar useCloseable = function useCloseable(supplier) {\n  var close = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultClose;\n  var deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var state = (0, _react.useMemo)(supplier, []);\n  (0, _react.useEffect)(function () {\n    return function () {\n      return close(state);\n    };\n  }, deps);\n  return state;\n};\n\nexports.useCloseable = useCloseable;\n\nvar useCloseableAsync = function useCloseableAsync(supplier) {\n  var close = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultClose;\n  var deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var closeRef = (0, _react.useRef)(false);\n\n  var _ref = (0, _react.useState)(undefined),\n      _ref2 = _slicedToArray(_ref, 2),\n      state = _ref2[0],\n      setState = _ref2[1];\n\n  (0, _react.useEffect)(function () {\n    var promise = Promise.resolve(supplier(closeRef));\n    closeRef.current || promise.then(setState);\n    return function () {\n      closeRef.current = true;\n      promise.then(close);\n    };\n  }, deps);\n  return state;\n}; // deprected.\n// export const useUpdate: typeof useEffect = (\n//   update: EffectCallback,\n//   deps: DependencyList = []\n// ): void => {\n//   useMemo(update, []);\n//   useEffect(update, deps);\n// };\n\n\nexports.useCloseableAsync = useCloseableAsync;\n\nvar usePromiseRef = function usePromiseRef() {\n  return (0, _react.useMemo)(function () {\n    var value = null;\n    var setValue;\n    var promise = new Promise(function (resolve) {\n      return setValue = resolve;\n    });\n    return {\n      set current(instance) {\n        value = instance;\n        instance == null || setValue(instance);\n      },\n\n      get current() {\n        return value;\n      },\n\n      then: promise.then.bind(promise)\n    };\n  }, []);\n};\n\nexports.usePromiseRef = usePromiseRef;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire(\"./pkg-info\");\n\nvar _collection = require(\"./collection\");\n\nObject.keys(_collection).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _collection[key];\n    }\n  });\n});\n\nvar _rx = require(\"./rx\");\n\nObject.keys(_rx).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _rx[key];\n    }\n  });\n});\n\nvar _Core = require(\"./Core\");\n\nObject.keys(_Core).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Core[key];\n    }\n  });\n});\n\nvar _Ticker = require(\"./Ticker\");\n\nObject.keys(_Ticker).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Ticker[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  TickerContext: true,\n  TickerController: true,\n  useTicker: true\n};\nexports.useTicker = exports.TickerController = exports.TickerContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _core = require(\"@fure/core\");\n\nvar _Subscribe = require(\"./Subscribe\");\n\nObject.keys(_Subscribe).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Subscribe[key];\n    }\n  });\n});\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar TickerContext = (0, _react.createContext)(_core.Ticker.shared);\nexports.TickerContext = TickerContext;\nTickerContext.displayName = 'Ticker';\n\nvar TickerController = function TickerController(_ref) {\n  var _ref$ticker = _ref.ticker,\n      ticker = _ref$ticker === void 0 ? _core.Ticker.shared : _ref$ticker,\n      _ref$children = _ref.children,\n      children = _ref$children === void 0 ? null : _ref$children,\n      _ref$running = _ref.running,\n      running = _ref$running === void 0 ? true : _ref$running,\n      autoStart = _ref.autoStart;\n  if (running !== ticker.running) running ? ticker.start() : ticker.pause();\n  if (autoStart != null && autoStart != ticker.autoStart) ticker.autoStart = autoStart;\n  (0, _react.useEffect)(function () {\n    return function () {\n      ticker.pause();\n    };\n  }, []);\n  return _react.default.createElement(TickerContext.Provider, {\n    value: ticker\n  }, children);\n};\n\nexports.TickerController = TickerController;\n\nvar useTicker = function useTicker() {\n  var ticker = (0, _react.useContext)(TickerContext);\n  (0, _react.useDebugValue)(ticker, function (ticker) {\n    return ticker.FPS.toFixed(2);\n  });\n  return ticker;\n};\n\nexports.useTicker = useTicker;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useView = exports.useScreen = exports.useRenderer = exports.Renderer = exports.RendererContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nvar _View = require(\"./UI/View\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar RendererContext = (0, _react.createContext)(undefined);\nexports.RendererContext = RendererContext;\nRendererContext.displayName = 'Renderer';\nvar Renderer = (0, _View.withView)('Renderer', function (_ref) {\n  var children = _ref.children,\n      create = _ref.create,\n      width = _ref.width,\n      height = _ref.height;\n  var view = (0, _react.useContext)(_View.ViewContext);\n  var renderer = (0, _hooks.useCloseable)(function () {\n    return create ? create(view) : new PIXI.Renderer({\n      view: view\n    });\n  });\n  if (width != null && height != null && (width !== renderer.width || height !== renderer.height)) renderer.resize(width, height);\n  return _react.default.createElement(RendererContext.Provider, {\n    value: renderer\n  }, children);\n}, {\n  Creator: function Creator(options) {\n    return (0, _react.useMemo)(function () {\n      return {\n        create: function create(view) {\n          return new PIXI.Renderer(_objectSpread({\n            view: view\n          }, options));\n        }\n      };\n    }, []);\n  }\n});\nexports.Renderer = Renderer;\n\nvar useRenderer = function useRenderer() {\n  return (0, _react.useContext)(RendererContext);\n};\n\nexports.useRenderer = useRenderer;\n\nvar useScreen = function useScreen() {\n  var renderer = (0, _react.useContext)(RendererContext);\n  return renderer && renderer.screen;\n};\n\nexports.useScreen = useScreen;\n\nvar useView = function useView() {\n  var renderer = (0, _react.useContext)(RendererContext);\n  return renderer && renderer.view;\n};\n\nexports.useView = useView;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setRef = setRef;\nexports.withView = exports.ViewContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nrequire(\"./View.css\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction setRef(ref, value) {\n  if (ref == null) return;\n  if ('current' in ref) ref.current = value;else if (ref instanceof Function) ref(value);\n}\n\nvar ViewContext = (0, _react.createContext)(undefined);\nexports.ViewContext = ViewContext;\nViewContext.displayName = 'View';\n\nvar View = function View(_ref2, ref) {\n  var id = _ref2.id,\n      _ref2$className = _ref2.className,\n      className = _ref2$className === void 0 ? '' : _ref2$className,\n      style = _ref2.style,\n      children = _ref2.children;\n\n  var _ref3 = (0, _react.useState)(undefined),\n      _ref4 = _slicedToArray(_ref3, 2),\n      view = _ref4[0],\n      setView = _ref4[1];\n\n  var canvasRef = (0, _react.useCallback)(function (canvas) {\n    canvas && setView(canvas);\n    setRef(ref, canvas);\n  }, []);\n  return _react.default.createElement(\"div\", {\n    id: id,\n    className: \"\".concat(className && \"\".concat(className, \" \"), \"Furegame\"),\n    style: style\n  }, _react.default.createElement(\"canvas\", {\n    ref: canvasRef\n  }), view && _react.default.createElement(ViewContext.Provider, {\n    value: view\n  }, children));\n};\n\nvar withView = function withView(displayName, Component, ext) {\n  Component.displayName = displayName;\n\n  var WithView = function WithView(_ref, ref) {\n    var id = _ref.id,\n        className = _ref.className,\n        style = _ref.style,\n        props = _objectWithoutProperties(_ref, [\"id\", \"className\", \"style\"]);\n\n    return View({\n      id: id,\n      className: className,\n      style: style,\n      children: _react.default.createElement(Component, props)\n    }, ref);\n  };\n\n  WithView.displayName = \"\".concat(displayName, \".View\");\n  var WithExt = (0, _react.forwardRef)(WithView);\n  ext && Object.entries(ext).forEach(function (_ref5) {\n    var _ref6 = _slicedToArray(_ref5, 2),\n        name = _ref6[0],\n        value = _ref6[1];\n\n    WithExt[name] = value; // eslint-disable-line @typescript-eslint/no-explicit-any\n  });\n  return WithExt;\n};\n\nexports.withView = withView;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  useGradient: true\n};\nexports.useGradient = useGradient;\n\nvar _react = require(\"react\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _Simple = require(\"./Simple\");\n\nObject.keys(_Simple).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Simple[key];\n    }\n  });\n});\n\nvar _Velocity = require(\"./Velocity\");\n\nObject.keys(_Velocity).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Velocity[key];\n    }\n  });\n});\n\nvar _Circular = require(\"./Circular\");\n\nObject.keys(_Circular).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Circular[key];\n    }\n  });\n});\n\nfunction useGradient(pointsFn, gradientFn) {\n  var ticker = (0, _Ticker.useTicker)();\n  var points = (0, _react.useRef)([]);\n  (0, _react.useEffect)(function () {\n    points.current = pointsFn(ticker, points.current);\n  }, [pointsFn]);\n\n  var _ref = (0, _react.useMemo)(function () {\n    var subject = new _rxjs.Subject();\n    return [subject.pipe.bind(subject), function (state) {\n      return subject.next(state);\n    }];\n  }, []),\n      _ref2 = _slicedToArray(_ref, 2),\n      state = _ref2[0],\n      setState = _ref2[1];\n\n  (0, _react.useEffect)(function () {\n    var state;\n    var sub = ticker.each(function () {\n      state = gradientFn(ticker, points.current, state);\n      setState(state);\n    });\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, [gradientFn]);\n  (0, _react.useDebugValue)(state, JSON.stringify);\n  return state;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Composite = exports.useComposite = exports.CompositeContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _hooks = require(\"../hooks\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar eventNames = ['beforeAdd', 'afterAdd', 'beforeRemove', 'afterRemove'];\nvar CompositeContext = (0, _react.createContext)(undefined);\nexports.CompositeContext = CompositeContext;\nCompositeContext.displayName = 'Composite';\n\nvar useComposite = function useComposite() {\n  return (0, _react.useContext)(CompositeContext);\n};\n\nexports.useComposite = useComposite;\n\nvar Composite = function Composite(_ref) {\n  var children = _ref.children,\n      events = _ref.events,\n      definition = _objectWithoutProperties(_ref, [\"children\", \"events\"]);\n\n  var parent = useComposite();\n  var composite = (0, _hooks.useCloseable)(function () {\n    var composite = Matter.Composite.create(definition);\n    Matter.Composite.add(parent, composite);\n    return composite;\n  }, function (composite) {\n    return Matter.Composite.remove(parent, composite);\n  });\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(composite, name, callback);\n      return function () {\n        return Matter.Events.off(composite, name, callback);\n      };\n    }, [events[name]]);\n  });\n  return _react.default.createElement(CompositeContext.Provider, {\n    value: composite\n  }, children);\n};\n\nexports.Composite = Composite;\n\nComposite.useEvent = function (name, callback) {\n  var composite = useComposite();\n  (0, _react.useEffect)(function () {\n    Matter.Events.on(composite, name, callback);\n    return function () {\n      return Matter.Events.off(composite, name, callback);\n    };\n  }, [composite]);\n};","\"use strict\";\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useWorld = exports.useEngine = exports.World = exports.EngineContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _Renderer = require(\"../Renderer\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _Mouse = require(\"./Mouse\");\n\nvar _Composite = require(\"./Composite\");\n\nvar _UI = require(\"../UI\");\n\nvar _operators = require(\"rxjs/operators\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar eventNames = ['beforeAdd', 'afterAdd', 'beforeRemove', 'afterRemove', 'beforeUpdate', 'afterUpdate', 'beforeRender', 'afterRender', 'collisionStart', 'collisionActive', 'collisionEnd', 'beforeTick', 'tick', 'afterTick', 'beforeRender', 'afterRender'];\nvar defaultRenderOptions = {\n  wireframeBackground: 'transparent',\n  showPositions: true,\n  showBounds: true,\n  showVelocity: true,\n  showCollisions: true\n};\nvar EngineContext = (0, _react.createContext)(undefined);\nexports.EngineContext = EngineContext;\nEngineContext.displayName = 'World.Engine';\n\nvar World = function World(_ref) {\n  var children = _ref.children,\n      _ref$events = _ref.events,\n      events = _ref$events === void 0 ? {} : _ref$events,\n      _ref$renderDebug = _ref.renderDebug,\n      renderDebug = _ref$renderDebug === void 0 ? false : _ref$renderDebug,\n      definition = _objectWithoutProperties(_ref, [\"children\", \"events\", \"renderDebug\"]);\n\n  var renderer = (0, _Renderer.useRenderer)();\n  var ticker = (0, _Ticker.useTicker)();\n  var engine = (0, _hooks.useCloseable)(function () {\n    var engine = Matter.Engine.create(definition); // Matter.Engine.run(engine);\n\n    ticker.each(function (delta) {\n      return Matter.Engine.update(engine, delta);\n    });\n    return engine;\n  }, function (engine) {\n    return Matter.Engine.clear(engine);\n  });\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(engine, name, callback);\n      return function () {\n        return Matter.Events.off(engine, name, callback);\n      };\n    }, [events[name]]);\n  }); // render debug canvas.\n\n  (0, _react.useEffect)(function () {\n    var _canvas$classList;\n\n    if (!renderDebug) return; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    var _ref2 = renderDebug === true ? {} : renderDebug,\n        _ref2$classList = _ref2.classList,\n        classList = _ref2$classList === void 0 ? ['UI'] : _ref2$classList,\n        renderDefinition = _objectWithoutProperties(_ref2, [\"classList\"]);\n\n    var renderOptions = _objectSpread({\n      width: renderer.width,\n      height: renderer.height\n    }, defaultRenderOptions, {}, renderDefinition.options);\n\n    var _ref3 = renderDefinition.canvas ? [renderDefinition.canvas] : function () {\n      if (renderer.view.parentNode == null) return [];\n      var canvas = document.createElement('canvas');\n      canvas.id = 'debugRenderer';\n      renderer.view.parentNode.appendChild(canvas);\n      var style = canvas.style; // prevent `Matter` change the canvas style\n\n      Object.defineProperty(canvas, 'style', {\n        get: function get() {\n          return {};\n        }\n      });\n      return [canvas, style];\n    }(),\n        _ref4 = _slicedToArray(_ref3, 2),\n        canvas = _ref4[0],\n        style = _ref4[1];\n\n    var render = Matter.Render.create(_objectSpread({}, renderDefinition, {\n      canvas: canvas,\n      engine: engine,\n      options: renderOptions\n    }));\n\n    (_canvas$classList = canvas.classList).add.apply(_canvas$classList, _toConsumableArray(classList));\n\n    Matter.Render.run(render);\n    if (style == null) return;\n\n    var updateStyle = function updateStyle() {\n      var _renderer$view = renderer.view,\n          clientWidth = _renderer$view.clientWidth,\n          clientHeight = _renderer$view.clientHeight,\n          offsetLeft = _renderer$view.offsetLeft,\n          offsetTop = _renderer$view.offsetTop;\n      style.width = \"\".concat(clientWidth, \"px\");\n      style.height = \"\".concat(clientHeight, \"px\");\n      style.left = \"\".concat(offsetLeft, \"px\");\n      style.top = \"\".concat(offsetTop, \"px\");\n    };\n\n    var sub = (0, _UI.fromResize)(renderer.view).pipe((0, _operators.debounceTime)(100)).subscribe(function (_) {\n      return updateStyle();\n    });\n    updateStyle();\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, [engine]);\n  return _react.default.createElement(EngineContext.Provider, {\n    value: engine\n  }, _react.default.createElement(_Composite.CompositeContext.Provider, {\n    value: engine.world\n  }, children));\n};\n\nexports.World = World;\n\nvar useEngine = function useEngine() {\n  var engine = (0, _react.useContext)(EngineContext);\n  (0, _react.useDebugValue)(engine, function (engine) {\n    var g = window; // eslint-disable-line @typescript-eslint/no-explicit-any\n    // for debugger\n\n    g.Matter = Matter;\n    g.engine = engine; // eslint-disable-next-line @typescript-eslint/no-explicit-any, no-debugger\n\n    if (useEngine.firstDebug !== false) {\n      debugger;\n      useEngine.firstDebug = false;\n    }\n\n    return \"engine#\".concat(engine.world.id);\n  });\n  return engine;\n};\n\nexports.useEngine = useEngine;\n\nvar useWorld = function useWorld() {\n  return (useEngine() || {}).world;\n};\n\nexports.useWorld = useWorld;\nWorld.Mouse = _Mouse.Mouse;\n\nvar useEvent = function useEvent(name, callback) {\n  var engine = useEngine();\n  (0, _react.useEffect)(function () {\n    Matter.Events.on(engine, name, callback);\n    return function () {\n      return Matter.Events.off(engine, name, callback);\n    };\n  }, [engine]);\n};\n\nWorld.useEvent = useEvent;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  SpriteProps: true,\n  SpriteContext: true,\n  useSprite: true,\n  Sprite: true\n};\nObject.defineProperty(exports, \"SpriteProps\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.SpriteProps;\n  }\n});\nObject.defineProperty(exports, \"SpriteContext\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.SpriteContext;\n  }\n});\nObject.defineProperty(exports, \"useSprite\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.useSprite;\n  }\n});\nObject.defineProperty(exports, \"Sprite\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.Sprite;\n  }\n});\n\nvar _Animated = require(\"./Animated\");\n\nObject.keys(_Animated).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Animated[key];\n    }\n  });\n});\n\nvar _Sprite = require(\"./Sprite\");\n\nvar _Movable = require(\"./Movable\");\n\nObject.keys(_Movable).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Movable[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Sprite = exports.createSprite = exports.useSprite = exports.SpriteContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _Container = require(\"../Container\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _View = require(\"../UI/View\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar SpriteContext = (0, _react.createContext)(undefined);\nexports.SpriteContext = SpriteContext;\nSpriteContext.displayName = 'Sprite';\n\nvar useSprite = function useSprite() {\n  return (0, _react.useContext)(SpriteContext);\n}; // should only usage in `Sprite` package, DO NOT export to others.\n\n\nexports.useSprite = useSprite;\n\nvar createSprite = function createSprite(displayName, supplier, update) {\n  var Sprite = function Sprite(props, ref) {\n    var container = (0, _Container.useContainer)();\n    var sprite = (0, _hooks.useCloseable)(function () {\n      var sprite = supplier(props);\n      container.addChild(sprite);\n      (0, _View.setRef)(ref, sprite);\n      return sprite;\n    }, function (sprite) {\n      (0, _View.setRef)(ref, null);\n      container.removeChild(sprite);\n      sprite.destroy();\n    });\n    update(sprite, props);\n    var children = props.children,\n        texture = props.texture,\n        position = props.position,\n        scale = props.scale,\n        _props$anchor = props.anchor,\n        anchor = _props$anchor === void 0 ? {\n      x: 0.5,\n      y: 0.5\n    } : _props$anchor,\n        rotation = props.rotation,\n        _props$tint = props.tint,\n        tint = _props$tint === void 0 ? 0xFFFFFF : _props$tint,\n        blendMode = props.blendMode;\n    if (texture != null && texture !== sprite.texture) sprite.texture = texture;\n    if (position && position !== sprite.position) sprite.position.set(position.x, position.y);\n\n    if (scale != null) {\n      var _ref = scale instanceof Object ? scale : {\n        x: scale,\n        y: scale\n      },\n          x = _ref.x,\n          y = _ref.y;\n\n      if (x !== sprite.scale.x) sprite.scale.x = x;\n      if (y !== sprite.scale.y) sprite.scale.y = y;\n    }\n\n    if (anchor) {\n      if (anchor.x !== sprite.anchor.x) sprite.anchor.x = anchor.x;\n      if (anchor.y !== sprite.anchor.y) sprite.anchor.y = anchor.y;\n    }\n\n    if (rotation) {\n      if ('degree' in rotation && rotation.degree !== sprite.angle) sprite.angle = rotation.degree;else if ('radian' in rotation && rotation.radian !== sprite.rotation) sprite.rotation = rotation.radian;\n    }\n\n    if (tint !== sprite.tint) sprite.tint = tint;\n    if (blendMode != null && blendMode !== sprite.blendMode) sprite.blendMode = blendMode;\n    return _react.default.createElement(SpriteContext.Provider, {\n      value: sprite\n    }, children);\n  };\n\n  Sprite.displayName = displayName;\n  return (0, _react.forwardRef)(Sprite);\n};\n\nexports.createSprite = createSprite;\nvar Sprite = createSprite('Sprite', function (_ref2) {\n  var texture = _ref2.texture;\n  return new PIXI.Sprite(texture);\n}, function (_sprite, _props) {});\nexports.Sprite = Sprite;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ParticleContainer = exports.Container = exports.useContainer = exports.ContainerContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nvar _View = require(\"./UI/View\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar ContainerContext = (0, _react.createContext)(undefined);\nexports.ContainerContext = ContainerContext;\nContainerContext.displayName = 'Container';\n\nvar useContainer = function useContainer() {\n  return (0, _react.useContext)(ContainerContext);\n};\n\nexports.useContainer = useContainer;\n\nvar createContainer = function createContainer(displayName, constructor) {\n  var Container = function Container(_ref, ref) {\n    var children = _ref.children;\n    var parent = useContainer();\n    var container = (0, _hooks.useCloseable)(function () {\n      var container = new constructor();\n      parent && parent.addChild(container);\n      (0, _View.setRef)(ref, container);\n      return container;\n    }, function (container) {\n      (0, _View.setRef)(ref, null);\n      parent && parent.removeChild(container);\n      container.destroy();\n    });\n    return _react.default.createElement(ContainerContext.Provider, {\n      value: container\n    }, children);\n  };\n\n  Container.displayName = displayName;\n  return (0, _react.forwardRef)(Container);\n};\n\nvar Container = createContainer('Container', PIXI.Container);\nexports.Container = Container;\nvar ParticleContainer = createContainer('Container', PIXI.ParticleContainer);\nexports.ParticleContainer = ParticleContainer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLoader = exports.Loader = exports.LoaderContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar LoaderContext = (0, _react.createContext)(PIXI.Loader.shared);\nexports.LoaderContext = LoaderContext;\nLoaderContext.displayName = 'Loader';\n\nvar Loader = function Loader(_ref) {\n  var children = _ref.children,\n      baseUrl = _ref.baseUrl,\n      concurrency = _ref.concurrency;\n  var loader = (0, _hooks.useCloseable)(function () {\n    return new PIXI.Loader(baseUrl, concurrency);\n  });\n  if (baseUrl != null && baseUrl !== loader.baseUrl) loader.baseUrl = baseUrl;\n  if (concurrency != null && concurrency !== loader.concurrency) loader.concurrency = concurrency;\n  return _react.default.createElement(LoaderContext.Provider, {\n    value: loader\n  }, children);\n};\n\nexports.Loader = Loader;\n\nLoader.Creator = function (_ref2) {\n  var baseUrl = _ref2.baseUrl,\n      concurrency = _ref2.concurrency;\n  return (0, _react.useMemo)(function () {\n    return {\n      create: function create() {\n        return new PIXI.Loader(baseUrl, concurrency);\n      }\n    };\n  }, []);\n};\n\nvar useLoader = function useLoader() {\n  var loader = (0, _react.useContext)(LoaderContext);\n  (0, _react.useDebugValue)(loader.progress, function (progress) {\n    return \"progress: \".concat(progress);\n  });\n  return loader;\n};\n\nexports.useLoader = useLoader;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shuffle = exports.compareExtract = exports.compareReverse = exports.compareNature = void 0;\n\nvar compareNature = function compareNature() {\n  return function (l, r) {\n    return l < r ? -1 : l === r ? 0 : 1;\n  };\n};\n\nexports.compareNature = compareNature;\n\nvar compareReverse = function compareReverse() {\n  var compare = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : compareNature();\n  return function (e1, e2) {\n    return compare(e2, e1);\n  };\n};\n\nexports.compareReverse = compareReverse;\n\nvar compareExtract = function compareExtract(mapper) {\n  var compare = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : compareNature();\n  return function (target1, target2) {\n    return compare(mapper(target1), mapper(target2));\n  };\n};\n\nexports.compareExtract = compareExtract;\n\nvar shuffle = function shuffle(elements) {\n  var wrapper = elements.map(function (element) {\n    return {\n      element: element,\n      weight: Math.random()\n    };\n  });\n  wrapper.sort(compareExtract(function (_ref) {\n    var weight = _ref.weight;\n    return weight;\n  }));\n  return wrapper.map(function (_ref2) {\n    var element = _ref2.element;\n    return element;\n  });\n};\n\nexports.shuffle = shuffle;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pick = void 0;\n\nvar _operators = require(\"rxjs/operators\");\n/** rxjs extends */\n\n\nvar pick = function pick(key) {\n  return function (source) {\n    return source.pipe((0, _operators.pluck)(key), (0, _operators.filter)(function (value) {\n      return value !== undefined;\n    }));\n  };\n};\n\nexports.pick = pick;","\"use strict\";\n\nvar _defineProperty2 = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Core = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Core = function Core(id, events, subject) {\n  var _this = this;\n\n  _classCallCheck(this, Core);\n\n  _defineProperty(this, \"rpcId\", void 0);\n\n  _defineProperty(this, \"subjectId\", void 0);\n\n  _defineProperty(this, \"pipe\", void 0);\n\n  _defineProperty(this, \"rpc\", void 0);\n\n  _defineProperty(this, \"events\", void 0);\n\n  this.rpcId = \"_FURE_CORE_RPC-\".concat(id);\n  this.subjectId = \"_FURE_CORE_SUBJECT-\".concat(id);\n  this.pipe = subject.pipe.bind(subject); //#region BACKEND\n\n  if (typeof window === 'undefined') {\n    this.rpc = function (event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return Promise.resolve(events[event].apply(events, args));\n    };\n\n    this.events = Object.keys(events).reduce(function (dict, key) {\n      return _objectSpread({}, dict, _defineProperty2({}, key, _this.rpc.bind(null, key)));\n    }, {}); // expose `subject` for the main process of `carlo` to listen from.\n\n    this[this.subjectId] = subject; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n    return;\n  } //#endregion\n  //#region FRONTEND\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  var g = window; // eslint-disable-line no-undef\n\n  if (g[this.rpcId] instanceof Function) {\n    this.rpc = g[this.rpcId];\n    this.events = Object.keys(events).reduce(function (dict, key) {\n      return _objectSpread({}, dict, _defineProperty2({}, key, _this.rpc.bind(null, key)));\n    }, {}); // expose `subject` for the view process of `carlo` to send forward.\n\n    g[this.subjectId] = subject;\n    return;\n  } //#endregion\n  //#region FRONT-ONLY MOCK\n\n\n  this.rpc = function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return Promise.resolve(events[event].apply(events, args));\n  };\n\n  this.events = Object.keys(events).reduce(function (dict, key) {\n    return _objectSpread({}, dict, _defineProperty2({}, key, function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      // delay 1ms to emulate the frontend-backend RPC call delay.\n      return (0, _rxjs.interval)(1).pipe((0, _operators.take)(1)).toPromise().then(function () {\n        return _this.rpc.apply(_this, [key].concat(args));\n      });\n    }));\n  }, {}); //#endregion\n};\n\nexports.Core = Core;","\"use strict\";\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Velocity = exports.velocityFn = void 0;\n\nvar _react = require(\"react\");\n\nvar _Gradient = require(\"./Gradient\");\n\nvar velocityGradientFn = function velocityGradientFn() {\n  return function (ticker, _ref, state) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        point = _ref2[0];\n\n    if (state == null) return point;\n    var deltaTime = ticker.deltaTime;\n    var vectors = state.map(function (vector) {\n      return _toConsumableArray(vector);\n    }); // deep clone\n\n    var _loop = function _loop(index) {\n      var vector = vectors[vectors.length - index];\n      var previous = vectors[vectors.length - index - 1];\n      vector.forEach(function (value, index) {\n        return previous[index] = previous[index] + value * deltaTime;\n      });\n    };\n\n    for (var index = 1; index < vectors.length; index++) {\n      _loop(index);\n    }\n\n    return vectors;\n  };\n};\n\nvar velocityFn = function velocityFn(state) {\n  var deps = state.map(function (vector) {\n    return vector.join(',');\n  });\n  var pointsFn = (0, _react.useCallback)(function () {\n    return [state];\n  }, deps);\n  var gradientFn = (0, _react.useCallback)(velocityGradientFn(), deps);\n  return [pointsFn, gradientFn];\n};\n\nexports.velocityFn = velocityFn;\n\nvar Velocity = function Velocity(_ref3) {\n  var children = _ref3.children,\n      state = _ref3.state;\n  var pipe = (0, _Gradient.useGradient).apply(void 0, _toConsumableArray(velocityFn(state)));\n  return children(pipe);\n};\n\nexports.Velocity = Velocity;\nVelocity.displayName = 'Gradient.Velocity';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"fromResize\", {\n  enumerable: true,\n  get: function get() {\n    return _resize.fromResize;\n  }\n});\nexports.UI = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _operators = require(\"rxjs/operators\");\n\nrequire(\"./index.css\");\n\nvar _resize = require(\"./resize\");\n\nvar _Renderer = require(\"../Renderer\");\n\nvar _Ticker = require(\"../Ticker\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar styleOf = function styleOf(renderer) {\n  var scaleMode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var _renderer$view = renderer.view,\n      clientWidth = _renderer$view.clientWidth,\n      clientHeight = _renderer$view.clientHeight,\n      offsetLeft = _renderer$view.offsetLeft,\n      offsetTop = _renderer$view.offsetTop;\n  if (!scaleMode) return {\n    width: clientWidth,\n    height: clientHeight,\n    left: offsetLeft,\n    top: offsetTop\n  };\n  var width = renderer.width,\n      height = renderer.height;\n  return {\n    width: width,\n    height: height,\n    transform: \"scale(\".concat(clientWidth / width, \", \").concat(clientHeight / height, \")\"),\n    left: (clientWidth - width) / 2 + offsetLeft,\n    top: (clientHeight - height) / 2 + offsetTop\n  };\n};\n\nvar UI = function UI(_ref) {\n  var id = _ref.id,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      outerStyle = _ref.style,\n      children = _ref.children,\n      scaleMode = _ref.scaleMode;\n  var renderer = (0, _Renderer.useRenderer)();\n  var styleEvent = (0, _react.useMemo)(function () {\n    return (0, _resize.fromResize)(renderer.view).pipe((0, _operators.debounceTime)(100)).pipe((0, _operators.map)(function (_) {\n      return styleOf(renderer, scaleMode);\n    }));\n  }, []);\n  var builtinStyle = (0, _Ticker.useSubscribe)(styleEvent, (0, _react.useMemo)(function () {\n    return styleOf(renderer, scaleMode);\n  }, []));\n  var style = (0, _react.useMemo)(function () {\n    return _objectSpread({}, outerStyle, {}, builtinStyle);\n  }, [outerStyle, builtinStyle]);\n  return _react.default.createElement(\"div\", {\n    id: id,\n    className: \"\".concat(className && \"\".concat(className, \" \"), \"UI\"),\n    style: style\n  }, children);\n};\n\nexports.UI = UI;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeResource = exports.Resource = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"../hooks\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n} //#region fix fuck type\n\n\nvar Resource = PIXI.LoaderResource;\nexports.Resource = Resource;\nvar Polygon = PIXI.Polygon; //#endregion\n\nvar makeResource = {\n  maker: undefined,\n  draw: function draw(object) {\n    var close = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _hooks.defaultClose;\n\n    if (this.maker == null) {\n      this.maker = new PIXI.Renderer({\n        width: 0,\n        height: 0,\n        transparent: true\n      });\n      console.warn('[Furegame]: used `makeResource` to generate temporary resources, not recommand for production envriroments.'); // eslint-disable-line no-console\n    }\n\n    var maker = this.maker; // lazy init the maker once it was used.\n\n    var _object$getBounds = object.getBounds(),\n        width = _object$getBounds.width,\n        height = _object$getBounds.height; // renderer the object\n\n\n    maker.view.width = width;\n    maker.view.height = height;\n    maker.render(object); // generate texture\n\n    var image = new Image();\n    image.src = maker.view.toDataURL();\n    var texture = new PIXI.Texture(new PIXI.BaseTexture(image)); // clean the renderer\n\n    maker.clear();\n    maker.view.width = 0;\n    maker.view.height = 0;\n    close(object);\n    return function (id, loader) {\n      if (id) {\n        if (loader) {\n          var resource = new Resource(id, \"#\".concat(id));\n          loader.resources[id] = resource;\n          resource.texture = texture;\n        }\n\n        PIXI.Texture.addToCache(texture, id);\n      }\n\n      return texture;\n    };\n  },\n  shape: function shape() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        fill = _ref.fill,\n        line = _ref.line;\n\n    var border = line && line.width ? 2 * line.width : 0;\n    return {\n      draw: function draw(shape) {\n        var graphics = new PIXI.Graphics();\n        fill ? graphics.beginFill(fill.color, fill.alpha) : graphics.beginFill(0x000000);\n        line && graphics.lineStyle(line.width, line.color, line.alpha);\n\n        if (shape instanceof Function) {\n          shape(graphics);\n        } else {\n          graphics.drawShape(shape);\n        }\n\n        return makeResource.draw(graphics);\n      },\n      circle: function circle(radius) {\n        return this.draw(new PIXI.Circle(border + radius, border + radius, radius));\n      },\n      ellipse: function ellipse(width, height) {\n        return this.draw(new PIXI.Ellipse(border + width, border + height, width, height));\n      },\n      polygon: function polygon(points) {\n        return this.draw(new Polygon(points));\n      },\n      rectangle: function rectangle(width, height) {\n        return this.draw(new PIXI.Rectangle(border, border, width, height));\n      },\n      roundedRectangle: function roundedRectangle(width, height, radius) {\n        return this.draw(new PIXI.RoundedRectangle(border, border, width, height, radius));\n      },\n      triangle: function triangle(width, height, sharp) {\n        return this.draw(new Polygon([border + sharp, border, border, border + height, border + width, border + height]));\n      },\n      star: function star(points, radius, innerRadius, rotation) {\n        return this.draw(function (graphics) {\n          return graphics.drawStar(border + radius, border + radius, points, radius, innerRadius, rotation);\n        });\n      }\n    };\n  },\n  text: function text(value, style) {\n    return makeResource.draw(new PIXI.Text(value, style));\n  }\n};\nexports.makeResource = makeResource;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useStage = exports.Stage = exports.StageContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _Container = require(\"./Container\");\n\nvar _hooks = require(\"./hooks\");\n\nvar _Renderer = require(\"./Renderer\");\n\nvar _Ticker = require(\"./Ticker\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar StageContext = _Container.ContainerContext; // `Stage` is just alias of `Container`\n\nexports.StageContext = StageContext;\n\nvar Stage = function Stage(_ref) {\n  var children = _ref.children;\n  var container = (0, _hooks.useCloseable)(function () {\n    return new PIXI.Container();\n  });\n  return _react.default.createElement(StageContext.Provider, {\n    value: container\n  }, children);\n};\n\nexports.Stage = Stage;\nvar useStage = _Container.useContainer;\n/** `LazyRefresh` would refresh the `stage` only if the node was re-rendered. */\n\nexports.useStage = useStage;\n\nStage.LazyRefresh = function () {\n  var stage = useStage();\n  var renderer = (0, _Renderer.useRenderer)();\n  var ticker = (0, _Ticker.useTicker)();\n  var subRef = (0, _react.useRef)(null);\n  subRef.current = ticker.once(function () {\n    return renderer.render(stage);\n  });\n  (0, _react.useEffect)(function () {\n    return function () {\n      subRef.current && subRef.current.unsubscribe();\n    };\n  }, []);\n  return null;\n};\n\nStage.LazyRefresh.displayName = 'Stage.LazyRefresh'; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n/** `TickRefresh` would refresh the `stage` each time the ticker frame updated. */\n\nStage.TickRefresh = function () {\n  var stage = useStage();\n  var renderer = (0, _Renderer.useRenderer)();\n  var ticker = (0, _Ticker.useTicker)();\n  (0, _react.useEffect)(function () {\n    var sub = ticker.each(function () {\n      return renderer.render(stage);\n    });\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, []);\n  return null;\n};\n\nStage.TickRefresh.displayName = 'Stage.TickRefresh'; // eslint-disable-line @typescript-eslint/no-explicit-any","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Gradient = void 0;\n\nvar Gradient = _interopRequireWildcard(require(\"./Gradient\"));\n\nexports.Gradient = Gradient;\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}","\"use strict\";\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _console;\n\nvar _package = _interopRequireDefault(require(\"../package.json\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/** `..` path imported from `.ts` would broken the output dir structure */\n\n\nvar pkgInfo = [\"%c\".concat(\"Furegame \".concat(_package.default.version), \"%c\"), \"%c\".concat(_package.default.author, \"%c\"), '\\n', \"%c\".concat(_package.default.license, \"%c\"), \"%c\".concat(_package.default.homepage, \"%c\"), '\\n'].join('');\nvar padding = 'padding: 0.2em 0.5em;';\nvar style = [\"background: #6cf; color: #fff; \".concat(padding), ''].concat([\"color: #6cc; \".concat(padding), ''], [], [\"background: #e00; color: #9ff; \".concat(padding), ''], [\"\".concat(padding), ''], []);\nif (typeof window === 'undefined') console.info(pkgInfo.replace(/%c/g, ' * ')); // eslint-disable-line no-console\nelse (_console = console).info.apply(_console, [pkgInfo].concat(_toConsumableArray(style))); // eslint-disable-line no-console","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _compare = require(\"./compare\");\n\nObject.keys(_compare).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _compare[key];\n    }\n  });\n});\n\nvar _TreeSet = require(\"./TreeSet\");\n\nObject.keys(_TreeSet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _TreeSet[key];\n    }\n  });\n});","\"use strict\";\n\nvar _classCallCheck = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TreeSet = exports.binarySearch = void 0;\n\nvar _compare = require(\"./compare\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar binarySearch = function binarySearch(comparator, elements, target) {\n  var left = 0;\n  var right = elements.length - 1;\n\n  while (left <= right) {\n    var middle = left + right >> 1;\n    var cmp = comparator(elements[middle], target);\n\n    if (cmp < 0) {\n      left = middle + 1;\n    } else if (cmp > 0) {\n      right = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  return left;\n};\n\nexports.binarySearch = binarySearch;\n\nvar TreeSet =\n/*#__PURE__*/\nfunction () {\n  function TreeSet() {\n    var comparator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _compare.compareNature)();\n    var elements = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, TreeSet);\n\n    _defineProperty(this, \"elements\", []);\n\n    _defineProperty(this, \"comparator\", void 0);\n\n    this.comparator = comparator;\n    elements && this.pushAll(elements);\n  }\n\n  _createClass(TreeSet, [{\n    key: \"top\",\n\n    /**\r\n     * get and remove the head element\r\n     */\n    value: function top() {\n      if (this.isEmpty) return undefined;\n      return this.elements.splice(0, 1)[0];\n    }\n    /**\r\n     * get and remove the last element\r\n     */\n\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      if (this.isEmpty) return undefined;\n      return this.elements.splice(this.size - 1, 1)[0];\n    }\n  }, {\n    key: \"push\",\n    value: function push(element) {\n      var index = binarySearch(this.comparator, this.elements, element);\n      this.elements.splice(index, 0, element);\n    }\n  }, {\n    key: \"pushAll\",\n    value: function pushAll(elements) {\n      var _this = this;\n\n      elements.forEach(function (element) {\n        return _this.push(element);\n      });\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.elements.length;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      return this.elements.length === 0;\n    }\n  }, {\n    key: \"head\",\n    get: function get() {\n      return this.elements[0];\n    }\n  }, {\n    key: \"last\",\n    get: function get() {\n      return this.elements[this.size - 1];\n    }\n  }]);\n\n  return TreeSet;\n}();\n\nexports.TreeSet = TreeSet;","\"use strict\";\n\nvar _classCallCheck = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Ticker = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _Core = require(\"./Core\");\n\nvar _rx = require(\"./rx\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar requestTimer = typeof window === 'undefined' ? function () {\n  var start = new Date().getTime();\n  return function (cb) {\n    return setTimeout(function () {\n      return cb(new Date().getTime() - start);\n    }, 1000 / 60);\n  };\n}() : function () {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var g = window; // eslint-disable-line no-undef\n  // if ((g.performance && g.performance.now) instanceof Function) {\n  //   return cb => g.requestAnimationFrame(() => cb(g.performance.now()));\n  // }\n\n  return g.requestAnimationFrame;\n}();\n\nvar Ticker =\n/*#__PURE__*/\nfunction () {\n  _createClass(Ticker, [{\n    key: \"each\",\n    // execute `fn` each tick.\n    value: function each(fn) {\n      this._running || this.autoStart && this.start();\n      return this.pipe().subscribe(fn);\n    } // execute `fn` once at next tick.\n\n  }, {\n    key: \"once\",\n    value: function once(fn) {\n      this._running || this.autoStart && this.start();\n      return this.pipe((0, _operators.take)(1)).subscribe(fn);\n    }\n  }, {\n    key: \"start\",\n    //#endregion\n    //#region controller\n    // start ticker\n    value: function start() {\n      return this.core.events.start();\n    } // pause ticker\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      return this.core.events.pause();\n    } //#endregion\n\n    /**\r\n     * Ticker.\r\n     * if you create a new `Ticker`, then in most time you shoud registered it into `main` app by `pipeCore`.\r\n     * @param id .\r\n     * @param autoStart if `true` it would invoke `start()` automatically when `each`, `once` was called.\r\n     * @param syncPeriod default is `100`, it will sync timer betweenn browser and back-end each `syncPeriod` millisecond.\r\n     */\n\n  }, {\n    key: \"now\",\n    //#region timer\n    get: function get() {\n      return this.time.now + this.time.offset;\n    }\n    /** now - pauseTime */\n\n  }, {\n    key: \"runTime\",\n    get: function get() {\n      return this.time.run;\n    }\n    /** now - lastTime, `0` if ticker not running. */\n\n  }, {\n    key: \"deltaTime\",\n    get: function get() {\n      return this.time.delta;\n    }\n  }, {\n    key: \"FPS\",\n    get: function get() {\n      if (!this.time.delta) return 0;\n      return 1000 / this.time.delta;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    }\n  }]);\n\n  function Ticker(id) {\n    var _this = this;\n\n    var autoStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var syncPeriod = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n\n    _classCallCheck(this, Ticker);\n\n    _defineProperty(this, \"id\", void 0);\n\n    _defineProperty(this, \"time\", {\n      now: 0,\n      offset: 0,\n      run: 0,\n      delta: 0\n    });\n\n    _defineProperty(this, \"autoStart\", void 0);\n\n    _defineProperty(this, \"pipe\", void 0);\n\n    _defineProperty(this, \"_running\", false);\n\n    _defineProperty(this, \"core\", void 0);\n\n    this.id = id;\n    this.autoStart = autoStart; //#region init core\n\n    var core = function () {\n      var subject = new _rxjs.Subject();\n      var events = {\n        start: function start() {\n          return subject.next({\n            running: true\n          });\n        },\n        pause: function pause() {\n          return subject.next({\n            running: false\n          });\n        },\n        sync: function sync(offset) {\n          return subject.next({\n            time: {\n              offset: offset\n            }\n          });\n        }\n      };\n      return new _Core.Core(\"_FURE_CORE_TICKER-\".concat(id), events, subject);\n    }();\n\n    this.core = core; //#endregion\n    //#region init timer\n\n    var timer = new _rxjs.Subject();\n\n    var render = function render(now) {\n      var delta = now - _this.time.now;\n      _this.time.now = now;\n      _this.time.delta = 0;\n      if (!_this._running) return;\n      requestTimer(render);\n\n      if (render.skipOnBack) {\n        render.skipOnBack = false; // eslint-disable-next-line no-console\n\n        console.info(\"timer#\".concat(id, \" skipped a frame about \").concat(delta, \"ms because the window has hide.\"));\n        return;\n      }\n\n      if (delta <= 0 || delta > 1000) return;\n      _this.time.delta = delta;\n      _this.time.run += delta;\n      timer.next(delta);\n    };\n\n    core.pipe((0, _rx.pick)('running')).subscribe(function (running) {\n      _this._running = running;\n      running && requestTimer(render);\n    });\n    this.pipe = timer.pipe.bind(timer); //#endregion\n    //#region sync ticker\n    // backend.now == browser.now == browser.time.now + browser.time.offset\n\n    if (typeof window === 'undefined') {\n      syncPeriod > 0 && timer.pipe((0, _operators.throttleTime)(syncPeriod, _rxjs.asyncScheduler, {\n        leading: true,\n        trailing: false\n      })).subscribe(function (_delta) {\n        return core.events.sync(new Date().getTime() - _this.time.now);\n      });\n    } else {\n      core.pipe((0, _rx.pick)('time')).subscribe(function (_ref) {\n        var offset = _ref.offset;\n        return _this.time.offset = new Date().getTime() - _this.time.now - offset;\n      }); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      var g = window; // eslint-disable-line no-undef\n      // listen visibility change event to skip the first frame after the window changed.\n\n      (0, _rxjs.fromEvent)(g, 'visibilitychange').pipe((0, _operators.filter)(function () {\n        return g.document.visibilityState === 'visible';\n      })).subscribe(function (_visibile) {\n        return render.skipOnBack = true;\n      });\n      render.skipOnBack = false;\n    } //#endregion\n\n  }\n\n  return Ticker;\n}();\n\nexports.Ticker = Ticker;\n\n_defineProperty(Ticker, \"shared\", new Ticker('shared', true));","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useSubscribe = exports.Subscribe = void 0;\n\nvar _react = require(\"react\");\n\nvar Subscribe = function Subscribe(_ref) {\n  var source = _ref.source,\n      update = _ref.update;\n  (0, _react.useEffect)(function () {\n    var sub = (source instanceof Function ? source() : source).subscribe(update);\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, [source]);\n  return null;\n};\n\nexports.Subscribe = Subscribe;\n\nvar useSubscribe = function useSubscribe(source, init) {\n  var deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  var _ref2 = (0, _react.useState)(init),\n      _ref3 = _slicedToArray(_ref2, 2),\n      snapshot = _ref3[0],\n      setSnapshot = _ref3[1];\n\n  (0, _react.useEffect)(function () {\n    var subcription = (source instanceof Function ? source() : source).subscribe(setSnapshot);\n    return function () {\n      return subcription.unsubscribe();\n    };\n  }, deps);\n  (0, _react.useDebugValue)(snapshot, JSON.stringify);\n  return snapshot;\n};\n\nexports.useSubscribe = useSubscribe;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Simple = exports.simpleFn = void 0;\n\nvar _react = require(\"react\");\n\nvar _Gradient = require(\"./Gradient\");\n\nvar simplePointsFn = function simplePointsFn(state) {\n  return function (ticker, points) {\n    return [{\n      state: state,\n      time: ticker.now\n    }].concat(_toConsumableArray(points.slice(0, 1)));\n  };\n};\n\nvar simpleGradientFn = function simpleGradientFn() {\n  return function (ticker, _ref, state) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        point0 = _ref2[0],\n        point1 = _ref2[1];\n\n    if (point1 == null) return 0;\n    if (state === point0.state) return point0.state;\n    var remain = point0.time - point1.time - (ticker.now - point0.time);\n    var interp = state + (point0.state - state) / remain * ticker.deltaTime;\n    return Math.max(state, Math.min(interp, point0.state));\n  };\n};\n\nvar simpleFn = function simpleFn(state) {\n  var pointsFn = (0, _react.useCallback)(simplePointsFn(state), [state]);\n  var gradientFn = (0, _react.useCallback)(simpleGradientFn(), []);\n  return [pointsFn, gradientFn];\n};\n\nexports.simpleFn = simpleFn;\n\nvar Simple = function Simple(_ref3) {\n  var children = _ref3.children,\n      state = _ref3.state;\n  var pipe = (0, _Gradient.useGradient).apply(void 0, _toConsumableArray(simpleFn(state)));\n  return children(pipe);\n};\n\nexports.Simple = Simple;\nSimple.displayName = 'Gradient.Simple';","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Circular = void 0;\n\nvar _react = require(\"react\");\n\nvar _Velocity = require(\"./Velocity\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar Circular = function Circular(_ref) {\n  var children = _ref.children,\n      state = _ref.state;\n  var position = state.position,\n      rotate = state.rotate,\n      frames = state.frames,\n      distance = state.distance,\n      direction = state.direction;\n  var velocityState = (0, _react.useMemo)(function () {\n    return [[0, rotate, frames, distance, direction].concat(_toConsumableArray(position)), [rotate / frames]];\n  }, [rotate, frames, distance, direction].concat(_toConsumableArray(position)));\n\n  var decorate = function decorate(children) {\n    return function (pipe) {\n      var obs = pipe((0, _operators.map)(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 1),\n            _ref3$ = _slicedToArray(_ref3[0], 7),\n            offset = _ref3$[0],\n            rotate = _ref3$[1],\n            frames = _ref3$[2],\n            distance = _ref3$[3],\n            direction = _ref3$[4],\n            positionX = _ref3$[5],\n            positionY = _ref3$[6];\n\n        var halfRotate = rotate / 2;\n        var velocity = distance / Math.sin(halfRotate) / 2;\n        var initial = direction - halfRotate;\n        var x = positionX + velocity * (Math.cos(initial) * Math.sin(offset) + Math.sin(initial) * Math.cos(offset) - Math.sin(initial));\n        var y = positionY + velocity * (Math.sin(initial) * Math.sin(offset) - Math.cos(initial) * Math.cos(offset) + Math.cos(initial));\n        var angle = initial + offset;\n        return {\n          x: x,\n          y: y,\n          angle: angle,\n          rotate: rotate,\n          frames: frames,\n          distance: distance,\n          direction: direction,\n          position: position\n        };\n      }));\n      return children(obs.pipe.bind(obs));\n    };\n  };\n\n  return (0, _Velocity.Velocity)({\n    state: velocityState,\n    children: decorate(children)\n  });\n};\n\nexports.Circular = Circular;\nCircular.displayName = 'Gradient.Circular';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  Matter: true\n};\nexports.Matter = void 0;\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nexports.Matter = Matter;\n\nvar _Composite = require(\"./Composite\");\n\nObject.keys(_Composite).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Composite[key];\n    }\n  });\n});\n\nvar _Constraint = require(\"./Constraint\");\n\nObject.keys(_Constraint).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Constraint[key];\n    }\n  });\n});\n\nvar _Body = require(\"./Body\");\n\nObject.keys(_Body).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Body[key];\n    }\n  });\n});\n\nvar _World = require(\"./World\");\n\nObject.keys(_World).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _World[key];\n    }\n  });\n});\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}","\"use strict\";\n\nvar _regeneratorRuntime = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nvar _asyncToGenerator = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/asyncToGenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Constraint = void 0;\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _World = require(\"./World\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _react = require(\"react\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar Constraint = function Constraint(props) {\n  var world = (0, _World.useWorld)();\n  (0, _hooks.useCloseableAsync)(\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2(closeRef) {\n      var options, tasks, constraint;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              options = {};\n              tasks = Object.entries(props).map(\n              /*#__PURE__*/\n              function () {\n                var _ref3 = _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee(_ref2) {\n                  var _ref4, key, promise;\n\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _ref4 = _slicedToArray(_ref2, 2), key = _ref4[0], promise = _ref4[1];\n\n                          if (!(promise == null)) {\n                            _context.next = 3;\n                            break;\n                          }\n\n                          return _context.abrupt(\"return\");\n\n                        case 3:\n                          _context.next = 5;\n                          return promise;\n\n                        case 5:\n                          options[key] = _context.sent;\n\n                        case 6:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n              _context2.next = 4;\n              return Promise.all(tasks);\n\n            case 4:\n              constraint = Matter.Constraint.create(options);\n              closeRef.current || Matter.World.add(world, constraint);\n              return _context2.abrupt(\"return\", constraint);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), function (constraint) {\n    return Matter.World.remove(world, constraint);\n  });\n  return null;\n};\n\nexports.Constraint = Constraint;\n\nConstraint.useRefs = function (keys) {\n  var promiseRefs = (0, _react.useMemo)(function () {\n    var newPromiseRef = function newPromiseRef() {\n      var value = null;\n      var setValue;\n      var promise = new Promise(function (resolve) {\n        return setValue = resolve;\n      });\n      return {\n        set current(instance) {\n          value = instance;\n          instance == null || setValue(instance);\n        },\n\n        get current() {\n          return value;\n        },\n\n        then: promise.then.bind(promise)\n      };\n    };\n\n    return keys.reduce(function (acc, key) {\n      acc[key] = newPromiseRef(); // eslint-disable-line @typescript-eslint/no-explicit-any\n\n      return acc;\n    }, {});\n  }, []);\n  return promiseRefs;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mouse = void 0;\n\nvar _react = require(\"react\");\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _World = require(\"./World\");\n\nvar _Renderer = require(\"../Renderer\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar eventNames = ['mousedown', 'mousemove', 'enddrag', 'mouseup'];\n\nvar Mouse = function Mouse(_ref) {\n  var _ref$events = _ref.events,\n      events = _ref$events === void 0 ? {} : _ref$events;\n  var renderer = (0, _Renderer.useRenderer)();\n  var engine = (0, _World.useEngine)();\n  var mouseConstraint = (0, _react.useMemo)(function () {\n    var mouse = Matter.Mouse.create(renderer.view);\n    engine.render && (engine.render.mouse = mouse); // eslint-disable-line @typescript-eslint/no-explicit-any\n\n    var constraint = {\n      stiffness: 0.2,\n      render: {\n        visible: false\n      }\n    }; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n    return Matter.MouseConstraint.create(engine, {\n      mouse: mouse,\n      constraint: constraint\n    });\n  }, []);\n  (0, _react.useEffect)(function () {\n    Matter.World.add(engine.world, mouseConstraint.constraint);\n    return function () {\n      Matter.World.remove(engine.world, mouseConstraint.constraint);\n    };\n  }, [engine]);\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(mouseConstraint, name, callback);\n      return function () {\n        return Matter.Events.off(mouseConstraint, name, callback);\n      };\n    }, [events[name]]);\n  });\n  return null;\n};\n\nexports.Mouse = Mouse;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fromResize = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar fromResize = function fromResize(element) {\n  var ResizeObserver = window.ResizeObserver; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  if (typeof ResizeObserver === 'undefined') {\n    return (0, _rxjs.fromEvent)(window, 'resize');\n  }\n\n  var observer;\n  return (0, _rxjs.fromEventPattern)(function (handler) {\n    observer = new ResizeObserver(handler);\n    observer.observe(element);\n  }, function (_handler) {\n    observer.unobserve(element);\n  });\n};\n\nexports.fromResize = fromResize;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Body = void 0;\n\nvar _react = require(\"react\");\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nrequire(\"./set-poly-decomp\");\n\nvar _Sprite = require(\"../Sprite\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _View = require(\"../UI/View\");\n\nvar _Composite = require(\"./Composite\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n} // `Matter.Bodies.fromVertices` dependence `poly-decomp` to decomposed concave vertices.\n\n\nvar eventNames = ['sleepStart', 'sleepEnd'];\n\nvar BodyComponent = function BodyComponent(_ref, ref) {\n  var useBody = _ref.useBody,\n      _ref$events = _ref.events,\n      events = _ref$events === void 0 ? {} : _ref$events,\n      isSleeping = _ref.isSleeping,\n      isStatic = _ref.isStatic,\n      isSensor = _ref.isSensor;\n  var body = useBody();\n  var composite = (0, _Composite.useComposite)();\n  (0, _react.useEffect)(function () {\n    Matter.Composite.add(composite, body);\n    (0, _View.setRef)(ref, body);\n    return function () {\n      Matter.Composite.remove(composite, body);\n    };\n  }, []);\n  if (isSleeping != null && isSleeping != body.isSleeping) Matter.Sleeping.set(body, isSleeping);\n  if (isStatic != null && isStatic != body.isStatic) Matter.Body.setStatic(body, isStatic);\n  if (isSensor != null && isSensor != body.isSensor) body.isSensor = isSensor;\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(body, name, callback);\n      return function () {\n        return Matter.Events.off(body, name, callback);\n      };\n    }, [events[name]]);\n  });\n  return null;\n};\n\nBodyComponent.displayName = 'Body';\n\nvar SpriteBody = function SpriteBody(newBody) {\n  return {\n    useBody: function useBody() {\n      var sprite = (0, _Sprite.useSprite)();\n      var body = (0, _react.useMemo)(function () {\n        if (sprite == null) throw new Error('`Sprite` context not found for create `Physics.Body`');\n        return newBody(sprite);\n      }, [sprite]);\n      var ticker = (0, _Ticker.useTicker)();\n      (0, _react.useEffect)(function () {\n        if (body.isStatic) return;\n        Matter.Body.setVelocity(body, body.velocity);\n        var sub = ticker.each(function (_delta) {\n          // if (body.id === 100) console.log(body.velocity);\n          sprite.rotation = body.angle;\n          sprite.position.x = body.position.x;\n          sprite.position.y = body.position.y;\n        });\n        return function () {\n          return sub.unsubscribe();\n        };\n      }, [body.isStatic]);\n      return body;\n    }\n  };\n}; // eslint-disable-next-line @typescript-eslint/no-empty-interface\n\n\nvar SpriteCircle = function SpriteCircle(options) {\n  return SpriteBody(function (_ref2) {\n    var x = _ref2.x,\n        y = _ref2.y,\n        width = _ref2.width;\n    return Matter.Bodies.circle(x, y, width / 2, options);\n  });\n};\n\nvar SpriteRectangle = function SpriteRectangle(options) {\n  return SpriteBody(function (_ref3) {\n    var x = _ref3.x,\n        y = _ref3.y,\n        width = _ref3.width,\n        height = _ref3.height;\n    return Matter.Bodies.rectangle(x, y, width, height, options);\n  });\n};\n\nvar SpritePath = function SpritePath(points, options) {\n  var newBody = function newBody(sprite) {\n    var vertices = [points(sprite).map(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          x = _ref5[0],\n          y = _ref5[1];\n\n      return Matter.Vector.create(x, y);\n    })];\n    return Matter.Bodies.fromVertices(sprite.x, sprite.y, vertices, options);\n  };\n\n  return SpriteBody(newBody);\n};\n\nvar SpriteTriangle = function SpriteTriangle(options) {\n  return SpritePath(function (_ref6) {\n    var width = _ref6.width,\n        height = _ref6.height;\n    return [[width / 2, 0], [0, height], [width, height]];\n  }, options);\n};\n\nvar Body = (0, _react.forwardRef)(BodyComponent);\nexports.Body = Body;\nBody.Sprite = SpriteBody;\nBody.SpriteCircle = SpriteCircle;\nBody.SpriteRectangle = SpriteRectangle;\nBody.SpritePath = SpritePath;\nBody.SpriteTriangle = SpriteTriangle;\nBody.nextCategory = Matter.Body.nextCategory;\nBody.nextGroup = Matter.Body.nextGroup;","\"use strict\";\n\nvar _polyDecomp = _interopRequireDefault(require(\"poly-decomp\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nwindow.decomp = _polyDecomp.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AnimatedSprite = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _Sprite = require(\"./Sprite\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar AnimatedSprite = (0, _Sprite.createSprite)('AnimatedSprite', function (_ref) {\n  var textures = _ref.textures,\n      autoUpdate = _ref.autoUpdate;\n  return new PIXI.AnimatedSprite(textures, autoUpdate);\n}, function (sprite, _ref2) {\n  var textures = _ref2.textures,\n      _ref2$playing = _ref2.playing,\n      playing = _ref2$playing === void 0 ? true : _ref2$playing,\n      _ref2$loop = _ref2.loop,\n      loop = _ref2$loop === void 0 ? true : _ref2$loop,\n      _ref2$animationSpeed = _ref2.animationSpeed,\n      animationSpeed = _ref2$animationSpeed === void 0 ? 1 : _ref2$animationSpeed;\n  if (textures !== sprite.textures) sprite.textures = textures;\n  if (playing !== sprite.playing) playing ? sprite.play() : sprite.stop();\n  if (loop !== sprite.loop) sprite.loop = loop;\n  if (animationSpeed !== sprite.animationSpeed) sprite.animationSpeed = animationSpeed;\n});\nexports.AnimatedSprite = AnimatedSprite;","\"use strict\";\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MovableSprite = exports.FreeMoveSprite = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _ = require(\".\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _Sprite = require(\"./Sprite\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar FreeMoveSprite = function FreeMoveSprite(_ref) {\n  var textures = _ref.textures,\n      source = _ref.source,\n      children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"textures\", \"source\", \"children\"]);\n\n  return _react.default.createElement(_.AnimatedSprite, _extends({}, props, {\n    textures: textures\n  }), children, _react.default.createElement(_Sprite.SpriteContext.Consumer, null, function (sprite) {\n    return sprite instanceof PIXI.AnimatedSprite && _react.default.createElement(_Ticker.Subscribe, {\n      source: source,\n      update: function update(_ref3) {\n        var position = _ref3.position,\n            rotation = _ref3.rotation;\n        sprite.position.x = position.x;\n        sprite.position.y = position.y;\n        if ('degree' in rotation && rotation.degree !== sprite.angle) sprite.angle = rotation.degree;else if ('radian' in rotation && rotation.radian !== sprite.rotation) sprite.rotation = rotation.radian;\n      }\n    });\n  }));\n}; //#endregion\n//#region limited direction move\n\n\nexports.FreeMoveSprite = FreeMoveSprite;\n\nvar MovableSprite = function MovableSprite(_ref2) {\n  var animId = _ref2.animId,\n      textures = _ref2.textures,\n      source = _ref2.source,\n      children = _ref2.children,\n      props = _objectWithoutProperties(_ref2, [\"animId\", \"textures\", \"source\", \"children\"]);\n\n  var id = animId instanceof Function ? animId(0, 0) : animId;\n  return _react.default.createElement(_.AnimatedSprite, _extends({}, props, {\n    textures: id === undefined ? textures : textures[id]\n  }), children, _react.default.createElement(_Sprite.SpriteContext.Consumer, null, function (sprite) {\n    return sprite instanceof PIXI.AnimatedSprite && _react.default.createElement(_Ticker.Subscribe, {\n      source: source,\n      update: function update(_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            _ref5$ = _slicedToArray(_ref5[0], 2),\n            x = _ref5$[0],\n            y = _ref5$[1],\n            velocity = _ref5[1];\n\n        sprite.position.x = x;\n        sprite.position.y = y;\n        var id = animId instanceof Function ? animId.apply(void 0, _toConsumableArray(velocity)) : animId;\n        if (id === undefined || textures[id] === sprite.textures) return;\n        var playing = sprite.playing;\n        sprite.textures = textures[id];\n        playing && sprite.play();\n      }\n    });\n  }));\n};\n\nexports.MovableSprite = MovableSprite;\nMovableSprite.UDLR = {\n  animId: function animId(vx, vy) {\n    return vx === 0 ? vy === 0 ? 'idle' : vy < 0 ? 'up' : 'down' : vx < 0 ? 'left' : 'right';\n  }\n};\n\nMovableSprite.toUDLR = function (textures) {\n  var eachSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  return {\n    idle: textures.slice(0, eachSize),\n    up: textures.slice(1 * eachSize, 2 * eachSize),\n    down: textures.slice(2 * eachSize, 3 * eachSize),\n    left: textures.slice(3 * eachSize, 4 * eachSize),\n    right: textures.slice(4 * eachSize, 5 * eachSize)\n  };\n}; //#endregion","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  Texture: true,\n  BLEND_MODES: true\n};\nObject.defineProperty(exports, \"Texture\", {\n  enumerable: true,\n  get: function get() {\n    return _pixi.Texture;\n  }\n});\nObject.defineProperty(exports, \"BLEND_MODES\", {\n  enumerable: true,\n  get: function get() {\n    return _pixi.BLEND_MODES;\n  }\n});\n\nvar _pixi = require(\"pixi.js\");\n\nvar _make = require(\"./make\");\n\nObject.keys(_make).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _make[key];\n    }\n  });\n});\n\nvar _THColors = require(\"./THColors\");\n\nObject.keys(_THColors).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _THColors[key];\n    }\n  });\n});\n\nvar _use = require(\"./use\");\n\nObject.keys(_use).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _use[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.THColors = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar newColor = function newColor(value, data) {\n  var color = value.toString(16);\n  if (value > 0xFFFFFFFF) throw new Error(\"color value overflow: \".concat(color));\n  var A = value & 0xFF;\n  var rgb = value >>> 8;\n  var B = rgb & 0xFF;\n  var rg = rgb >>> 8;\n  var G = rg & 0xFF;\n  var R = rg >>> 8;\n  var image = new Image();\n  image.src = data;\n  var texture = new PIXI.Texture(new PIXI.BaseTexture(image));\n  return {\n    value: value,\n    data: data,\n    hex: \"#\".concat(value.toString(16)),\n    rgb: rgb,\n    alpha: A,\n    rgba: {\n      R: R,\n      G: G,\n      B: B,\n      A: A\n    },\n    image: image,\n    texture: texture\n  };\n};\n\nvar THColors = {\n  /** red */\n  Reimu: newColor(0xCB1B45ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2M8Le36nwEPYBwZCgDiuxFZv0b9QAAAAABJRU5ErkJggg=='),\n\n  /** black */\n  Marisa: newColor(0x1C1C1Cff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2OUkZH5z4AHMI4MBQAGEgqh6nJAewAAAABJRU5ErkJggg=='),\n\n  /** yellow */\n  Alice: newColor(0xE98B2Aff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2N82a31nwEPYBwZCgDzHRTxpXyovQAAAABJRU5ErkJggg=='),\n\n  /** baka */\n  Cirno: newColor(0x58B2DCff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2OM2HTnPwMewDgyFAAAMsMXMXWBeqIAAAAASUVORK5CYII='),\n\n  /** white */\n  Sakuya: newColor(0xFCFAF2ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2P88+vTfwY8gHFkKAAA1JcfQVtkt10AAAAASUVORK5CYII='),\n\n  /** green */\n  Youmu: newColor(0x227D51ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2NUqg38z4AHMI4MBQDO6A+BFQpJiAAAAABJRU5ErkJggg=='),\n\n  /** sakura */\n  Yuyuko: newColor(0xFEDFE1ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2P8d//hfwY8gHFkKAAAFOcd8YzlO0MAAAAASUVORK5CYII='),\n\n  /** purple */\n  Yakumo: newColor(0x4A225Dff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2P0Uor9z4AHMI4MBQAdPA5J0HdVbgAAAABJRU5ErkJggg==')\n};\nexports.THColors = THColors;","\"use strict\";\n\nvar _defineProperty2 = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/defineProperty\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useResource = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _make = require(\"./make\");\n\nvar _react = require(\"react\");\n\nvar _Loader = require(\"../Loader\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _rxjs = require(\"rxjs\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar useResource = function useResource(options, complete, unmount) {\n  var resource = (0, _react.useMemo)(function () {\n    return {};\n  }, []);\n  var loader = (0, _Loader.useLoader)();\n  var completed = (0, _hooks.useCloseableAsync)(function (closeRef) {\n    // tasks of making and loading resources\n    var tasks = Object.entries(options).map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          name = _ref2[0],\n          option = _ref2[1];\n\n      return option instanceof Function ? // make resource\n      Promise.resolve(option(_make.makeResource)) // make resource\n      .then(function (save) {\n        return closeRef.current || save(name, loader);\n      }) // save resource\n      .then(function () {\n        closeRef.current || loader.emit('load', loader, loader.resources[name]);\n      }) // emit load succeed event\n      .catch(function (error) {\n        if (loader.resources[name] == null) {\n          // make failed resource\n          var _resource = new _make.Resource(name, \"#\".concat(name));\n\n          _resource.error = error;\n          loader.resources[name] = _resource;\n        }\n\n        closeRef.current || loader.emit('error', error, loader, loader.resources[name]); // emit load failed event\n\n        throw error;\n      }).finally(function () {\n        return loader.emit('progress', loader, loader.resources[name]);\n      }) //emit load finish event\n      : // load resource\n      Promise.resolve(option).then(function (_ref3) {\n        var url = _ref3.url,\n            options = _ref3.options,\n            callback = _ref3.callback;\n        closeRef.current || loader.add(name, url, options, callback);\n      });\n    }); // load finished callback\n\n    var onLoad = function onLoad(resolve) {\n      return function () {\n        Object.defineProperties(resource, Object.keys(options).map(function (name) {\n          return _defineProperty2({}, name, {\n            configurable: true,\n            enumerable: true,\n            get: function get() {\n              return loader.resources[name];\n            }\n          });\n        }).reduce(function (dict, props) {\n          return _objectSpread({}, dict, {}, props);\n        }, {}));\n        return (0, _rxjs.timer)(0).toPromise() // the `width` and `height` has not set after first loaded, delay it to the next event loop.\n        .then(function () {\n          return complete && complete(resource);\n        }).then(function () {\n          return resolve(true);\n        });\n      };\n    }; // waits all tasks finished\n\n\n    return Promise.all(tasks).then(function () {\n      return closeRef.current || new Promise(function (resolve) {\n        return loader.load(onLoad(resolve));\n      });\n    });\n  }, function (_completed) {\n    unmount && unmount();\n    loader.reset();\n    PIXI.utils.clearTextureCache();\n  });\n  (0, _react.useDebugValue)(completed, function (completed) {\n    return completed ? 'finished' : 'loading';\n  });\n  return completed ? resource : null;\n};\n\nexports.useResource = useResource;\n\nuseResource.query = function (resource) {\n  return (0, _react.useMemo)(function () {\n    if (resource == null) return function (_field) {\n      return {};\n    };\n    return function (field) {\n      return Object.entries(resource).reduce(function (dict, _ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            name = _ref6[0],\n            value = _ref6[1];\n\n        return _objectSpread({}, dict, _defineProperty2({}, name, value[field]));\n      }, {});\n    };\n  }, [resource]);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useApp = exports.App = exports.AppContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nvar _Renderer = require(\"./Renderer\");\n\nvar _Loader = require(\"./Loader\");\n\nvar _Stage = require(\"./Stage\");\n\nvar _Ticker = require(\"./Ticker\");\n\nvar _View = require(\"./UI/View\");\n\nvar _core = require(\"@fure/core\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar AppContext = (0, _react.createContext)(undefined);\nexports.AppContext = AppContext;\nAppContext.displayName = 'App';\nvar App = (0, _View.withView)('App', function (_ref) {\n  var children = _ref.children,\n      create = _ref.create,\n      _ref$ticker = _ref.ticker,\n      ticker = _ref$ticker === void 0 ? _core.Ticker.shared : _ref$ticker,\n      resizeTo = _ref.resizeTo;\n  var view = (0, _react.useContext)(_View.ViewContext);\n  var app = (0, _hooks.useCloseable)(function () {\n    var app = create ? create(view) : new PIXI.Application({\n      view: view\n    });\n    app.ticker = null;\n    return app;\n  });\n\n  if (resizeTo != null && resizeTo !== app.resizeTo) {\n    app.resizeTo = resizeTo;\n    app.resize();\n  }\n\n  return _react.default.createElement(AppContext.Provider, {\n    value: app\n  }, _react.default.createElement(_Loader.LoaderContext.Provider, {\n    value: app.loader\n  }, _react.default.createElement(_Renderer.RendererContext.Provider, {\n    value: app.renderer\n  }, _react.default.createElement(_Stage.StageContext.Provider, {\n    value: app.stage\n  }, _react.default.createElement(_Ticker.TickerController, {\n    ticker: ticker\n  }, children, _react.default.createElement(_Stage.Stage.TickRefresh, null))))));\n}, {\n  Creator: function Creator(options) {\n    return (0, _react.useMemo)(function () {\n      return {\n        create: function create(view) {\n          return new PIXI.Application(_objectSpread({\n            view: view\n          }, options));\n        }\n      };\n    }, []);\n  }\n});\nexports.App = App;\n\nvar useApp = function useApp() {\n  return (0, _react.useContext)(AppContext);\n};\n\nexports.useApp = useApp;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Progress = Progress;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _ = require(\".\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction Progress(_ref) {\n  var completed = _ref.completed,\n      children = _ref.children,\n      Indicator = _ref.indicator;\n  var loader = (0, _.useLoader)();\n\n  var _ref2 = (0, _react.useState)(undefined),\n      _ref3 = _slicedToArray(_ref2, 2),\n      loaded = _ref3[0],\n      setLoaded = _ref3[1];\n\n  (0, _react.useEffect)(function () {\n    var progress = function progress(_loader, resource) {\n      return setLoaded(resource);\n    };\n\n    loader.on('progress', progress);\n    return function () {\n      loader.removeListener('progress', progress);\n    };\n  }, []);\n  return _react.default.createElement(_react.default.Fragment, null, completed ? children : Indicator == null ? null : _react.default.createElement(Indicator, {\n    progress: loader.progress,\n    resource: loaded\n  }));\n}","import { useCallback, useState } from 'react';\r\n\r\n/**\r\n * @template T\r\n * @param {keyof T} [init] .\r\n * @param {T} [mapper] .\r\n * @returns {[keyof T | T[keyof T], (value: keyof T) => void]}\r\n */\r\nexport function useSelect(init, mapper) {\r\n  const [selected, setSeleted] = useState(init);\r\n  const selector = useCallback(value => ({\r\n    className: `${value === selected ? 'selected ' : ''}button`,\r\n    onClick: () => setSeleted(value),\r\n  }), [selected]);\r\n  return [mapper ? mapper[selected] : selected, selector];\r\n}\r\n\r\nexport const playerPath = [\r\n  { position: [0/*  */, 0/*  */], velocity: [0, 0], gravity: [] },\r\n  // test velocity: d = vt = 0.6 * 1000\r\n  { position: [0/*  */, 0/*  */], velocity: [0.6, 0], gravity: [] },\r\n  { position: [600/**/, 0/*  */], velocity: [0, 0.6], gravity: [] },\r\n  { position: [600/**/, 600/**/], velocity: [-0.6, 0], gravity: [] },\r\n  { position: [0/*  */, 600/**/], velocity: [0, -0.6], gravity: [] },\r\n  // test gravity: d = 0.5gt^2 = 0.5 * 0.5 * 1000**2\r\n  { position: [0/*  */, 0/*  */], velocity: [0, 0], gravity: [0.0016, 0] },\r\n  { position: [800/**/, 0/*  */], velocity: [0, 0], gravity: [0, 0.0016] },\r\n  { position: [800/**/, 800/**/], velocity: [0, 0], gravity: [-0.0016, 0] },\r\n  { position: [0/*  */, 800/**/], velocity: [0, 0], gravity: [0, -0.0016] },\r\n];\r\n\r\nexport const playerAnims = [\r\n  '\\n\\n', '\\n\\n', // 00, 01: idle\r\n  '\\n\\n', '\\n\\n', // 02, 03: up\r\n  '\\n\\n', '\\n\\n', // 04, 05: down\r\n  '\\n\\n', '\\n \\n', // 06, 07: left\r\n  '\\n\\n', '\\n \\n', // 08, 09: right\r\n  '\\n\\n', '\\n\\n', // 10, 11: boom\r\n];\r\n","import React, { ReactNode, useMemo } from 'react';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport { App, Loader, Renderer, Stage, TickerController, UI, fromResize, useSubscribe } from '@fure/view';\r\nimport './index.css';\r\nimport { useSelect } from '../helper';\r\nimport { Ticker } from '@fure/core';\r\n\r\nconst bodySize = () => ({ width: document.body.clientWidth, height: document.body.clientHeight });\r\n\r\nconst usages = {\r\n  Simple({ children }: { children: ReactNode }) {\r\n    return (\r\n      // `App` == `Loader` + `Renderer` + `Stage` + `Ticker` + `Stage.TickRefresh`\r\n      <App id=\"game\" {...App.Creator({ width: 1920, height: 1080, backgroundColor: 0x66ccff })}>\r\n        <UI id=\"hello\">\r\n          <h2>HELLO</h2>\r\n          <h1>Fure Game</h1>\r\n          <h3>(simple usage)</h3>\r\n        </UI>\r\n        {children}\r\n      </App>\r\n    );\r\n  },\r\n  Advance({ children }: { children: ReactNode }) {\r\n    const size = useSubscribe(useMemo(() => fromResize(document.body).pipe(debounceTime(100), map(bodySize)), []), bodySize());\r\n    return (\r\n      <Loader> {/* `Loader` is optional */}\r\n        <div style={{ position: 'absolute', width: '100%', height: '100%', textAlign: 'center' }}>\r\n          <h1>Fill Window</h1><h1>{'&'}</h1><h1>Transparent Background</h1><h1>{'&'}</h1><h1>Scale Mode UI</h1>\r\n        </div>\r\n        <Renderer id=\"game\" {...size} {...Renderer.Creator({ transparent: true })} style={{ backgroundColor: 'rgba(102, 204, 255, 0.933)' }}>\r\n          <Stage>\r\n            <TickerController ticker={new Ticker()} /* `Ticker` is optional */>\r\n              <Stage.TickRefresh />\r\n            </TickerController>\r\n          </Stage>\r\n          <UI id=\"hello\" scaleMode={true}>\r\n            <h2>HELLO</h2>\r\n            <h1>Fure Game</h1>\r\n            <h3>(advance usage)</h3>\r\n          </UI>\r\n          {children}\r\n        </Renderer>\r\n      </Loader>\r\n    );\r\n  },\r\n};\r\n\r\nconst StageAndUI = () => {\r\n  const [Usage, usageSelector] = useSelect('Simple', usages);\r\n  return (\r\n    <Usage>\r\n      <UI id=\"helper\">\r\n        <p {...usageSelector('Simple')}>Simple Usage</p>\r\n        <p {...usageSelector('Advance')}>Advance Usage</p>\r\n      </UI>\r\n    </Usage>\r\n  );\r\n};\r\nStageAndUI.displayName = 'StageAndUI';\r\nStageAndUI.displayText = 'Stage & UI';\r\nexport default StageAndUI;\r\n","import React, { useMemo } from 'react';\r\nimport { map, throttleTime } from 'rxjs/operators';\r\nimport { AnimatedSprite, Gradient, MovableSprite, Renderer, RendererOptions, Sprite, Stage, THColors, UI, makeResource, useCloseable, useSubscribe, useTicker } from '@fure/view';\r\nimport { playerAnims, playerPath, useSelect } from '../helper';\r\n\r\nconst options: RendererOptions = { width: 1920, height: 1080, backgroundColor: 0x66ccff };\r\nconst randomPosition = () => ({\r\n  x: (0.2 + 0.6 * Math.random()) * options.width,\r\n  y: (0.2 + 0.6 * Math.random()) * options.height,\r\n});\r\n\r\nconst usages = {\r\n  Simple() {\r\n    return (Object.entries(THColors).map(([name, thc]) => (\r\n      <Sprite key={name} texture={thc.texture} scale={{ x: 3, y: 3 }} position={randomPosition()} >\r\n        <Stage.LazyRefresh />\r\n      </Sprite>\r\n    )));\r\n  },\r\n  Animated() {\r\n    const textures = useCloseable(\r\n      () => [\r\n        ...['', '', '', '', ''].map(text => makeResource.text(text)(text)),\r\n        ...Object.entries(THColors).map(([name, thc]) => makeResource.shape({ fill: { color: thc.rgb } }).circle(8)(`${name}.circle`)),\r\n        ...Object.entries(THColors).map(([name, thc]) => makeResource.shape({ fill: { color: thc.rgb } }).star(5, 12, 6)(`${name}.star`)),\r\n      ],\r\n      textures => textures.forEach(texture => texture.destroy()),\r\n    );\r\n    return (\r\n      <>\r\n        <Stage.TickRefresh />\r\n        {textures.map((_, index) => (\r\n          <AnimatedSprite key={index} textures={[...textures.slice(index), ...textures.slice(0, index)]} animationSpeed={0.1} position={randomPosition()} />\r\n        ))}\r\n      </>\r\n    );\r\n  },\r\n  Moveable() {\r\n    const ticker = useTicker();\r\n\r\n    const subject = useMemo(() => ticker.pipe(throttleTime(1000)).pipe(map((_delta, index) => playerPath[index % playerPath.length])), [ticker]);\r\n    const { position: [x, y], velocity, gravity } = useSubscribe(subject, playerPath[0]);\r\n\r\n    const textures = useMemo(() => MovableSprite.toUDLR(playerAnims.map(value => (\r\n      makeResource.text(value, { fontFamily: ['monospace'], fontSize: 24 })())\r\n    )), []);\r\n\r\n    Stage.TickRefresh(); // `Stage.XxxRefresh` could usage as react-hook too.\r\n\r\n    return (\r\n      <Gradient.Velocity state={[[560 + x, 140 + y], velocity, gravity]}>{pipe => (\r\n        <MovableSprite source={pipe} {...MovableSprite.UDLR} textures={textures} animationSpeed={0.1} />\r\n      )}</Gradient.Velocity>\r\n    );\r\n  },\r\n};\r\n\r\nconst TextureAndSprite = () => {\r\n  const [Usage, usageSelector] = useSelect('Simple', usages);\r\n  return (\r\n    <Renderer {...Renderer.Creator(options)}>\r\n      <Stage>\r\n        <UI id=\"helper\">\r\n          <p {...usageSelector('Simple')}>Simple Usage</p>\r\n          <p {...usageSelector('Animated')}>Animated Usage</p>\r\n          <p {...usageSelector('Moveable')}>Moveable Usage</p>\r\n        </UI>\r\n        <Usage />\r\n      </Stage>\r\n    </Renderer>\r\n  );\r\n};\r\nTextureAndSprite.displayName = 'TextureAndSprite';\r\nTextureAndSprite.displayText = 'Texture & Sprite';\r\nexport default TextureAndSprite;\r\n","import React, { MutableRefObject, ReactElement, useMemo, useRef } from 'react';\r\nimport { App, FreeMoveSprite, Gradient, MovableSprite, Progress, Subscribe, THColors, Texture, UI, useResource, useSubscribe, useTicker } from '@fure/view';\r\nimport { of } from 'rxjs';\r\nimport { delay, map, mergeMap, sampleTime, startWith, take } from 'rxjs/operators';\r\nimport { useSelect } from '../helper';\r\n\r\nconst Loading = ({ progress, resource }: IndicatorProps) => {\r\n  const ref: MutableRefObject<HTMLDivElement> = useRef();\r\n  return (\r\n    <UI>\r\n      <Gradient.Simple state={progress}>{pipe =>\r\n        <div ref={ref} style={{ position: 'absolute', width: '1%', height: 6, left: 0, bottom: '6%', background: THColors.Reimu.hex }}>\r\n          <Subscribe source={pipe} update={state => ref.current.style.width = `${state}%`} />\r\n        </div>\r\n      }</Gradient.Simple>\r\n      <small style={{ position: 'absolute', right: '1em', bottom: '6%' }}>{progress.toFixed(2)}% | {resource ? resource.name : 'waiting'} {resource && resource.error && 'failed'}</small>\r\n    </UI>\r\n  );\r\n};\r\n\r\nconst size = {\r\n  get width() { return document.body.clientWidth; },\r\n  get height() { return document.body.clientHeight; },\r\n};\r\nconst useShooter = (time: number, turn: number) => {\r\n  const ticker = useTicker(); // TODO \r\n  return useMemo(\r\n    () => ticker.pipe(sampleTime(time * 1000), startWith(0))\r\n      .pipe(mergeMap(_ =>\r\n        ticker.pipe(sampleTime(time * 1000 / turn), startWith(0), map((_, i) => i))\r\n          .pipe(take(turn))\r\n      ))\r\n      .pipe(map(index => [index * size.width / turn, index])),\r\n    [time, turn, ticker],\r\n  );\r\n};\r\n\r\nconst copies = (children: (offset: [number, number], index: number) => ReactElement) => {\r\n  return new Array(15).fill().map((_, index) => children([size.width / 2 * ((index / 3 | 0) - 2), size.height / 3 * (index % 3)], index));\r\n};\r\n\r\nconst Reimu = ({ texture }: { texture: Texture }) => {\r\n  const time = 3;\r\n  const [positionX] = useSubscribe(useShooter(time, 2), [0, 0]);\r\n\r\n  const velocityX = size.width / time / 1000; // v = s / t;\r\n  const state = [[positionX, 50], [velocityX]];\r\n\r\n  return (\r\n    <Gradient.Velocity state={state}>{pipe => copies(([ox, oy], index) => (\r\n      <MovableSprite key={index} textures={[texture]} scale={{ x: 2, y: 2 }} source={pipe(map(([[x, y]]) => [[x + ox, y + oy]]))} />\r\n    ))}</Gradient.Velocity>\r\n  );\r\n};\r\n\r\nconst Marisa = ({ texture }: { texture: Texture }) => {\r\n  const time = 3;\r\n  const [positionX] = useSubscribe(useShooter(time, 3), [0, 0]);\r\n\r\n  const velocityX = size.width / time / 1000; // v = s / t;\r\n  const velocityY = -400 / 1000;\r\n  const gravityY = 2 * -velocityY / 1000;\r\n  const offsetY = 50; // s = -0.5g * (0.5t)^2\r\n  const state = [[positionX + 200, 150 + offsetY], [velocityX, velocityY], [0, gravityY]];\r\n\r\n  return (\r\n    <Gradient.Velocity state={state}>{pipe => copies(([ox, oy], index) => (\r\n      <MovableSprite key={index} textures={[texture]} source={pipe(map(([[x, y]]) => [[x + ox, y + oy]]))} />\r\n    ))}</Gradient.Velocity>\r\n  );\r\n};\r\n\r\nconst Alice = ({ texture }: { texture: Texture }) => {\r\n  const time = 3;\r\n  const turn = 6;\r\n  const [positionX, index] = useSubscribe(useShooter(time, turn), [0, 0]);\r\n\r\n  const rotate = (index % 2 === 0 ? 1 : -1) / 3 * Math.PI;\r\n  const frames = time * 1000 / turn;\r\n  const distance = size.width / turn;\r\n  const direction = 0;\r\n  const state = { rotate, frames, distance, direction, position: [positionX + 400, 250] };\r\n\r\n  return (\r\n    <Gradient.Circular state={state}>{pipe => copies(([ox, oy], index) => (\r\n      <FreeMoveSprite key={index} textures={[texture]} source={pipe(map(({ x, y, angle }) => ({ position: { x: x + ox, y: y + oy }, rotation: { radian: 0.5 * Math.PI + angle } })))} />\r\n    ))}</Gradient.Circular>\r\n  );\r\n};\r\nconst Kagari = ({ texture }: { texture: Texture }) => {\r\n  return (\r\n    <img src={texture.baseTexture.resource.url} alt=\"kagari\" style={{ maxWidth: '30%', maxHeight: '60%', position: 'absolute', right: 0, bottom: 0 }} />\r\n  );\r\n};\r\n\r\nconst usages = {\r\n  Simple() {\r\n    const resource = useResource({\r\n      reimu: { url: THColors.Reimu.data }, // base usage\r\n      kagari: of({ url: 'https://raw.githubusercontent.com/zhengxiaoyao0716/rewrite-kagali/master/kagari-nobg-nolight.gif' }).toPromise(), // async usage\r\n      marisa: make => make.shape({ fill: { color: THColors.Marisa.rgb } }).star(5, 12, 6), // mock resource usage\r\n      'kagari-nobg-nolight': of({ url: 'https://raw.githubusercontent.com/zhengxiaoyao0716/rewrite-kagali/master/kagali.gif' }).pipe(delay(300)).toPromise(), // async usage with delay\r\n      alice: make => of(make.shape({ fill: { color: THColors.Alice.rgb } }).triangle(16, 20, 8)).pipe(delay(600)).toPromise(), // async and mock resource usage\r\n    });\r\n    const textures = useResource.query(resource)('texture');\r\n\r\n    return (\r\n      <Progress completed={!!resource} indicator={Loading}>\r\n        <Reimu texture={textures.reimu} />\r\n        <Marisa texture={textures.marisa} />\r\n        <Alice texture={textures.alice} />\r\n        <Kagari texture={textures.kagari} />\r\n      </Progress>\r\n    );\r\n  },\r\n};\r\n\r\nconst PreloadResource = () => {\r\n  const [Usage] = useSelect('Simple', usages);\r\n  return (\r\n    <App resizeTo={document.body} {...App.Creator({ backgroundColor: 0x66ccff })}>\r\n      <Usage />\r\n    </App>\r\n  );\r\n};\r\nPreloadResource.displayName = 'PreloadResource';\r\nPreloadResource.displayText = 'Preload Resource';\r\nexport default PreloadResource;\r\n","import { Core } from '@fure/core';\r\nimport { Subject, Subscription, from, interval, timer } from 'rxjs';\r\nimport { tap, zip } from 'rxjs/operators';\r\n\r\nexport const LogicDecoupling = (() => {\r\n  type Attr = | 'fire' | 'water';\r\n\r\n  const subject: Subject<Partial<{\r\n    life: number;\r\n    attr: Attr;\r\n    message: string;\r\n  }>> = new Subject();\r\n\r\n  const newBubble = () => {\r\n    let life = 5;\r\n    return {\r\n      /** @type {Attr} */attr: undefined,\r\n      get() { return life; },\r\n      inc(attr: Attr) {\r\n        if (life < 9) {\r\n          if (attr !== this.attr) {\r\n            subject.next({ message: 'miss' });\r\n            return;\r\n          }\r\n          life++;\r\n          subject.next({ life });\r\n          return;\r\n        }\r\n\r\n        this.inc = () => subject.next({ life, message: 'GAME PASS' });\r\n        this.dec = () => { };\r\n        subject.next({ life, message: 'YOU WIN' });\r\n      },\r\n      dec() {\r\n        life -= 1 / 60;\r\n        if (life > 0) {\r\n          subject.next({ life });\r\n          return;\r\n        }\r\n\r\n        life = 0;\r\n        this.inc = () => subject.next({ life, message: 'GAME OVER' });\r\n        this.dec = () => { };\r\n        subject.next({ life, message: 'BOO~OOM' });\r\n      },\r\n    };\r\n  };\r\n  let bubble: ReturnType<typeof newBubble>;\r\n  const players: Set<string> = new Set();\r\n\r\n  const subscriptions: Set<Subscription> = new Set();\r\n\r\n  const events = {\r\n    join(playerName: string, playerAttr: Attr) {\r\n      if (players.has(playerName)) return;\r\n      players.add(playerName);\r\n      subject.next({ message: `${playerName} (${playerAttr}) joined.` });\r\n      if (players.size < 2) return;\r\n\r\n      // game start\r\n      bubble = newBubble();\r\n\r\n      const readyTimer = from(['READY...', 'GO!!!']).pipe(zip(interval(500), message => message));\r\n      subscriptions.add(readyTimer.subscribe(message => subject.next({ message })));\r\n\r\n      subscriptions.add(timer(1500, 1000 / 60).subscribe(() => bubble.dec()));\r\n\r\n      const bubbleTimer = timer(1500, 500).pipe(tap(() => bubble.attr = Math.random() < 0.5 ? 'fire' : 'water'));\r\n      subscriptions.add(bubbleTimer.subscribe(() => subject.next({ attr: bubble.attr })));\r\n    },\r\n    blow(playerAttr: Attr) {\r\n      bubble.inc(playerAttr);\r\n    },\r\n    leave(player: string) {\r\n      players.delete(player);\r\n      subject.next({ message: `${player} leaved.` });\r\n      if (players.size > 0) return;\r\n\r\n      // game stop\r\n      subscriptions.forEach(sub => sub.unsubscribe());\r\n      subscriptions.clear();\r\n    },\r\n  };\r\n  return new Core('LogicDecoupling', events, subject);\r\n})();\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport { map, scan, throttleTime } from 'rxjs/operators';\r\nimport { App, AppOptions, useSubscribe } from '@fure/view';\r\nimport './index.css';\r\nimport { LogicDecoupling as core } from '../../main/core';\r\nimport { Subject, interval } from 'rxjs';\r\nimport { pick } from '@fure/core';\r\n\r\nconst options: AppOptions = { width: 960, height: 1080, transparent: true };\r\ntype Attr = | 'fire' | 'water';\r\n\r\ninterface BubbleProps { life: number; attr: Attr }\r\nconst Bubble = ({ life, attr }: BubbleProps) => {\r\n  const size = `${life && (0.5 + life)}em`;\r\n  return (\r\n    <div className={`Bubble ${attr}`} style={{ width: size, height: size }} />\r\n  );\r\n};\r\n\r\ninterface PlayerProps { attr: Attr }\r\nconst Player = ({ attr }: PlayerProps) => {\r\n  const onTap = useMemo(() => {\r\n    const subject = new Subject();\r\n    subject.pipe(throttleTime(300)).subscribe(() => core.events.blow(attr));\r\n    return event => subject.next(event);\r\n  }, [attr]);\r\n  return (\r\n    <div className={`Player ${attr}`} onClick={onTap} onTouchStart={onTap} />\r\n  );\r\n};\r\n\r\nconst Message = ({ value = [], show }: { value: [string, number][]; show: number }) => {\r\n  const now = useSubscribe(useMemo(() => interval(1000 / 30).pipe(map(() => new Date().getTime())), []), 0);\r\n  const messages = value.map(([message, insertAt]): [string, number] => [message, now - insertAt]).filter(([, time]) => (time < show));\r\n  return (\r\n    <div className=\"Message\">{messages.map(([message, time], index) => (\r\n      <p key={index} style={{ opacity: Math.cos(time / show) }}>{message}</p>\r\n    ))}</div>\r\n  );\r\n};\r\nMessage.queue = scan((queue: [[string, number]], message: string): [[string, number]] => [...queue.slice(1 - 5), [message, new Date().getTime()]], []);\r\n\r\ninterface GameProps { player: PlayerProps & { name: string } }\r\nconst Game = ({ player }: GameProps) => {\r\n  const life = useSubscribe(useMemo(() => core.pipe(pick('life')), []), 0);\r\n  const attr = useSubscribe(useMemo(() => core.pipe(pick('attr')), []));\r\n  const messages = useSubscribe(useMemo(() => core.pipe(pick('message')).pipe(Message.queue), []));\r\n\r\n  useEffect(() => {\r\n    core.events.join(player.name, player.attr);\r\n    return () => core.events.leave(player.name);\r\n  }, [player.name, player.attr]);\r\n\r\n  return (\r\n    <App {...App.Creator(options)}>\r\n      <p className=\"name\">{player.name}</p>\r\n      {attr && <Bubble life={life} attr={attr} />}\r\n      <Player attr={player.attr} />\r\n      <Message value={messages} show={3000} />\r\n    </App>\r\n  );\r\n};\r\n\r\nexport const LogicDecoupling = () => {\r\n  return (\r\n    <div className=\"LogicDecoupling\">\r\n      <Game player={{ name: 'Girl', attr: 'fire' }} />\r\n      <Game player={{ name: 'Boy', attr: 'water' }} />\r\n    </div>\r\n  );\r\n};\r\nLogicDecoupling.displayName = 'LogicDecoupling';\r\nLogicDecoupling.displayText = 'Logic Decoupling';\r\nexport default LogicDecoupling;\r\n","import React, { useCallback, useEffect, useMemo } from 'react';\r\nimport { range } from 'rxjs';\r\nimport { map, mergeMap } from 'rxjs/operators';\r\nimport { App, AppOptions, BLEND_MODES, Container, Sprite, SpriteContext, Subscribe, makeResource, useCloseable, useTicker } from '@fure/view';\r\n\r\nconst options: AppOptions = { width: 1920, height: 1080, backgroundColor: 0x66ccff };\r\nconst birth = { x: options.width / 2, y: options.height / 2 };\r\nconst size = 1000; // lived particles number.\r\nconst period = 1; // send particles interval.\r\nconst speed = 0.5; // particle move speed, 1000px/s.\r\n// distanceMax = size * period * speed\r\n\r\nconst Particle = () => {\r\n  const texture = useCloseable(\r\n    () => makeResource.shape({ fill: { color: 0xffffff } }).star(5, 12, 6)('particle'),\r\n    texture => texture.destroy(),\r\n  );\r\n\r\n  const ticker = useTicker();\r\n\r\n  //#region particles shooter\r\n  const particles: { cos: number; sin: number; scale: number; tint: number; sendAt: number }[] = useMemo(() => [], []);\r\n  useEffect(() => {\r\n    const emitter = ticker.pipe(map(_delta => ticker.runTime))\r\n      .pipe(mergeMap(now => {\r\n        const last = particles[0] ? particles[0].sendAt : now - period;\r\n        const count = Math.floor((now - last) / period);\r\n        return range(1, count).pipe(map(index => {\r\n          const angle = Math.random() * 2 * Math.PI;\r\n          return ({\r\n            cos: Math.cos(angle),\r\n            sin: Math.sin(angle),\r\n            scale: 0.5 + Math.random(),\r\n            tint: Math.random() * 0xffffff | 0,\r\n            sendAt: last + (1 + index) * period,\r\n          });\r\n        }));\r\n      }));\r\n    const subcription = emitter.subscribe(particle => {\r\n      particles.unshift(particle);\r\n      if (particles.length > size) particles.pop();\r\n    });\r\n    return () => subcription.unsubscribe();\r\n  }, [particles, ticker]);\r\n  //#endregion\r\n\r\n  // hight frequence update, used only when necessary, for most time, just use `Gradient` to make our code more `reactive`.\r\n  const update = useCallback((index, sprite) => {\r\n    if (!particles[index]) return;\r\n    const { cos, sin, scale, tint, sendAt } = particles[index];\r\n    const distance = (ticker.runTime - sendAt) * speed;\r\n    const position = { x: birth.x + cos * distance, y: birth.y + sin * distance };\r\n    sprite.position.x = position.x;\r\n    sprite.position.y = position.y;\r\n    sprite.scale.x = scale;\r\n    sprite.scale.y = scale;\r\n    sprite.tint = tint;\r\n  }, [particles, ticker]);\r\n\r\n  return (\r\n    <Container>{new Array(size).fill().map((_, index) => (\r\n      <Sprite key={index} texture={texture} blendMode={BLEND_MODES.ADD}>\r\n        <SpriteContext.Consumer>{sprite => (\r\n          <Subscribe source={ticker.pipe} update={() => update(index, sprite)} />\r\n        )}</SpriteContext.Consumer>\r\n      </Sprite>\r\n    ))}</Container>\r\n  );\r\n};\r\n\r\nconst HighFrequency = () => {\r\n  return (\r\n    <App {...App.Creator(options)}>\r\n      <Particle />\r\n    </App>\r\n  );\r\n};\r\nHighFrequency.displayName = 'HighFrequency';\r\nHighFrequency.displayText = 'High Frequency';\r\nexport default HighFrequency;\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport { App, Body, Constraint, Matter, Sprite, THColors, UI, World, useResource } from '@fure/view';\r\nimport { useSelect } from '../helper';\r\n\r\nconst options: AppOptions = { width: 1920, height: 1080, backgroundColor: 0x66ccff };\r\nconst sceneConfig = {\r\n  Reimu: {\r\n    position: { x: 700, y: options.height - 300 },\r\n  },\r\n  Marisa: {\r\n    position: { x: options.width / 2, y: options.height - 320 },\r\n  },\r\n  Alice: {\r\n    position: { x: options.width - 700, y: options.height - 295 },\r\n    anchor: { x: 0.5, y: 0.668 }, // Matter use the gravity center as the anchor\r\n  },\r\n  Cirno: {\r\n    scale: { x: 128, y: 3 },\r\n    position: { x: options.width / 2, y: options.height - 256 },\r\n  },\r\n  Sakuya: {\r\n    scale: { x: 3, y: 32 },\r\n    position: { x: options.width / 2, y: options.height - 128 },\r\n  },\r\n  Youmu: {\r\n    scale: { x: 240, y: 3 },\r\n    position: { x: options.width / 2, y: options.height - 12 },\r\n  },\r\n};\r\n\r\nconst usages = {\r\n  Catapult() {\r\n    const resource = useResource({\r\n      Reimu: make => make.shape({ fill: { color: THColors.Reimu.rgb } }).rectangle(64, 64),\r\n      Marisa: make => make.shape({ fill: { color: THColors.Marisa.rgb } }).circle(32),\r\n      Alice: make => make.shape({ fill: { color: THColors.Alice.rgb } }).triangle(102.4, 80, 51.2),\r\n    });\r\n    const textures = useResource.query(resource)('texture');\r\n\r\n    const catapultRefs = Constraint.useRefs(['bodyA', 'pointB']);\r\n    useEffect(() => {\r\n      catapultRefs.bodyA.then(bodyA => catapultRefs.pointB.current = { ...bodyA.position });\r\n    }, [catapultRefs]);\r\n\r\n    const filters = useMemo(() => ({\r\n      negCatapult: { collisionFilter: { group: Body.nextGroup(true) } },\r\n    }), []);\r\n\r\n    World.useEvent('collisionStart', ({ pairs }) => pairs.forEach(({ bodyA, bodyB }) => {\r\n      const [marisa, victim] = bodyA.label === 'Marisa' ? [bodyA, bodyB] : bodyB.label === 'Marisa' ? [bodyB, bodyA] : [];\r\n      if (marisa == null) return;\r\n      if (victim.label !== 'Reimu' && victim.label !== 'Alice') return;\r\n      const marisaX = marisa.position.x;\r\n      const victimX = victim.position.x;\r\n      const velocityX = marisaX > victimX ? 12 : marisaX < victimX ? -12 : 0;\r\n      if (velocityX === 0) return;\r\n      Matter.Body.setVelocity(marisa, Matter.Vector.add(marisa.velocity, { x: velocityX, y: 0 }));\r\n      Matter.Body.setVelocity(victim, Matter.Vector.add(victim.velocity, { x: 0, y: -3}));\r\n    }));\r\n\r\n    return (resource && <>\r\n      <Sprite texture={textures.Reimu} {...sceneConfig.Reimu}>\r\n        <Body {...Body.SpriteRectangle({ label: 'Reimu', restitution: 0.1, density: 0.01 })} />\r\n      </Sprite>\r\n      <Sprite texture={textures.Marisa} {...sceneConfig.Marisa}>\r\n        <Body {...Body.SpriteCircle({ label: 'Marisa', restitution: 0.8, friction: 0, velocity: { x: Math.random() > 0.5 ? 6 : -6, y: 0 } })} />\r\n      </Sprite>\r\n      <Sprite texture={textures.Alice} {...sceneConfig.Alice}>\r\n        <Body {...Body.SpriteTriangle({ label: 'Alice', restitution: 0.1, density: 0.01 })} />\r\n      </Sprite>\r\n      <Sprite texture={THColors.Cirno.texture} {...sceneConfig.Cirno}>\r\n        <Body {...Body.SpriteRectangle({ label: 'Cirno', density: 0.05, friction: 0.01, ...filters.negCatapult })} ref={catapultRefs.bodyA} />\r\n      </Sprite>\r\n      <Sprite texture={THColors.Sakuya.texture} {...sceneConfig.Sakuya}>\r\n        <Body {...Body.SpriteRectangle({ isStatic: true, ...filters.negCatapult })} />\r\n      </Sprite>\r\n      <Sprite texture={THColors.Youmu.texture} {...sceneConfig.Youmu}>\r\n        <Body {...Body.SpriteRectangle({ isStatic: true })} />\r\n      </Sprite>\r\n      <Constraint {...catapultRefs} stiffness={1} length={0} />\r\n    </>);\r\n  },\r\n};\r\n\r\nconst Physics = () => {\r\n  const [Usage, usageSelector] = useSelect('Catapult', usages);\r\n  return (\r\n    <App {...App.Creator(options)}>\r\n      <World renderDebug={/*draw debug-renderer*/true}>\r\n        <Usage />\r\n        <World.Mouse />\r\n      </World>\r\n      <UI id=\"helper\">\r\n        <p {...usageSelector('Catapult')}>Catapult</p>\r\n      </UI>\r\n    </App>\r\n  );\r\n};\r\nPhysics.displayName = 'Physics';\r\nPhysics.displayText = 'Physics';\r\nexport default Physics;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport StageAndUI from './StageAndUI';\r\nimport TextureAndSprite from './TextureAndSprite';\r\nimport PreloadResource from './PreloadResource';\r\nimport LogicDecoupling from './LogicDecoupling';\r\nimport HighFrequency from './HighFrequency';\r\nimport Physics from './Physics';\r\n\r\nconst createScene = Component => {\r\n  const Scene = (props, context) => {\r\n    const history = useHistory();\r\n    return (\r\n      <>\r\n        {Component(props, context)}\r\n        <div id=\"back\" onClick={() => history.goBack()}>BACK</div>\r\n      </>\r\n    );\r\n  };\r\n  Scene.displayName = Component.displayName;\r\n  Scene.displayText = Component.displayText;\r\n  return Scene;\r\n};\r\n\r\nexport const scenes = [\r\n  StageAndUI,\r\n  TextureAndSprite,\r\n  HighFrequency,\r\n  PreloadResource,\r\n  LogicDecoupling,\r\n  Physics,\r\n].map(createScene);\r\n","import React from 'react';\r\nimport { Link, match } from 'react-router-dom';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { History, Location } from 'history'; // only used as type.\r\nimport './index.css';\r\nimport '@fure/view';\r\nimport { scenes } from '../Scene';\r\nimport { PUBLIC_URL } from '..';\r\n\r\ninterface LocationState { } // eslint-disable-line @typescript-eslint/no-empty-interface\r\n\r\ninterface Props {\r\n  history: History<LocationState>;\r\n  location: Location<LocationState>;\r\n  match: match;\r\n}\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nconst Home = ({ history: _history, location, match: _match }: Props) => {\r\n  return (\r\n    <div className=\"Home\">\r\n      {scenes.map(Scene => (\r\n        <Link key={Scene.displayName} to={{ ...location, pathname: `${PUBLIC_URL}/scene/${Scene.displayName}` }}>\r\n          <p>{Scene.displayText}</p>\r\n        </Link>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\nHome.displayName = 'Home';\r\nexport default Home;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport './index.css';\r\nimport Home from './Home';\r\nimport { scenes } from './Scene';\r\n\r\nexport const PUBLIC_URL = process.env.PUBLIC_URL; // eslint-disable-line no-undef\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <>\r\n      <Route exact path={`${PUBLIC_URL}/`} component={Home} />\r\n\r\n      {scenes.map(Scene => (\r\n        <Route key={Scene.displayName} path={`${PUBLIC_URL}/scene/${Scene.displayName}`} component={Scene} />\r\n      ))}\r\n    </>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}