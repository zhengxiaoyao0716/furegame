{"version":3,"sources":["../../../fure-view/lib/index.js","../../../fure-view/lib/hooks.js","../../../fure-core/lib/index.js","../../../fure-view/lib/Ticker/index.js","../../../fure-view/lib/Renderer.js","../../../fure-view/lib/UI/View.js","../../../fure-view/lib/Gradient/Gradient.js","../../../fure-view/lib/Physics/Composite.js","../../../fure-view/lib/Physics/World.js","../../../fure-view/lib/Sprite/index.js","../../../fure-view/lib/Sprite/Sprite.js","../../../fure-view/lib/Container.js","../../../fure-view/lib/Loader.js","../../../fure-core/lib/collection/compare.js","../../../fure-core/lib/rx/index.js","../../../fure-core/lib/Core.js","../../../fure-view/lib/Gradient/Velocity.js","../../../fure-view/lib/UI/index.js","../../../fure-view/lib/Resource/make.js","../../../fure-view/lib/Stage.js","../../../fure-view/lib/Gradient/index.js","../../../fure-core/lib/pkg-info.js","../../../fure-core/lib/collection/index.js","../../../fure-core/lib/collection/TreeSet.js","../../../fure-core/lib/Ticker.js","../../../fure-view/lib/Ticker/Subscribe.js","../../../fure-view/lib/Gradient/Simple.js","../../../fure-view/lib/Gradient/Circular.js","../../../fure-view/lib/Physics/index.js","../../../fure-view/lib/Physics/Constraint.js","../../../fure-view/lib/Physics/Mouse.js","../../../fure-view/lib/UI/resize.js","../../../fure-view/lib/Physics/Body.js","../../../fure-view/lib/Physics/set-poly-decomp.js","../../../fure-view/lib/Sprite/Animated.js","../../../fure-view/lib/Sprite/Movable.js","../../../fure-view/lib/Resource/index.js","../../../fure-view/lib/Resource/THColors.js","../../../fure-view/lib/Resource/use.js","../../../fure-view/lib/App.js","../../../fure-view/lib/Progress.js","Scene/helper.js","Scene/StageAndUI/index.js","Scene/TextureAndSprite/index.js","Scene/PreloadResource/index.js","main/core/index.js","Scene/LogicDecoupling/index.js","Scene/HighFrequency/index.js","Scene/Physics/index.js","Scene/index.js","Home/index.js","index.js"],"names":["Object","defineProperty","exports","value","_Gradient","keys","forEach","key","enumerable","get","_Physics","_Resource","_Sprite","_Ticker","_UI","_App","_Container","_hooks","_Loader","_Progress","_Renderer","_Stage","_slicedToArray","usePromiseRef","useCloseableAsync","useCloseable","defaultClose","_react","close","destroy","remove","undefined","supplier","arguments","length","deps","state","useMemo","useEffect","closeRef","useRef","_ref","useState","_ref2","setState","promise","Promise","resolve","current","then","setValue","instance","bind","_collection","_rx","_Core","_exportNames","TickerContext","TickerController","useTicker","obj","__esModule","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","prototype","hasOwnProperty","call","desc","set","default","_interopRequireWildcard","_core","_Subscribe","WeakMap","createContext","Ticker","shared","displayName","_ref$ticker","ticker","_ref$children","children","_ref$running","running","start","pause","createElement","Provider","useContext","useDebugValue","FPS","toFixed","useView","useScreen","useRenderer","Renderer","RendererContext","PIXI","_View","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","push","apply","_defineProperty","configurable","writable","withView","create","width","height","view","ViewContext","renderer","resize","Creator","options","target","i","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","screen","setRef","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","ref","Function","Component","ext","WithView","id","className","style","props","_ref2$className","_ref3","_ref4","setView","canvasRef","useCallback","canvas","concat","View","WithExt","forwardRef","entries","_ref5","_ref6","name","useGradient","pointsFn","gradientFn","points","subject","_rxjs","Subject","pipe","next","sub","each","unsubscribe","JSON","stringify","_Simple","_Velocity","_Circular","Composite","useComposite","CompositeContext","Matter","eventNames","events","definition","parent","composite","add","callback","Events","on","off","useEvent","_toConsumableArray","useWorld","useEngine","World","EngineContext","_Mouse","_Composite","_operators","defaultRenderOptions","wireframeBackground","showPositions","showBounds","showVelocity","showCollisions","_ref$events","_ref$renderDebug","renderDebug","engine","Engine","delta","update","clear","_canvas$classList","_ref2$classList","classList","renderDefinition","renderOptions","parentNode","document","appendChild","render","Render","run","updateStyle","_renderer$view","clientWidth","clientHeight","offsetLeft","offsetTop","left","top","fromResize","debounceTime","subscribe","_","world","g","window","firstDebug","Mouse","SpriteProps","SpriteContext","useSprite","Sprite","_Animated","_Movable","createSprite","container","useContainer","sprite","addChild","removeChild","texture","position","scale","_props$anchor","anchor","x","y","rotation","_props$tint","tint","blendMode","degree","angle","radian","_sprite","_props","ParticleContainer","Container","ContainerContext","createContainer","constructor","useLoader","Loader","LoaderContext","baseUrl","concurrency","loader","progress","shuffle","compareExtract","compareNature","l","r","mapper","compare","target1","target2","elements","wrapper","map","element","weight","Math","random","sort","pick","pluck","_defineProperty2","_classCallCheck","Core","_this","this","rpcId","subjectId","rpc","event","_len","args","Array","_key","reduce","dict","_len2","_key2","_len3","_key3","interval","take","toPromise","Velocity","velocityFn","vector","join","point","deltaTime","vectors","_loop","index","previous","_resize","UI","styleOf","scaleMode","transform","_ref$className","outerStyle","styleEvent","builtinStyle","useSubscribe","makeResource","Resource","LoaderResource","Polygon","maker","draw","transparent","console","warn","_object$getBounds","getBounds","image","Image","src","toDataURL","Texture","BaseTexture","resource","resources","addToCache","shape","fill","line","border","graphics","Graphics","beginFill","color","alpha","lineStyle","drawShape","circle","radius","Circle","ellipse","Ellipse","polygon","rectangle","Rectangle","roundedRectangle","RoundedRectangle","triangle","sharp","star","innerRadius","drawStar","text","Text","useStage","Stage","StageContext","LazyRefresh","stage","subRef","once","TickRefresh","Gradient","_console","_package","padding","info","version","author","license","homepage","_compare","_TreeSet","_createClass","TreeSet","binarySearch","comparator","right","middle","cmp","pushAll","isEmpty","splice","size","requestTimer","Date","getTime","cb","setTimeout","requestAnimationFrame","autoStart","syncPeriod","now","offset","core","sync","time","_running","timer","skipOnBack","throttleTime","asyncScheduler","leading","trailing","_delta","fromEvent","visibilityState","_visibile","fn","Subscribe","init","snapshot","setSnapshot","subcription","Simple","simpleFn","slice","simplePointsFn","point0","point1","remain","interp","max","min","Circular","rotate","frames","distance","direction","velocityState","obs","_ref3$","positionX","positionY","halfRotate","velocity","sin","initial","cos","decorate","_Constraint","_Body","_World","_regeneratorRuntime","_asyncToGenerator","Constraint","mark","_callee2","tasks","constraint","wrap","_context2","prev","_callee","_context","abrupt","sent","stop","_x2","all","_x","useRefs","acc","newPromiseRef","mouseConstraint","mouse","MouseConstraint","stiffness","visible","observer","ResizeObserver","fromEventPattern","handler","observe","_handler","unobserve","Body","BodyComponent","useBody","isSleeping","isStatic","isSensor","body","Sleeping","setStatic","SpriteBody","newBody","Error","setVelocity","SpritePath","vertices","Vector","Bodies","fromVertices","SpriteCircle","SpriteRectangle","SpriteTriangle","nextCategory","nextGroup","_polyDecomp","decomp","AnimatedSprite","textures","autoUpdate","_ref2$playing","playing","_ref2$loop","loop","_ref2$animationSpeed","animationSpeed","play","MovableSprite","FreeMoveSprite","_extends","assign","Consumer","animId","_ref5$","UDLR","vx","vy","toUDLR","eachSize","idle","up","down","BLEND_MODES","_pixi","_make","_THColors","_use","THColors","newColor","data","toString","A","rgb","B","rg","G","R","hex","rgba","Reimu","Marisa","Alice","Cirno","Sakuya","Youmu","Yuyuko","Yakumo","useResource","complete","unmount","completed","option","save","emit","catch","error","_resource","finally","url","load","onLoad","_completed","reset","utils","clearTextureCache","query","_field","field","useApp","App","AppContext","resizeTo","app","Application","Progress","Indicator","indicator","loaded","setLoaded","_loader","removeListener","Fragment","useSelect","selected","setSeleted","selector","onClick","playerPath","gravity","playerAnims","bodySize","usages","backgroundColor","Advance","textAlign","StageAndUI","Usage","usageSelector","displayText","randomPosition","thc","Animated","Moveable","fontFamily","fontSize","TextureAndSprite","Loading","bottom","background","useShooter","turn","sampleTime","startWith","mergeMap","copies","ox","oy","PI","Kagari","baseTexture","alt","maxWidth","maxHeight","reimu","kagari","of","marisa","make","delay","alice","PreloadResource","LogicDecoupling","bubble","players","Set","subscriptions","playerName","playerAttr","message","life","attr","inc","dec","newBubble","readyTimer","from","zip","bubbleTimer","tap","blow","leave","player","delete","Bubble","Player","onTap","onTouchStart","Message","show","messages","insertAt","opacity","queue","scan","Game","birth","Particle","particles","runTime","last","sendAt","count","floor","range","particle","unshift","pop","ADD","HighFrequency","sceneConfig","Catapult","catapultRefs","bodyA","pointB","filters","negCatapult","collisionFilter","group","pairs","bodyB","label","victim","marisaX","victimX","velocityX","restitution","density","friction","Physics","scenes","Home","history","location","match","Scene","to","pathname","PUBLIC_URL","process","ReactDOM","exact","path","component","getElementById"],"mappings":"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","file":"static/js/main.7aed6441.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Gradient = require(\"./Gradient\");\n\nObject.keys(_Gradient).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Gradient[key];\n    }\n  });\n});\n\nvar _Physics = require(\"./Physics\");\n\nObject.keys(_Physics).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Physics[key];\n    }\n  });\n});\n\nvar _Resource = require(\"./Resource\");\n\nObject.keys(_Resource).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Resource[key];\n    }\n  });\n});\n\nvar _Sprite = require(\"./Sprite\");\n\nObject.keys(_Sprite).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Sprite[key];\n    }\n  });\n});\n\nvar _Ticker = require(\"./Ticker\");\n\nObject.keys(_Ticker).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Ticker[key];\n    }\n  });\n});\n\nvar _UI = require(\"./UI\");\n\nObject.keys(_UI).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _UI[key];\n    }\n  });\n});\n\nvar _App = require(\"./App\");\n\nObject.keys(_App).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _App[key];\n    }\n  });\n});\n\nvar _Container = require(\"./Container\");\n\nObject.keys(_Container).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Container[key];\n    }\n  });\n});\n\nvar _hooks = require(\"./hooks\");\n\nObject.keys(_hooks).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _hooks[key];\n    }\n  });\n});\n\nvar _Loader = require(\"./Loader\");\n\nObject.keys(_Loader).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Loader[key];\n    }\n  });\n});\n\nvar _Progress = require(\"./Progress\");\n\nObject.keys(_Progress).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Progress[key];\n    }\n  });\n});\n\nvar _Renderer = require(\"./Renderer\");\n\nObject.keys(_Renderer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Renderer[key];\n    }\n  });\n});\n\nvar _Stage = require(\"./Stage\");\n\nObject.keys(_Stage).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Stage[key];\n    }\n  });\n});","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.usePromiseRef = exports.useCloseableAsync = exports.useCloseable = exports.defaultClose = void 0;\n\nvar _react = require(\"react\");\n/** utility hooks. */\n\n\nvar defaultClose = function defaultClose(value) {\n  return 'close' in value ? value.close() : 'destroy' in value ? value.destroy() : 'remove' in value ? value.remove() : undefined;\n};\n\nexports.defaultClose = defaultClose;\n\nvar useCloseable = function useCloseable(supplier) {\n  var close = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultClose;\n  var deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var state = (0, _react.useMemo)(supplier, []);\n  (0, _react.useEffect)(function () {\n    return function () {\n      return close(state);\n    };\n  }, deps);\n  return state;\n};\n\nexports.useCloseable = useCloseable;\n\nvar useCloseableAsync = function useCloseableAsync(supplier) {\n  var close = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultClose;\n  var deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var closeRef = (0, _react.useRef)(false);\n\n  var _ref = (0, _react.useState)(undefined),\n      _ref2 = _slicedToArray(_ref, 2),\n      state = _ref2[0],\n      setState = _ref2[1];\n\n  (0, _react.useEffect)(function () {\n    var promise = Promise.resolve(supplier(closeRef));\n    closeRef.current || promise.then(setState);\n    return function () {\n      closeRef.current = true;\n      promise.then(close);\n    };\n  }, deps);\n  return state;\n}; // deprected.\n// export const useUpdate: typeof useEffect = (\n//   update: EffectCallback,\n//   deps: DependencyList = []\n// ): void => {\n//   useMemo(update, []);\n//   useEffect(update, deps);\n// };\n\n\nexports.useCloseableAsync = useCloseableAsync;\n\nvar usePromiseRef = function usePromiseRef() {\n  return (0, _react.useMemo)(function () {\n    var value = null;\n    var setValue;\n    var promise = new Promise(function (resolve) {\n      return setValue = resolve;\n    });\n    return {\n      set current(instance) {\n        value = instance;\n        instance == null || setValue(instance);\n      },\n\n      get current() {\n        return value;\n      },\n\n      then: promise.then.bind(promise)\n    };\n  }, []);\n};\n\nexports.usePromiseRef = usePromiseRef;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire(\"./pkg-info\");\n\nvar _collection = require(\"./collection\");\n\nObject.keys(_collection).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _collection[key];\n    }\n  });\n});\n\nvar _rx = require(\"./rx\");\n\nObject.keys(_rx).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _rx[key];\n    }\n  });\n});\n\nvar _Core = require(\"./Core\");\n\nObject.keys(_Core).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Core[key];\n    }\n  });\n});\n\nvar _Ticker = require(\"./Ticker\");\n\nObject.keys(_Ticker).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Ticker[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  TickerContext: true,\n  TickerController: true,\n  useTicker: true\n};\nexports.useTicker = exports.TickerController = exports.TickerContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _core = require(\"@fure/core\");\n\nvar _Subscribe = require(\"./Subscribe\");\n\nObject.keys(_Subscribe).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Subscribe[key];\n    }\n  });\n});\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar TickerContext = (0, _react.createContext)(_core.Ticker.shared);\nexports.TickerContext = TickerContext;\nTickerContext.displayName = 'Ticker';\n\nvar TickerController = function TickerController(_ref) {\n  var _ref$ticker = _ref.ticker,\n      ticker = _ref$ticker === void 0 ? _core.Ticker.shared : _ref$ticker,\n      _ref$children = _ref.children,\n      children = _ref$children === void 0 ? null : _ref$children,\n      _ref$running = _ref.running,\n      running = _ref$running === void 0 ? true : _ref$running;\n  if (running !== ticker.running) running ? ticker.start() : ticker.pause();\n  (0, _react.useEffect)(function () {\n    return function () {\n      ticker.pause();\n    };\n  }, []);\n  return _react.default.createElement(TickerContext.Provider, {\n    value: ticker\n  }, children);\n};\n\nexports.TickerController = TickerController;\n\nvar useTicker = function useTicker() {\n  var ticker = (0, _react.useContext)(TickerContext);\n  (0, _react.useDebugValue)(ticker, function (ticker) {\n    return ticker.FPS.toFixed(2);\n  });\n  return ticker;\n};\n\nexports.useTicker = useTicker;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useView = exports.useScreen = exports.useRenderer = exports.Renderer = exports.RendererContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nvar _View = require(\"./UI/View\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar RendererContext = (0, _react.createContext)(undefined);\nexports.RendererContext = RendererContext;\nRendererContext.displayName = 'Renderer';\nvar Renderer = (0, _View.withView)('Renderer', function (_ref) {\n  var children = _ref.children,\n      create = _ref.create,\n      width = _ref.width,\n      height = _ref.height;\n  var view = (0, _react.useContext)(_View.ViewContext);\n  var renderer = (0, _hooks.useCloseable)(function () {\n    return create ? create(view) : new PIXI.Renderer({\n      view: view\n    });\n  });\n  if (width != null && height != null && (width !== renderer.width || height !== renderer.height)) renderer.resize(width, height);\n  return _react.default.createElement(RendererContext.Provider, {\n    value: renderer\n  }, children);\n}, {\n  Creator: function Creator(options) {\n    return (0, _react.useMemo)(function () {\n      return {\n        create: function create(view) {\n          return new PIXI.Renderer(_objectSpread({\n            view: view\n          }, options));\n        }\n      };\n    }, []);\n  }\n});\nexports.Renderer = Renderer;\n\nvar useRenderer = function useRenderer() {\n  return (0, _react.useContext)(RendererContext);\n};\n\nexports.useRenderer = useRenderer;\n\nvar useScreen = function useScreen() {\n  var renderer = (0, _react.useContext)(RendererContext);\n  return renderer && renderer.screen;\n};\n\nexports.useScreen = useScreen;\n\nvar useView = function useView() {\n  var renderer = (0, _react.useContext)(RendererContext);\n  return renderer && renderer.view;\n};\n\nexports.useView = useView;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setRef = setRef;\nexports.withView = exports.ViewContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nrequire(\"./View.css\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction setRef(ref, value) {\n  if (ref == null) return;\n  if ('current' in ref) ref.current = value;else if (ref instanceof Function) ref(value);\n}\n\nvar ViewContext = (0, _react.createContext)(undefined);\nexports.ViewContext = ViewContext;\nViewContext.displayName = 'View';\n\nvar View = function View(_ref2, ref) {\n  var id = _ref2.id,\n      _ref2$className = _ref2.className,\n      className = _ref2$className === void 0 ? '' : _ref2$className,\n      style = _ref2.style,\n      children = _ref2.children;\n\n  var _ref3 = (0, _react.useState)(undefined),\n      _ref4 = _slicedToArray(_ref3, 2),\n      view = _ref4[0],\n      setView = _ref4[1];\n\n  var canvasRef = (0, _react.useCallback)(function (canvas) {\n    canvas && setView(canvas);\n    setRef(ref, canvas);\n  }, []);\n  return _react.default.createElement(\"div\", {\n    id: id,\n    className: \"\".concat(className && \"\".concat(className, \" \"), \"Furegame\"),\n    style: style\n  }, _react.default.createElement(\"canvas\", {\n    ref: canvasRef\n  }), view && _react.default.createElement(ViewContext.Provider, {\n    value: view\n  }, children));\n};\n\nvar withView = function withView(displayName, Component, ext) {\n  Component.displayName = displayName;\n\n  var WithView = function WithView(_ref, ref) {\n    var id = _ref.id,\n        className = _ref.className,\n        style = _ref.style,\n        props = _objectWithoutProperties(_ref, [\"id\", \"className\", \"style\"]);\n\n    return View({\n      id: id,\n      className: className,\n      style: style,\n      children: _react.default.createElement(Component, props)\n    }, ref);\n  };\n\n  WithView.displayName = \"\".concat(displayName, \".View\");\n  var WithExt = (0, _react.forwardRef)(WithView);\n  ext && Object.entries(ext).forEach(function (_ref5) {\n    var _ref6 = _slicedToArray(_ref5, 2),\n        name = _ref6[0],\n        value = _ref6[1];\n\n    WithExt[name] = value; // eslint-disable-line @typescript-eslint/no-explicit-any\n  });\n  return WithExt;\n};\n\nexports.withView = withView;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  useGradient: true\n};\nexports.useGradient = useGradient;\n\nvar _react = require(\"react\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _Simple = require(\"./Simple\");\n\nObject.keys(_Simple).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Simple[key];\n    }\n  });\n});\n\nvar _Velocity = require(\"./Velocity\");\n\nObject.keys(_Velocity).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Velocity[key];\n    }\n  });\n});\n\nvar _Circular = require(\"./Circular\");\n\nObject.keys(_Circular).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Circular[key];\n    }\n  });\n});\n\nfunction useGradient(pointsFn, gradientFn) {\n  var ticker = (0, _Ticker.useTicker)();\n  var points = (0, _react.useRef)([]);\n  (0, _react.useEffect)(function () {\n    points.current = pointsFn(ticker, points.current);\n  }, [pointsFn]);\n\n  var _ref = (0, _react.useMemo)(function () {\n    var subject = new _rxjs.Subject();\n    return [subject.pipe.bind(subject), function (state) {\n      return subject.next(state);\n    }];\n  }, []),\n      _ref2 = _slicedToArray(_ref, 2),\n      state = _ref2[0],\n      setState = _ref2[1];\n\n  (0, _react.useEffect)(function () {\n    var state;\n    var sub = ticker.each(function () {\n      state = gradientFn(ticker, points.current, state);\n      setState(state);\n    });\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, [gradientFn]);\n  (0, _react.useDebugValue)(state, JSON.stringify);\n  return state;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Composite = exports.useComposite = exports.CompositeContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _hooks = require(\"../hooks\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar eventNames = ['beforeAdd', 'afterAdd', 'beforeRemove', 'afterRemove'];\nvar CompositeContext = (0, _react.createContext)(undefined);\nexports.CompositeContext = CompositeContext;\nCompositeContext.displayName = 'Composite';\n\nvar useComposite = function useComposite() {\n  return (0, _react.useContext)(CompositeContext);\n};\n\nexports.useComposite = useComposite;\n\nvar Composite = function Composite(_ref) {\n  var children = _ref.children,\n      events = _ref.events,\n      definition = _objectWithoutProperties(_ref, [\"children\", \"events\"]);\n\n  var parent = useComposite();\n  var composite = (0, _hooks.useCloseable)(function () {\n    var composite = Matter.Composite.create(definition);\n    Matter.Composite.add(parent, composite);\n    return composite;\n  }, function (composite) {\n    return Matter.Composite.remove(parent, composite);\n  });\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(composite, name, callback);\n      return function () {\n        return Matter.Events.off(composite, name, callback);\n      };\n    }, [events[name]]);\n  });\n  return _react.default.createElement(CompositeContext.Provider, {\n    value: composite\n  }, children);\n};\n\nexports.Composite = Composite;\n\nComposite.useEvent = function (name, callback) {\n  var composite = useComposite();\n  (0, _react.useEffect)(function () {\n    Matter.Events.on(composite, name, callback);\n    return function () {\n      return Matter.Events.off(composite, name, callback);\n    };\n  }, [composite]);\n};","\"use strict\";\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useWorld = exports.useEngine = exports.World = exports.EngineContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _Renderer = require(\"../Renderer\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _Mouse = require(\"./Mouse\");\n\nvar _Composite = require(\"./Composite\");\n\nvar _UI = require(\"../UI\");\n\nvar _operators = require(\"rxjs/operators\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar eventNames = ['beforeAdd', 'afterAdd', 'beforeRemove', 'afterRemove', 'beforeUpdate', 'afterUpdate', 'beforeRender', 'afterRender', 'collisionStart', 'collisionActive', 'collisionEnd', 'beforeTick', 'tick', 'afterTick', 'beforeRender', 'afterRender'];\nvar defaultRenderOptions = {\n  wireframeBackground: 'transparent',\n  showPositions: true,\n  showBounds: true,\n  showVelocity: true,\n  showCollisions: true\n};\nvar EngineContext = (0, _react.createContext)(undefined);\nexports.EngineContext = EngineContext;\nEngineContext.displayName = 'World.Engine';\n\nvar World = function World(_ref) {\n  var children = _ref.children,\n      _ref$events = _ref.events,\n      events = _ref$events === void 0 ? {} : _ref$events,\n      _ref$renderDebug = _ref.renderDebug,\n      renderDebug = _ref$renderDebug === void 0 ? false : _ref$renderDebug,\n      definition = _objectWithoutProperties(_ref, [\"children\", \"events\", \"renderDebug\"]);\n\n  var renderer = (0, _Renderer.useRenderer)();\n  var ticker = (0, _Ticker.useTicker)();\n  var engine = (0, _hooks.useCloseable)(function () {\n    var engine = Matter.Engine.create(definition); // Matter.Engine.run(engine);\n\n    ticker.each(function (delta) {\n      return Matter.Engine.update(engine, delta);\n    });\n    return engine;\n  }, function (engine) {\n    return Matter.Engine.clear(engine);\n  });\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(engine, name, callback);\n      return function () {\n        return Matter.Events.off(engine, name, callback);\n      };\n    }, [events[name]]);\n  }); // render debug canvas.\n\n  (0, _react.useEffect)(function () {\n    var _canvas$classList;\n\n    if (!renderDebug) return; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    var _ref2 = renderDebug === true ? {} : renderDebug,\n        _ref2$classList = _ref2.classList,\n        classList = _ref2$classList === void 0 ? ['UI'] : _ref2$classList,\n        renderDefinition = _objectWithoutProperties(_ref2, [\"classList\"]);\n\n    var renderOptions = _objectSpread({\n      width: renderer.width,\n      height: renderer.height\n    }, defaultRenderOptions, {}, renderDefinition.options);\n\n    var _ref3 = renderDefinition.canvas ? [renderDefinition.canvas] : function () {\n      if (renderer.view.parentNode == null) return [];\n      var canvas = document.createElement('canvas');\n      canvas.id = 'debugRenderer';\n      renderer.view.parentNode.appendChild(canvas);\n      var style = canvas.style; // prevent `Matter` change the canvas style\n\n      Object.defineProperty(canvas, 'style', {\n        get: function get() {\n          return {};\n        }\n      });\n      return [canvas, style];\n    }(),\n        _ref4 = _slicedToArray(_ref3, 2),\n        canvas = _ref4[0],\n        style = _ref4[1];\n\n    var render = Matter.Render.create(_objectSpread({}, renderDefinition, {\n      canvas: canvas,\n      engine: engine,\n      options: renderOptions\n    }));\n\n    (_canvas$classList = canvas.classList).add.apply(_canvas$classList, _toConsumableArray(classList));\n\n    Matter.Render.run(render);\n    if (style == null) return;\n\n    var updateStyle = function updateStyle() {\n      var _renderer$view = renderer.view,\n          clientWidth = _renderer$view.clientWidth,\n          clientHeight = _renderer$view.clientHeight,\n          offsetLeft = _renderer$view.offsetLeft,\n          offsetTop = _renderer$view.offsetTop;\n      style.width = \"\".concat(clientWidth, \"px\");\n      style.height = \"\".concat(clientHeight, \"px\");\n      style.left = \"\".concat(offsetLeft, \"px\");\n      style.top = \"\".concat(offsetTop, \"px\");\n    };\n\n    var sub = (0, _UI.fromResize)(renderer.view).pipe((0, _operators.debounceTime)(100)).subscribe(function (_) {\n      return updateStyle();\n    });\n    updateStyle();\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, [engine]);\n  return _react.default.createElement(EngineContext.Provider, {\n    value: engine\n  }, _react.default.createElement(_Composite.CompositeContext.Provider, {\n    value: engine.world\n  }, children));\n};\n\nexports.World = World;\n\nvar useEngine = function useEngine() {\n  var engine = (0, _react.useContext)(EngineContext);\n  (0, _react.useDebugValue)(engine, function (engine) {\n    var g = window; // eslint-disable-line @typescript-eslint/no-explicit-any\n    // for debugger\n\n    g.Matter = Matter;\n    g.engine = engine; // eslint-disable-next-line @typescript-eslint/no-explicit-any, no-debugger\n\n    if (useEngine.firstDebug !== false) {\n      debugger;\n      useEngine.firstDebug = false;\n    }\n\n    return \"engine#\".concat(engine.world.id);\n  });\n  return engine;\n};\n\nexports.useEngine = useEngine;\n\nvar useWorld = function useWorld() {\n  return (useEngine() || {}).world;\n};\n\nexports.useWorld = useWorld;\nWorld.Mouse = _Mouse.Mouse;\n\nvar useEvent = function useEvent(name, callback) {\n  var engine = useEngine();\n  (0, _react.useEffect)(function () {\n    Matter.Events.on(engine, name, callback);\n    return function () {\n      return Matter.Events.off(engine, name, callback);\n    };\n  }, [engine]);\n};\n\nWorld.useEvent = useEvent;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  SpriteProps: true,\n  SpriteContext: true,\n  useSprite: true,\n  Sprite: true\n};\nObject.defineProperty(exports, \"SpriteProps\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.SpriteProps;\n  }\n});\nObject.defineProperty(exports, \"SpriteContext\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.SpriteContext;\n  }\n});\nObject.defineProperty(exports, \"useSprite\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.useSprite;\n  }\n});\nObject.defineProperty(exports, \"Sprite\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.Sprite;\n  }\n});\n\nvar _Animated = require(\"./Animated\");\n\nObject.keys(_Animated).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Animated[key];\n    }\n  });\n});\n\nvar _Sprite = require(\"./Sprite\");\n\nvar _Movable = require(\"./Movable\");\n\nObject.keys(_Movable).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Movable[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Sprite = exports.createSprite = exports.useSprite = exports.SpriteContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _Container = require(\"../Container\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _View = require(\"../UI/View\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar SpriteContext = (0, _react.createContext)(undefined);\nexports.SpriteContext = SpriteContext;\nSpriteContext.displayName = 'Sprite';\n\nvar useSprite = function useSprite() {\n  return (0, _react.useContext)(SpriteContext);\n}; // should only usage in `Sprite` package, DO NOT export to others.\n\n\nexports.useSprite = useSprite;\n\nvar createSprite = function createSprite(displayName, supplier, update) {\n  var Sprite = function Sprite(props, ref) {\n    var container = (0, _Container.useContainer)();\n    var sprite = (0, _hooks.useCloseable)(function () {\n      var sprite = supplier(props);\n      container.addChild(sprite);\n      (0, _View.setRef)(ref, sprite);\n      return sprite;\n    }, function (sprite) {\n      (0, _View.setRef)(ref, null);\n      container.removeChild(sprite);\n      sprite.destroy();\n    });\n    update(sprite, props);\n    var children = props.children,\n        texture = props.texture,\n        position = props.position,\n        scale = props.scale,\n        _props$anchor = props.anchor,\n        anchor = _props$anchor === void 0 ? {\n      x: 0.5,\n      y: 0.5\n    } : _props$anchor,\n        rotation = props.rotation,\n        _props$tint = props.tint,\n        tint = _props$tint === void 0 ? 0xFFFFFF : _props$tint,\n        blendMode = props.blendMode;\n    if (texture != null && texture !== sprite.texture) sprite.texture = texture;\n    if (position && position !== sprite.position) sprite.position.set(position.x, position.y);\n\n    if (scale != null) {\n      var _ref = scale instanceof Object ? scale : {\n        x: scale,\n        y: scale\n      },\n          x = _ref.x,\n          y = _ref.y;\n\n      if (x !== sprite.scale.x) sprite.scale.x = x;\n      if (y !== sprite.scale.y) sprite.scale.y = y;\n    }\n\n    if (anchor) {\n      if (anchor.x !== sprite.anchor.x) sprite.anchor.x = anchor.x;\n      if (anchor.y !== sprite.anchor.y) sprite.anchor.y = anchor.y;\n    }\n\n    if (rotation) {\n      if ('degree' in rotation && rotation.degree !== sprite.angle) sprite.angle = rotation.degree;else if ('radian' in rotation && rotation.radian !== sprite.rotation) sprite.rotation = rotation.radian;\n    }\n\n    if (tint !== sprite.tint) sprite.tint = tint;\n    if (blendMode != null && blendMode !== sprite.blendMode) sprite.blendMode = blendMode;\n    return _react.default.createElement(SpriteContext.Provider, {\n      value: sprite\n    }, children);\n  };\n\n  Sprite.displayName = displayName;\n  return (0, _react.forwardRef)(Sprite);\n};\n\nexports.createSprite = createSprite;\nvar Sprite = createSprite('Sprite', function (_ref2) {\n  var texture = _ref2.texture;\n  return new PIXI.Sprite(texture);\n}, function (_sprite, _props) {});\nexports.Sprite = Sprite;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ParticleContainer = exports.Container = exports.useContainer = exports.ContainerContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nvar _View = require(\"./UI/View\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar ContainerContext = (0, _react.createContext)(undefined);\nexports.ContainerContext = ContainerContext;\nContainerContext.displayName = 'Container';\n\nvar useContainer = function useContainer() {\n  return (0, _react.useContext)(ContainerContext);\n};\n\nexports.useContainer = useContainer;\n\nvar createContainer = function createContainer(displayName, constructor) {\n  var Container = function Container(_ref, ref) {\n    var children = _ref.children;\n    var parent = useContainer();\n    var container = (0, _hooks.useCloseable)(function () {\n      var container = new constructor();\n      parent && parent.addChild(container);\n      (0, _View.setRef)(ref, container);\n      return container;\n    }, function (container) {\n      (0, _View.setRef)(ref, null);\n      parent && parent.removeChild(container);\n      container.destroy();\n    });\n    return _react.default.createElement(ContainerContext.Provider, {\n      value: container\n    }, children);\n  };\n\n  Container.displayName = displayName;\n  return (0, _react.forwardRef)(Container);\n};\n\nvar Container = createContainer('Container', PIXI.Container);\nexports.Container = Container;\nvar ParticleContainer = createContainer('Container', PIXI.ParticleContainer);\nexports.ParticleContainer = ParticleContainer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLoader = exports.Loader = exports.LoaderContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar LoaderContext = (0, _react.createContext)(PIXI.Loader.shared);\nexports.LoaderContext = LoaderContext;\nLoaderContext.displayName = 'Loader';\n\nvar Loader = function Loader(_ref) {\n  var children = _ref.children,\n      baseUrl = _ref.baseUrl,\n      concurrency = _ref.concurrency;\n  var loader = (0, _hooks.useCloseable)(function () {\n    return new PIXI.Loader(baseUrl, concurrency);\n  });\n  if (baseUrl != null && baseUrl !== loader.baseUrl) loader.baseUrl = baseUrl;\n  if (concurrency != null && concurrency !== loader.concurrency) loader.concurrency = concurrency;\n  return _react.default.createElement(LoaderContext.Provider, {\n    value: loader\n  }, children);\n};\n\nexports.Loader = Loader;\n\nLoader.Creator = function (_ref2) {\n  var baseUrl = _ref2.baseUrl,\n      concurrency = _ref2.concurrency;\n  return (0, _react.useMemo)(function () {\n    return {\n      create: function create() {\n        return new PIXI.Loader(baseUrl, concurrency);\n      }\n    };\n  }, []);\n};\n\nvar useLoader = function useLoader() {\n  var loader = (0, _react.useContext)(LoaderContext);\n  (0, _react.useDebugValue)(loader.progress, function (progress) {\n    return \"progress: \".concat(progress);\n  });\n  return loader;\n};\n\nexports.useLoader = useLoader;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shuffle = exports.compareExtract = exports.compareNature = void 0;\n\nvar compareNature = function compareNature(l, r) {\n  return l < r ? -1 : l === r ? 0 : 1;\n};\n\nexports.compareNature = compareNature;\n\nvar compareExtract = function compareExtract(mapper) {\n  var compare = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : compareNature;\n  return function (target1, target2) {\n    return compare(mapper(target1), mapper(target2));\n  };\n};\n\nexports.compareExtract = compareExtract;\n\nvar shuffle = function shuffle(elements) {\n  var wrapper = elements.map(function (element) {\n    return {\n      element: element,\n      weight: Math.random()\n    };\n  });\n  wrapper.sort(compareExtract(function (_ref) {\n    var weight = _ref.weight;\n    return weight;\n  }));\n  return wrapper.map(function (_ref2) {\n    var element = _ref2.element;\n    return element;\n  });\n};\n\nexports.shuffle = shuffle;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pick = void 0;\n\nvar _operators = require(\"rxjs/operators\");\n/** rxjs extends */\n\n\nvar pick = function pick(key) {\n  return function (source) {\n    return source.pipe((0, _operators.pluck)(key), (0, _operators.filter)(function (value) {\n      return value !== undefined;\n    }));\n  };\n};\n\nexports.pick = pick;","\"use strict\";\n\nvar _defineProperty2 = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Core = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Core = function Core(id, events, subject) {\n  var _this = this;\n\n  _classCallCheck(this, Core);\n\n  _defineProperty(this, \"rpcId\", void 0);\n\n  _defineProperty(this, \"subjectId\", void 0);\n\n  _defineProperty(this, \"pipe\", void 0);\n\n  _defineProperty(this, \"rpc\", void 0);\n\n  _defineProperty(this, \"events\", void 0);\n\n  this.rpcId = \"_FURE_CORE_RPC-\".concat(id);\n  this.subjectId = \"_FURE_CORE_SUBJECT-\".concat(id);\n  this.pipe = subject.pipe.bind(subject); //#region BACKEND\n\n  if (typeof window === 'undefined') {\n    this.rpc = function (event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return Promise.resolve(events[event].apply(events, args));\n    };\n\n    this.events = Object.keys(events).reduce(function (dict, key) {\n      return _objectSpread({}, dict, _defineProperty2({}, key, _this.rpc.bind(null, key)));\n    }, {}); // expose `subject` for the main process of `carlo` to listen from.\n\n    this[this.subjectId] = subject; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n    return;\n  } //#endregion\n  //#region FRONTEND\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  var g = window; // eslint-disable-line no-undef\n\n  if (g[this.rpcId] instanceof Function) {\n    this.rpc = g[this.rpcId];\n    this.events = Object.keys(events).reduce(function (dict, key) {\n      return _objectSpread({}, dict, _defineProperty2({}, key, _this.rpc.bind(null, key)));\n    }, {}); // expose `subject` for the view process of `carlo` to send forward.\n\n    g[this.subjectId] = subject;\n    return;\n  } //#endregion\n  //#region FRONT-ONLY MOCK\n\n\n  this.rpc = function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return Promise.resolve(events[event].apply(events, args));\n  };\n\n  this.events = Object.keys(events).reduce(function (dict, key) {\n    return _objectSpread({}, dict, _defineProperty2({}, key, function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      // delay 1ms to emulate the frontend-backend RPC call delay.\n      return (0, _rxjs.interval)(1).pipe((0, _operators.take)(1)).toPromise().then(function () {\n        return _this.rpc.apply(_this, [key].concat(args));\n      });\n    }));\n  }, {}); //#endregion\n};\n\nexports.Core = Core;","\"use strict\";\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Velocity = exports.velocityFn = void 0;\n\nvar _react = require(\"react\");\n\nvar _Gradient = require(\"./Gradient\");\n\nvar velocityGradientFn = function velocityGradientFn() {\n  return function (ticker, _ref, state) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        point = _ref2[0];\n\n    if (state == null) return point;\n    var deltaTime = ticker.deltaTime;\n    var vectors = state.map(function (vector) {\n      return _toConsumableArray(vector);\n    }); // deep clone\n\n    var _loop = function _loop(index) {\n      var vector = vectors[vectors.length - index];\n      var previous = vectors[vectors.length - index - 1];\n      vector.forEach(function (value, index) {\n        return previous[index] = previous[index] + value * deltaTime;\n      });\n    };\n\n    for (var index = 1; index < vectors.length; index++) {\n      _loop(index);\n    }\n\n    return vectors;\n  };\n};\n\nvar velocityFn = function velocityFn(state) {\n  var deps = state.map(function (vector) {\n    return vector.join(',');\n  });\n  var pointsFn = (0, _react.useCallback)(function () {\n    return [state];\n  }, deps);\n  var gradientFn = (0, _react.useCallback)(velocityGradientFn(), deps);\n  return [pointsFn, gradientFn];\n};\n\nexports.velocityFn = velocityFn;\n\nvar Velocity = function Velocity(_ref3) {\n  var children = _ref3.children,\n      state = _ref3.state;\n  var pipe = (0, _Gradient.useGradient).apply(void 0, _toConsumableArray(velocityFn(state)));\n  return children(pipe);\n};\n\nexports.Velocity = Velocity;\nVelocity.displayName = 'Gradient.Velocity';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"fromResize\", {\n  enumerable: true,\n  get: function get() {\n    return _resize.fromResize;\n  }\n});\nexports.UI = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _operators = require(\"rxjs/operators\");\n\nrequire(\"./index.css\");\n\nvar _resize = require(\"./resize\");\n\nvar _Renderer = require(\"../Renderer\");\n\nvar _Ticker = require(\"../Ticker\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar styleOf = function styleOf(renderer) {\n  var scaleMode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var _renderer$view = renderer.view,\n      clientWidth = _renderer$view.clientWidth,\n      clientHeight = _renderer$view.clientHeight,\n      offsetLeft = _renderer$view.offsetLeft,\n      offsetTop = _renderer$view.offsetTop;\n  if (!scaleMode) return {\n    width: clientWidth,\n    height: clientHeight,\n    left: offsetLeft,\n    top: offsetTop\n  };\n  var width = renderer.width,\n      height = renderer.height;\n  return {\n    width: width,\n    height: height,\n    transform: \"scale(\".concat(clientWidth / width, \", \").concat(clientHeight / height, \")\"),\n    left: (clientWidth - width) / 2 + offsetLeft,\n    top: (clientHeight - height) / 2 + offsetTop\n  };\n};\n\nvar UI = function UI(_ref) {\n  var id = _ref.id,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      outerStyle = _ref.style,\n      children = _ref.children,\n      scaleMode = _ref.scaleMode;\n  var renderer = (0, _Renderer.useRenderer)();\n  var styleEvent = (0, _react.useMemo)(function () {\n    return (0, _resize.fromResize)(renderer.view).pipe((0, _operators.debounceTime)(100)).pipe((0, _operators.map)(function (_) {\n      return styleOf(renderer, scaleMode);\n    }));\n  }, []);\n  var builtinStyle = (0, _Ticker.useSubscribe)(styleEvent, (0, _react.useMemo)(function () {\n    return styleOf(renderer, scaleMode);\n  }, []));\n  var style = (0, _react.useMemo)(function () {\n    return _objectSpread({}, outerStyle, {}, builtinStyle);\n  }, [outerStyle, builtinStyle]);\n  return _react.default.createElement(\"div\", {\n    id: id,\n    className: \"\".concat(className && \"\".concat(className, \" \"), \"UI\"),\n    style: style\n  }, children);\n};\n\nexports.UI = UI;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeResource = exports.Resource = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"../hooks\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n} //#region fix fuck type\n\n\nvar Resource = PIXI.LoaderResource;\nexports.Resource = Resource;\nvar Polygon = PIXI.Polygon; //#endregion\n\nvar makeResource = {\n  maker: undefined,\n  draw: function draw(object) {\n    var close = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _hooks.defaultClose;\n\n    if (this.maker == null) {\n      this.maker = new PIXI.Renderer({\n        width: 0,\n        height: 0,\n        transparent: true\n      });\n      console.warn('[Furegame]: used `makeResource` to generate temporary resources, not recommand for production envriroments.'); // eslint-disable-line no-console\n    }\n\n    var maker = this.maker; // lazy init the maker once it was used.\n\n    var _object$getBounds = object.getBounds(),\n        width = _object$getBounds.width,\n        height = _object$getBounds.height; // renderer the object\n\n\n    maker.view.width = width;\n    maker.view.height = height;\n    maker.render(object); // generate texture\n\n    var image = new Image();\n    image.src = maker.view.toDataURL();\n    var texture = new PIXI.Texture(new PIXI.BaseTexture(image)); // clean the renderer\n\n    maker.clear();\n    maker.view.width = 0;\n    maker.view.height = 0;\n    close(object);\n    return function (id, loader) {\n      if (id) {\n        if (loader) {\n          var resource = new Resource(id, \"#\".concat(id));\n          loader.resources[id] = resource;\n          resource.texture = texture;\n        }\n\n        PIXI.Texture.addToCache(texture, id);\n      }\n\n      return texture;\n    };\n  },\n  shape: function shape() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        fill = _ref.fill,\n        line = _ref.line;\n\n    var border = line && line.width ? 2 * line.width : 0;\n    return {\n      draw: function draw(shape) {\n        var graphics = new PIXI.Graphics();\n        fill ? graphics.beginFill(fill.color, fill.alpha) : graphics.beginFill(0x000000);\n        line && graphics.lineStyle(line.width, line.color, line.alpha);\n\n        if (shape instanceof Function) {\n          shape(graphics);\n        } else {\n          graphics.drawShape(shape);\n        }\n\n        return makeResource.draw(graphics);\n      },\n      circle: function circle(radius) {\n        return this.draw(new PIXI.Circle(border + radius, border + radius, radius));\n      },\n      ellipse: function ellipse(width, height) {\n        return this.draw(new PIXI.Ellipse(border + width, border + height, width, height));\n      },\n      polygon: function polygon(points) {\n        return this.draw(new Polygon(points));\n      },\n      rectangle: function rectangle(width, height) {\n        return this.draw(new PIXI.Rectangle(border, border, width, height));\n      },\n      roundedRectangle: function roundedRectangle(width, height, radius) {\n        return this.draw(new PIXI.RoundedRectangle(border, border, width, height, radius));\n      },\n      triangle: function triangle(width, height, sharp) {\n        return this.draw(new Polygon([border + sharp, border, border, border + height, border + width, border + height]));\n      },\n      star: function star(points, radius, innerRadius, rotation) {\n        return this.draw(function (graphics) {\n          return graphics.drawStar(border + radius, border + radius, points, radius, innerRadius, rotation);\n        });\n      }\n    };\n  },\n  text: function text(value, style) {\n    return makeResource.draw(new PIXI.Text(value, style));\n  }\n};\nexports.makeResource = makeResource;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useStage = exports.Stage = exports.StageContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _Container = require(\"./Container\");\n\nvar _hooks = require(\"./hooks\");\n\nvar _Renderer = require(\"./Renderer\");\n\nvar _Ticker = require(\"./Ticker\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar StageContext = _Container.ContainerContext; // `Stage` is just alias of `Container`\n\nexports.StageContext = StageContext;\n\nvar Stage = function Stage(_ref) {\n  var children = _ref.children;\n  var container = (0, _hooks.useCloseable)(function () {\n    return new PIXI.Container();\n  });\n  return _react.default.createElement(StageContext.Provider, {\n    value: container\n  }, children);\n};\n\nexports.Stage = Stage;\nvar useStage = _Container.useContainer;\n/** `LazyRefresh` would refresh the `stage` only if the node was re-rendered. */\n\nexports.useStage = useStage;\n\nStage.LazyRefresh = function () {\n  var stage = useStage();\n  var renderer = (0, _Renderer.useRenderer)();\n  var ticker = (0, _Ticker.useTicker)();\n  var subRef = (0, _react.useRef)(null);\n  subRef.current = ticker.once(function () {\n    return renderer.render(stage);\n  });\n  (0, _react.useEffect)(function () {\n    return function () {\n      subRef.current && subRef.current.unsubscribe();\n    };\n  }, []);\n  return null;\n};\n\nStage.LazyRefresh.displayName = 'Stage.LazyRefresh'; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n/** `TickRefresh` would refresh the `stage` each time the ticker frame updated. */\n\nStage.TickRefresh = function () {\n  var stage = useStage();\n  var renderer = (0, _Renderer.useRenderer)();\n  var ticker = (0, _Ticker.useTicker)();\n  (0, _react.useEffect)(function () {\n    var sub = ticker.each(function () {\n      return renderer.render(stage);\n    });\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, []);\n  return null;\n};\n\nStage.TickRefresh.displayName = 'Stage.TickRefresh'; // eslint-disable-line @typescript-eslint/no-explicit-any","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Gradient = void 0;\n\nvar Gradient = _interopRequireWildcard(require(\"./Gradient\"));\n\nexports.Gradient = Gradient;\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}","\"use strict\";\n\nvar _console;\n\nvar _package = _interopRequireDefault(require(\"../package.json\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/** `..` path imported from `.ts` would broken the output dir structure */\n\n\nvar padding = 'padding: 0.2em 0.5em;';\n\n(_console = console).info.apply(_console, [[// eslint-disable-line no-console\n\"%cFuregame \".concat(_package.default.version, \"%c\"), \"%c\".concat(_package.default.author, \"%c\\n\"), \"%c\".concat(_package.default.license, \"%c\"), \"%c\".concat(_package.default.homepage, \"%c\")].join('')].concat([\"background: #6cf; color: #fff; \".concat(padding), ''].concat([\"color: #6cc; \".concat(padding), ''], [\"background: #e00; color: #9ff; \".concat(padding), ''], [\"\".concat(padding), ''])));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _compare = require(\"./compare\");\n\nObject.keys(_compare).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _compare[key];\n    }\n  });\n});\n\nvar _TreeSet = require(\"./TreeSet\");\n\nObject.keys(_TreeSet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _TreeSet[key];\n    }\n  });\n});","\"use strict\";\n\nvar _classCallCheck = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TreeSet = exports.binarySearch = void 0;\n\nvar _compare = require(\"./compare\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar binarySearch = function binarySearch(comparator, elements, target) {\n  var left = 0;\n  var right = elements.length - 1;\n\n  while (left <= right) {\n    var middle = left + right >> 1;\n    var cmp = comparator(elements[middle], target);\n\n    if (cmp < 0) {\n      left = middle + 1;\n    } else if (cmp > 0) {\n      right = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  return left;\n};\n\nexports.binarySearch = binarySearch;\n\nvar TreeSet =\n/*#__PURE__*/\nfunction () {\n  function TreeSet() {\n    var comparator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _compare.compareNature;\n    var elements = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, TreeSet);\n\n    _defineProperty(this, \"elements\", []);\n\n    _defineProperty(this, \"comparator\", void 0);\n\n    this.comparator = comparator;\n    elements && this.pushAll(elements);\n  }\n\n  _createClass(TreeSet, [{\n    key: \"top\",\n\n    /**\r\n     * get and remove the head element\r\n     */\n    value: function top() {\n      if (this.isEmpty) return undefined;\n      return this.elements.splice(0, 1)[0];\n    }\n    /**\r\n     * get and remove the last element\r\n     */\n\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      if (this.isEmpty) return undefined;\n      return this.elements.splice(this.size - 1, 1)[0];\n    }\n  }, {\n    key: \"push\",\n    value: function push(element) {\n      var index = binarySearch(this.comparator, this.elements, element);\n      this.elements.splice(index, 0, element);\n    }\n  }, {\n    key: \"pushAll\",\n    value: function pushAll(elements) {\n      var _this = this;\n\n      elements.forEach(function (element) {\n        return _this.push(element);\n      });\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.elements.length;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      return this.elements.length === 0;\n    }\n  }, {\n    key: \"head\",\n    get: function get() {\n      return this.elements[0];\n    }\n  }, {\n    key: \"last\",\n    get: function get() {\n      return this.elements[this.size - 1];\n    }\n  }]);\n\n  return TreeSet;\n}();\n\nexports.TreeSet = TreeSet;","\"use strict\";\n\nvar _classCallCheck = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Ticker = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _Core = require(\"./Core\");\n\nvar _rx = require(\"./rx\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar requestTimer = typeof window === 'undefined' ? function () {\n  var start = new Date().getTime();\n  return function (cb) {\n    return setTimeout(function () {\n      return cb(new Date().getTime() - start);\n    }, 1000 / 60);\n  };\n}() : function () {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var g = window; // eslint-disable-line no-undef\n  // if ((g.performance && g.performance.now) instanceof Function) {\n  //   return cb => g.requestAnimationFrame(() => cb(g.performance.now()));\n  // }\n\n  return g.requestAnimationFrame;\n}();\n\nvar Ticker =\n/*#__PURE__*/\nfunction () {\n  _createClass(Ticker, [{\n    key: \"each\",\n    // execute `fn` each tick.\n    value: function each(fn) {\n      this.autoStart && this.autoStart();\n      return this.pipe().subscribe(fn);\n    } // execute `fn` once at next tick.\n\n  }, {\n    key: \"once\",\n    value: function once(fn) {\n      this.autoStart && this.autoStart();\n      return this.pipe((0, _operators.take)(1)).subscribe(fn);\n    }\n  }, {\n    key: \"start\",\n    //#endregion\n    //#region controller\n    // start ticker\n    value: function start() {\n      return this.core.events.start();\n    } // pause ticker\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      return this.core.events.pause();\n    } //#endregion\n\n    /**\r\n     * Ticker.\r\n     * if you create a new `Ticker`, then in most time you shoud registered it into `main` app by `pipeCore`.\r\n     * @param id .\r\n     * @param autoStart if `true` it would invoke `start()` automatically when `each`, `once` was called.\r\n     * @param syncPeriod default is `100`, it will sync timer betweenn browser and back-end each `syncPeriod` millisecond.\r\n     */\n\n  }, {\n    key: \"now\",\n    //#region timer\n    get: function get() {\n      return this.time.now + this.time.offset;\n    }\n    /** now - pauseTime */\n\n  }, {\n    key: \"runTime\",\n    get: function get() {\n      return this.time.run;\n    }\n    /** now - lastTime, `0` if ticker not running. */\n\n  }, {\n    key: \"deltaTime\",\n    get: function get() {\n      return this.time.delta;\n    }\n  }, {\n    key: \"FPS\",\n    get: function get() {\n      if (!this.time.delta) return 0;\n      return 1000 / this.time.delta;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    }\n  }]);\n\n  function Ticker(id) {\n    var _this = this;\n\n    var autoStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var syncPeriod = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n\n    _classCallCheck(this, Ticker);\n\n    _defineProperty(this, \"time\", {\n      now: 0,\n      offset: 0,\n      run: 0,\n      delta: 0\n    });\n\n    _defineProperty(this, \"autoStart\", void 0);\n\n    _defineProperty(this, \"pipe\", void 0);\n\n    _defineProperty(this, \"_running\", false);\n\n    _defineProperty(this, \"core\", void 0); //#region init core\n\n\n    var core = function () {\n      var subject = new _rxjs.Subject();\n      var events = {\n        start: function start() {\n          return subject.next({\n            running: true\n          });\n        },\n        pause: function pause() {\n          return subject.next({\n            running: false\n          });\n        },\n        sync: function sync(offset) {\n          return subject.next({\n            time: {\n              offset: offset\n            }\n          });\n        }\n      };\n      return new _Core.Core(\"_FURE_CORE_TICKER-\".concat(id), events, subject);\n    }();\n\n    core.pipe((0, _rx.pick)('running')).subscribe(function (running) {\n      return _this._running = running;\n    });\n    this.core = core; //#endregion\n\n    if (autoStart) {\n      this.autoStart = function () {\n        _this.start();\n\n        _this.autoStart = undefined;\n      };\n    } //#region init timer\n\n\n    var timer = new _rxjs.Subject();\n\n    var render = function render(now) {\n      requestTimer(render);\n      var delta = now - _this.time.now;\n      _this.time.now = now;\n      _this.time.delta = 0;\n      if (!_this._running) return;\n\n      if (render.skipOnBack) {\n        render.skipOnBack = false;\n        console.info(\"timer#\".concat(id, \" skipped a frame about \").concat(delta, \"ms because the window has hide.\"));\n        return;\n      }\n\n      if (delta <= 0 || delta > 1000) return;\n      _this.time.delta = delta;\n      _this.time.run += delta;\n      timer.next(delta);\n    };\n\n    render(0);\n    this.pipe = timer.pipe.bind(timer); //#endregion\n    //#region sync ticker\n    // backend.now == browser.now == browser.time.now + browser.time.offset\n\n    if (typeof window === 'undefined') {\n      syncPeriod > 0 && timer.pipe((0, _operators.throttleTime)(syncPeriod, _rxjs.asyncScheduler, {\n        leading: true,\n        trailing: false\n      })).subscribe(function (_delta) {\n        return core.events.sync(new Date().getTime() - _this.time.now);\n      });\n    } else {\n      core.pipe((0, _rx.pick)('time')).subscribe(function (_ref) {\n        var offset = _ref.offset;\n        return _this.time.offset = new Date().getTime() - _this.time.now - offset;\n      }); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      var g = window; // eslint-disable-line no-undef\n      // listen visibility change event to skip the first frame after the window changed.\n\n      (0, _rxjs.fromEvent)(g, 'visibilitychange').pipe((0, _operators.filter)(function () {\n        return g.document.visibilityState === 'visible';\n      })).subscribe(function (_visibile) {\n        return render.skipOnBack = true;\n      });\n      render.skipOnBack = false;\n    } //#endregion\n\n  }\n\n  return Ticker;\n}();\n\nexports.Ticker = Ticker;\n\n_defineProperty(Ticker, \"shared\", new Ticker('shared', true));","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useSubscribe = exports.Subscribe = void 0;\n\nvar _react = require(\"react\");\n\nvar Subscribe = function Subscribe(_ref) {\n  var source = _ref.source,\n      update = _ref.update;\n  (0, _react.useEffect)(function () {\n    var sub = (source instanceof Function ? source() : source).subscribe(update);\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, [source]);\n  return null;\n};\n\nexports.Subscribe = Subscribe;\n\nvar useSubscribe = function useSubscribe(source, init) {\n  var deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  var _ref2 = (0, _react.useState)(init),\n      _ref3 = _slicedToArray(_ref2, 2),\n      snapshot = _ref3[0],\n      setSnapshot = _ref3[1];\n\n  (0, _react.useEffect)(function () {\n    var subcription = (source instanceof Function ? source() : source).subscribe(setSnapshot);\n    return function () {\n      return subcription.unsubscribe();\n    };\n  }, deps);\n  (0, _react.useDebugValue)(snapshot, JSON.stringify);\n  return snapshot;\n};\n\nexports.useSubscribe = useSubscribe;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Simple = exports.simpleFn = void 0;\n\nvar _react = require(\"react\");\n\nvar _Gradient = require(\"./Gradient\");\n\nvar simplePointsFn = function simplePointsFn(state) {\n  return function (ticker, points) {\n    return [{\n      state: state,\n      time: ticker.now\n    }].concat(_toConsumableArray(points.slice(0, 1)));\n  };\n};\n\nvar simpleGradientFn = function simpleGradientFn() {\n  return function (ticker, _ref, state) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        point0 = _ref2[0],\n        point1 = _ref2[1];\n\n    if (point1 == null) return 0;\n    if (state === point0.state) return point0.state;\n    var remain = point0.time - point1.time - (ticker.now - point0.time);\n    var interp = state + (point0.state - state) / remain * ticker.deltaTime;\n    return Math.max(state, Math.min(interp, point0.state));\n  };\n};\n\nvar simpleFn = function simpleFn(state) {\n  var pointsFn = (0, _react.useCallback)(simplePointsFn(state), [state]);\n  var gradientFn = (0, _react.useCallback)(simpleGradientFn(), []);\n  return [pointsFn, gradientFn];\n};\n\nexports.simpleFn = simpleFn;\n\nvar Simple = function Simple(_ref3) {\n  var children = _ref3.children,\n      state = _ref3.state;\n  var pipe = (0, _Gradient.useGradient).apply(void 0, _toConsumableArray(simpleFn(state)));\n  return children(pipe);\n};\n\nexports.Simple = Simple;\nSimple.displayName = 'Gradient.Simple';","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Circular = void 0;\n\nvar _react = require(\"react\");\n\nvar _Velocity = require(\"./Velocity\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar Circular = function Circular(_ref) {\n  var children = _ref.children,\n      state = _ref.state;\n  var position = state.position,\n      rotate = state.rotate,\n      frames = state.frames,\n      distance = state.distance,\n      direction = state.direction;\n  var velocityState = (0, _react.useMemo)(function () {\n    return [[0, rotate, frames, distance, direction].concat(_toConsumableArray(position)), [rotate / frames]];\n  }, [rotate, frames, distance, direction].concat(_toConsumableArray(position)));\n\n  var decorate = function decorate(children) {\n    return function (pipe) {\n      var obs = pipe((0, _operators.map)(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 1),\n            _ref3$ = _slicedToArray(_ref3[0], 7),\n            offset = _ref3$[0],\n            rotate = _ref3$[1],\n            frames = _ref3$[2],\n            distance = _ref3$[3],\n            direction = _ref3$[4],\n            positionX = _ref3$[5],\n            positionY = _ref3$[6];\n\n        var halfRotate = rotate / 2;\n        var velocity = distance / Math.sin(halfRotate) / 2;\n        var initial = direction - halfRotate;\n        var x = positionX + velocity * (Math.cos(initial) * Math.sin(offset) + Math.sin(initial) * Math.cos(offset) - Math.sin(initial));\n        var y = positionY + velocity * (Math.sin(initial) * Math.sin(offset) - Math.cos(initial) * Math.cos(offset) + Math.cos(initial));\n        var angle = initial + offset;\n        return {\n          x: x,\n          y: y,\n          angle: angle,\n          rotate: rotate,\n          frames: frames,\n          distance: distance,\n          direction: direction,\n          position: position\n        };\n      }));\n      return children(obs.pipe.bind(obs));\n    };\n  };\n\n  return (0, _Velocity.Velocity)({\n    state: velocityState,\n    children: decorate(children)\n  });\n};\n\nexports.Circular = Circular;\nCircular.displayName = 'Gradient.Circular';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  Matter: true\n};\nexports.Matter = void 0;\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nexports.Matter = Matter;\n\nvar _Composite = require(\"./Composite\");\n\nObject.keys(_Composite).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Composite[key];\n    }\n  });\n});\n\nvar _Constraint = require(\"./Constraint\");\n\nObject.keys(_Constraint).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Constraint[key];\n    }\n  });\n});\n\nvar _Body = require(\"./Body\");\n\nObject.keys(_Body).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Body[key];\n    }\n  });\n});\n\nvar _World = require(\"./World\");\n\nObject.keys(_World).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _World[key];\n    }\n  });\n});\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}","\"use strict\";\n\nvar _regeneratorRuntime = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nvar _asyncToGenerator = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/asyncToGenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Constraint = void 0;\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _World = require(\"./World\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _react = require(\"react\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar Constraint = function Constraint(props) {\n  var world = (0, _World.useWorld)();\n  (0, _hooks.useCloseableAsync)(\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2(closeRef) {\n      var options, tasks, constraint;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              options = {};\n              tasks = Object.entries(props).map(\n              /*#__PURE__*/\n              function () {\n                var _ref3 = _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee(_ref2) {\n                  var _ref4, key, promise;\n\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _ref4 = _slicedToArray(_ref2, 2), key = _ref4[0], promise = _ref4[1];\n\n                          if (!(promise == null)) {\n                            _context.next = 3;\n                            break;\n                          }\n\n                          return _context.abrupt(\"return\");\n\n                        case 3:\n                          _context.next = 5;\n                          return promise;\n\n                        case 5:\n                          options[key] = _context.sent;\n\n                        case 6:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n              _context2.next = 4;\n              return Promise.all(tasks);\n\n            case 4:\n              constraint = Matter.Constraint.create(options);\n              closeRef.current || Matter.World.add(world, constraint);\n              return _context2.abrupt(\"return\", constraint);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), function (constraint) {\n    return Matter.World.remove(world, constraint);\n  });\n  return null;\n};\n\nexports.Constraint = Constraint;\n\nConstraint.useRefs = function (keys) {\n  var promiseRefs = (0, _react.useMemo)(function () {\n    var newPromiseRef = function newPromiseRef() {\n      var value = null;\n      var setValue;\n      var promise = new Promise(function (resolve) {\n        return setValue = resolve;\n      });\n      return {\n        set current(instance) {\n          value = instance;\n          instance == null || setValue(instance);\n        },\n\n        get current() {\n          return value;\n        },\n\n        then: promise.then.bind(promise)\n      };\n    };\n\n    return keys.reduce(function (acc, key) {\n      acc[key] = newPromiseRef(); // eslint-disable-line @typescript-eslint/no-explicit-any\n\n      return acc;\n    }, {});\n  }, []);\n  return promiseRefs;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mouse = void 0;\n\nvar _react = require(\"react\");\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _World = require(\"./World\");\n\nvar _Renderer = require(\"../Renderer\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar eventNames = ['mousedown', 'mousemove', 'enddrag', 'mouseup'];\n\nvar Mouse = function Mouse(_ref) {\n  var _ref$events = _ref.events,\n      events = _ref$events === void 0 ? {} : _ref$events;\n  var renderer = (0, _Renderer.useRenderer)();\n  var engine = (0, _World.useEngine)();\n  var mouseConstraint = (0, _react.useMemo)(function () {\n    var mouse = Matter.Mouse.create(renderer.view);\n    engine.render && (engine.render.mouse = mouse); // eslint-disable-line @typescript-eslint/no-explicit-any\n\n    var constraint = {\n      stiffness: 0.2,\n      render: {\n        visible: false\n      }\n    }; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n    return Matter.MouseConstraint.create(engine, {\n      mouse: mouse,\n      constraint: constraint\n    });\n  }, []);\n  (0, _react.useEffect)(function () {\n    Matter.World.add(engine.world, mouseConstraint.constraint);\n    return function () {\n      Matter.World.remove(engine.world, mouseConstraint.constraint);\n    };\n  }, [engine]);\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(mouseConstraint, name, callback);\n      return function () {\n        return Matter.Events.off(mouseConstraint, name, callback);\n      };\n    }, [events[name]]);\n  });\n  return null;\n};\n\nexports.Mouse = Mouse;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fromResize = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar fromResize = function fromResize(element) {\n  var ResizeObserver = window.ResizeObserver; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  if (typeof ResizeObserver === 'undefined') {\n    return (0, _rxjs.fromEvent)(window, 'resize');\n  }\n\n  var observer;\n  return (0, _rxjs.fromEventPattern)(function (handler) {\n    observer = new ResizeObserver(handler);\n    observer.observe(element);\n  }, function (_handler) {\n    observer.unobserve(element);\n  });\n};\n\nexports.fromResize = fromResize;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Body = void 0;\n\nvar _react = require(\"react\");\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nrequire(\"./set-poly-decomp\");\n\nvar _Sprite = require(\"../Sprite\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _View = require(\"../UI/View\");\n\nvar _Composite = require(\"./Composite\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n} // `Matter.Bodies.fromVertices` dependence `poly-decomp` to decomposed concave vertices.\n\n\nvar eventNames = ['sleepStart', 'sleepEnd'];\n\nvar BodyComponent = function BodyComponent(_ref, ref) {\n  var useBody = _ref.useBody,\n      _ref$events = _ref.events,\n      events = _ref$events === void 0 ? {} : _ref$events,\n      isSleeping = _ref.isSleeping,\n      isStatic = _ref.isStatic,\n      isSensor = _ref.isSensor;\n  var body = useBody();\n  var composite = (0, _Composite.useComposite)();\n  (0, _react.useEffect)(function () {\n    Matter.Composite.add(composite, body);\n    (0, _View.setRef)(ref, body);\n    return function () {\n      Matter.Composite.remove(composite, body);\n    };\n  }, []);\n  if (isSleeping != null && isSleeping != body.isSleeping) Matter.Sleeping.set(body, isSleeping);\n  if (isStatic != null && isStatic != body.isStatic) Matter.Body.setStatic(body, isStatic);\n  if (isSensor != null && isSensor != body.isSensor) body.isSensor = isSensor;\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(body, name, callback);\n      return function () {\n        return Matter.Events.off(body, name, callback);\n      };\n    }, [events[name]]);\n  });\n  return null;\n};\n\nBodyComponent.displayName = 'Body';\n\nvar SpriteBody = function SpriteBody(newBody) {\n  return {\n    useBody: function useBody() {\n      var sprite = (0, _Sprite.useSprite)();\n      var body = (0, _react.useMemo)(function () {\n        if (sprite == null) throw new Error('`Sprite` context not found for create `Physics.Body`');\n        return newBody(sprite);\n      }, [sprite]);\n      var ticker = (0, _Ticker.useTicker)();\n      (0, _react.useEffect)(function () {\n        if (body.isStatic) return;\n        Matter.Body.setVelocity(body, body.velocity);\n        var sub = ticker.each(function (_delta) {\n          // if (body.id === 100) console.log(body.velocity);\n          sprite.rotation = body.angle;\n          sprite.position.x = body.position.x;\n          sprite.position.y = body.position.y;\n        });\n        return function () {\n          return sub.unsubscribe();\n        };\n      }, [body.isStatic]);\n      return body;\n    }\n  };\n}; // eslint-disable-next-line @typescript-eslint/no-empty-interface\n\n\nvar SpriteCircle = function SpriteCircle(options) {\n  return SpriteBody(function (_ref2) {\n    var x = _ref2.x,\n        y = _ref2.y,\n        width = _ref2.width;\n    return Matter.Bodies.circle(x, y, width / 2, options);\n  });\n};\n\nvar SpriteRectangle = function SpriteRectangle(options) {\n  return SpriteBody(function (_ref3) {\n    var x = _ref3.x,\n        y = _ref3.y,\n        width = _ref3.width,\n        height = _ref3.height;\n    return Matter.Bodies.rectangle(x, y, width, height, options);\n  });\n};\n\nvar SpritePath = function SpritePath(points, options) {\n  var newBody = function newBody(sprite) {\n    var vertices = [points(sprite).map(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          x = _ref5[0],\n          y = _ref5[1];\n\n      return Matter.Vector.create(x, y);\n    })];\n    return Matter.Bodies.fromVertices(sprite.x, sprite.y, vertices, options);\n  };\n\n  return SpriteBody(newBody);\n};\n\nvar SpriteTriangle = function SpriteTriangle(options) {\n  return SpritePath(function (_ref6) {\n    var width = _ref6.width,\n        height = _ref6.height;\n    return [[width / 2, 0], [0, height], [width, height]];\n  }, options);\n};\n\nvar Body = (0, _react.forwardRef)(BodyComponent);\nexports.Body = Body;\nBody.Sprite = SpriteBody;\nBody.SpriteCircle = SpriteCircle;\nBody.SpriteRectangle = SpriteRectangle;\nBody.SpritePath = SpritePath;\nBody.SpriteTriangle = SpriteTriangle;\nBody.nextCategory = Matter.Body.nextCategory;\nBody.nextGroup = Matter.Body.nextGroup;","\"use strict\";\n\nvar _polyDecomp = _interopRequireDefault(require(\"poly-decomp\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nwindow.decomp = _polyDecomp.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AnimatedSprite = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _Sprite = require(\"./Sprite\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar AnimatedSprite = (0, _Sprite.createSprite)('AnimatedSprite', function (_ref) {\n  var textures = _ref.textures,\n      autoUpdate = _ref.autoUpdate;\n  return new PIXI.AnimatedSprite(textures, autoUpdate);\n}, function (sprite, _ref2) {\n  var textures = _ref2.textures,\n      _ref2$playing = _ref2.playing,\n      playing = _ref2$playing === void 0 ? true : _ref2$playing,\n      _ref2$loop = _ref2.loop,\n      loop = _ref2$loop === void 0 ? true : _ref2$loop,\n      _ref2$animationSpeed = _ref2.animationSpeed,\n      animationSpeed = _ref2$animationSpeed === void 0 ? 1 : _ref2$animationSpeed;\n  if (textures !== sprite.textures) sprite.textures = textures;\n  if (playing !== sprite.playing) playing ? sprite.play() : sprite.stop();\n  if (loop !== sprite.loop) sprite.loop = loop;\n  if (animationSpeed !== sprite.animationSpeed) sprite.animationSpeed = animationSpeed;\n});\nexports.AnimatedSprite = AnimatedSprite;","\"use strict\";\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MovableSprite = exports.FreeMoveSprite = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _ = require(\".\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _Sprite = require(\"./Sprite\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar FreeMoveSprite = function FreeMoveSprite(_ref) {\n  var textures = _ref.textures,\n      source = _ref.source,\n      children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"textures\", \"source\", \"children\"]);\n\n  return _react.default.createElement(_.AnimatedSprite, _extends({}, props, {\n    textures: textures\n  }), children, _react.default.createElement(_Sprite.SpriteContext.Consumer, null, function (sprite) {\n    return sprite instanceof PIXI.AnimatedSprite && _react.default.createElement(_Ticker.Subscribe, {\n      source: source,\n      update: function update(_ref3) {\n        var position = _ref3.position,\n            rotation = _ref3.rotation;\n        sprite.position.x = position.x;\n        sprite.position.y = position.y;\n        if ('degree' in rotation && rotation.degree !== sprite.angle) sprite.angle = rotation.degree;else if ('radian' in rotation && rotation.radian !== sprite.rotation) sprite.rotation = rotation.radian;\n      }\n    });\n  }));\n}; //#endregion\n//#region limited direction move\n\n\nexports.FreeMoveSprite = FreeMoveSprite;\n\nvar MovableSprite = function MovableSprite(_ref2) {\n  var animId = _ref2.animId,\n      textures = _ref2.textures,\n      source = _ref2.source,\n      children = _ref2.children,\n      props = _objectWithoutProperties(_ref2, [\"animId\", \"textures\", \"source\", \"children\"]);\n\n  var id = animId instanceof Function ? animId(0, 0) : animId;\n  return _react.default.createElement(_.AnimatedSprite, _extends({}, props, {\n    textures: id === undefined ? textures : textures[id]\n  }), children, _react.default.createElement(_Sprite.SpriteContext.Consumer, null, function (sprite) {\n    return sprite instanceof PIXI.AnimatedSprite && _react.default.createElement(_Ticker.Subscribe, {\n      source: source,\n      update: function update(_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            _ref5$ = _slicedToArray(_ref5[0], 2),\n            x = _ref5$[0],\n            y = _ref5$[1],\n            velocity = _ref5[1];\n\n        sprite.position.x = x;\n        sprite.position.y = y;\n        var id = animId instanceof Function ? animId.apply(void 0, _toConsumableArray(velocity)) : animId;\n        if (id === undefined || textures[id] === sprite.textures) return;\n        var playing = sprite.playing;\n        sprite.textures = textures[id];\n        playing && sprite.play();\n      }\n    });\n  }));\n};\n\nexports.MovableSprite = MovableSprite;\nMovableSprite.UDLR = {\n  animId: function animId(vx, vy) {\n    return vx === 0 ? vy === 0 ? 'idle' : vy < 0 ? 'up' : 'down' : vx < 0 ? 'left' : 'right';\n  }\n};\n\nMovableSprite.toUDLR = function (textures) {\n  var eachSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  return {\n    idle: textures.slice(0, eachSize),\n    up: textures.slice(1 * eachSize, 2 * eachSize),\n    down: textures.slice(2 * eachSize, 3 * eachSize),\n    left: textures.slice(3 * eachSize, 4 * eachSize),\n    right: textures.slice(4 * eachSize, 5 * eachSize)\n  };\n}; //#endregion","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  Texture: true,\n  BLEND_MODES: true\n};\nObject.defineProperty(exports, \"Texture\", {\n  enumerable: true,\n  get: function get() {\n    return _pixi.Texture;\n  }\n});\nObject.defineProperty(exports, \"BLEND_MODES\", {\n  enumerable: true,\n  get: function get() {\n    return _pixi.BLEND_MODES;\n  }\n});\n\nvar _pixi = require(\"pixi.js\");\n\nvar _make = require(\"./make\");\n\nObject.keys(_make).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _make[key];\n    }\n  });\n});\n\nvar _THColors = require(\"./THColors\");\n\nObject.keys(_THColors).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _THColors[key];\n    }\n  });\n});\n\nvar _use = require(\"./use\");\n\nObject.keys(_use).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _use[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.THColors = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar newColor = function newColor(value, data) {\n  var color = value.toString(16);\n  if (value > 0xFFFFFFFF) throw new Error(\"color value overflow: \".concat(color));\n  var A = value & 0xFF;\n  var rgb = value >>> 8;\n  var B = rgb & 0xFF;\n  var rg = rgb >>> 8;\n  var G = rg & 0xFF;\n  var R = rg >>> 8;\n  var image = new Image();\n  image.src = data;\n  var texture = new PIXI.Texture(new PIXI.BaseTexture(image));\n  return {\n    value: value,\n    data: data,\n    hex: \"#\".concat(value.toString(16)),\n    rgb: rgb,\n    alpha: A,\n    rgba: {\n      R: R,\n      G: G,\n      B: B,\n      A: A\n    },\n    image: image,\n    texture: texture\n  };\n};\n\nvar THColors = {\n  /** red */\n  Reimu: newColor(0xCB1B45ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2M8Le36nwEPYBwZCgDiuxFZv0b9QAAAAABJRU5ErkJggg=='),\n\n  /** black */\n  Marisa: newColor(0x1C1C1Cff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2OUkZH5z4AHMI4MBQAGEgqh6nJAewAAAABJRU5ErkJggg=='),\n\n  /** yellow */\n  Alice: newColor(0xE98B2Aff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2N82a31nwEPYBwZCgDzHRTxpXyovQAAAABJRU5ErkJggg=='),\n\n  /** baka */\n  Cirno: newColor(0x58B2DCff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2OM2HTnPwMewDgyFAAAMsMXMXWBeqIAAAAASUVORK5CYII='),\n\n  /** white */\n  Sakuya: newColor(0xFCFAF2ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2P88+vTfwY8gHFkKAAA1JcfQVtkt10AAAAASUVORK5CYII='),\n\n  /** green */\n  Youmu: newColor(0x227D51ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2NUqg38z4AHMI4MBQDO6A+BFQpJiAAAAABJRU5ErkJggg=='),\n\n  /** sakura */\n  Yuyuko: newColor(0xFEDFE1ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2P8d//hfwY8gHFkKAAAFOcd8YzlO0MAAAAASUVORK5CYII='),\n\n  /** purple */\n  Yakumo: newColor(0x4A225Dff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2P0Uor9z4AHMI4MBQAdPA5J0HdVbgAAAABJRU5ErkJggg==')\n};\nexports.THColors = THColors;","\"use strict\";\n\nvar _defineProperty2 = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/defineProperty\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useResource = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _make = require(\"./make\");\n\nvar _react = require(\"react\");\n\nvar _Loader = require(\"../Loader\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _rxjs = require(\"rxjs\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar useResource = function useResource(options, complete, unmount) {\n  var resource = (0, _react.useMemo)(function () {\n    return {};\n  }, []);\n  var loader = (0, _Loader.useLoader)();\n  var completed = (0, _hooks.useCloseableAsync)(function (closeRef) {\n    // tasks of making and loading resources\n    var tasks = Object.entries(options).map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          name = _ref2[0],\n          option = _ref2[1];\n\n      return option instanceof Function ? // make resource\n      Promise.resolve(option(_make.makeResource)) // make resource\n      .then(function (save) {\n        return closeRef.current || save(name, loader);\n      }) // save resource\n      .then(function () {\n        closeRef.current || loader.emit('load', loader, loader.resources[name]);\n      }) // emit load succeed event\n      .catch(function (error) {\n        if (loader.resources[name] == null) {\n          // make failed resource\n          var _resource = new _make.Resource(name, \"#\".concat(name));\n\n          _resource.error = error;\n          loader.resources[name] = _resource;\n        }\n\n        closeRef.current || loader.emit('error', error, loader, loader.resources[name]); // emit load failed event\n\n        throw error;\n      }).finally(function () {\n        return loader.emit('progress', loader, loader.resources[name]);\n      }) //emit load finish event\n      : // load resource\n      Promise.resolve(option).then(function (_ref3) {\n        var url = _ref3.url,\n            options = _ref3.options,\n            callback = _ref3.callback;\n        closeRef.current || loader.add(name, url, options, callback);\n      });\n    }); // load finished callback\n\n    var onLoad = function onLoad(resolve) {\n      return function () {\n        Object.defineProperties(resource, Object.keys(options).map(function (name) {\n          return _defineProperty2({}, name, {\n            configurable: true,\n            enumerable: true,\n            get: function get() {\n              return loader.resources[name];\n            }\n          });\n        }).reduce(function (dict, props) {\n          return _objectSpread({}, dict, {}, props);\n        }, {}));\n        return (0, _rxjs.timer)(0).toPromise() // the `width` and `height` has not set after first loaded, delay it to the next event loop.\n        .then(function () {\n          return complete && complete(resource);\n        }).then(function () {\n          return resolve(true);\n        });\n      };\n    }; // waits all tasks finished\n\n\n    return Promise.all(tasks).then(function () {\n      return closeRef.current || new Promise(function (resolve) {\n        return loader.load(onLoad(resolve));\n      });\n    });\n  }, function (_completed) {\n    unmount && unmount();\n    loader.reset();\n    PIXI.utils.clearTextureCache();\n  });\n  (0, _react.useDebugValue)(completed, function (completed) {\n    return completed ? 'finished' : 'loading';\n  });\n  return completed ? resource : null;\n};\n\nexports.useResource = useResource;\n\nuseResource.query = function (resource) {\n  return (0, _react.useMemo)(function () {\n    if (resource == null) return function (_field) {\n      return {};\n    };\n    return function (field) {\n      return Object.entries(resource).reduce(function (dict, _ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            name = _ref6[0],\n            value = _ref6[1];\n\n        return _objectSpread({}, dict, _defineProperty2({}, name, value[field]));\n      }, {});\n    };\n  }, [resource]);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useApp = exports.App = exports.AppContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nvar _Renderer = require(\"./Renderer\");\n\nvar _Loader = require(\"./Loader\");\n\nvar _Stage = require(\"./Stage\");\n\nvar _Ticker = require(\"./Ticker\");\n\nvar _View = require(\"./UI/View\");\n\nvar _core = require(\"@fure/core\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar AppContext = (0, _react.createContext)(undefined);\nexports.AppContext = AppContext;\nAppContext.displayName = 'App';\nvar App = (0, _View.withView)('App', function (_ref) {\n  var children = _ref.children,\n      create = _ref.create,\n      _ref$ticker = _ref.ticker,\n      ticker = _ref$ticker === void 0 ? _core.Ticker.shared : _ref$ticker,\n      resizeTo = _ref.resizeTo;\n  var view = (0, _react.useContext)(_View.ViewContext);\n  var app = (0, _hooks.useCloseable)(function () {\n    var app = create ? create(view) : new PIXI.Application({\n      view: view\n    });\n    app.ticker = null;\n    return app;\n  });\n\n  if (resizeTo != null && resizeTo !== app.resizeTo) {\n    app.resizeTo = resizeTo;\n    app.resize();\n  }\n\n  return _react.default.createElement(AppContext.Provider, {\n    value: app\n  }, _react.default.createElement(_Loader.LoaderContext.Provider, {\n    value: app.loader\n  }, _react.default.createElement(_Renderer.RendererContext.Provider, {\n    value: app.renderer\n  }, _react.default.createElement(_Stage.StageContext.Provider, {\n    value: app.stage\n  }, _react.default.createElement(_Ticker.TickerController, {\n    ticker: ticker\n  }, children, _react.default.createElement(_Stage.Stage.TickRefresh, null))))));\n}, {\n  Creator: function Creator(options) {\n    return (0, _react.useMemo)(function () {\n      return {\n        create: function create(view) {\n          return new PIXI.Application(_objectSpread({\n            view: view\n          }, options));\n        }\n      };\n    }, []);\n  }\n});\nexports.App = App;\n\nvar useApp = function useApp() {\n  return (0, _react.useContext)(AppContext);\n};\n\nexports.useApp = useApp;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Progress = Progress;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _ = require(\".\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction Progress(_ref) {\n  var completed = _ref.completed,\n      children = _ref.children,\n      Indicator = _ref.indicator;\n  var loader = (0, _.useLoader)();\n\n  var _ref2 = (0, _react.useState)(undefined),\n      _ref3 = _slicedToArray(_ref2, 2),\n      loaded = _ref3[0],\n      setLoaded = _ref3[1];\n\n  (0, _react.useEffect)(function () {\n    var progress = function progress(_loader, resource) {\n      return setLoaded(resource);\n    };\n\n    loader.on('progress', progress);\n    return function () {\n      loader.removeListener('progress', progress);\n    };\n  }, []);\n  return _react.default.createElement(_react.default.Fragment, null, completed ? children : Indicator == null ? null : _react.default.createElement(Indicator, {\n    progress: loader.progress,\n    resource: loaded\n  }));\n}","import { useCallback, useState } from 'react';\r\n\r\n/**\r\n * @template T\r\n * @param {keyof T} [init] .\r\n * @param {T} [mapper] .\r\n * @returns {[keyof T | T[keyof T], (value: keyof T) => void]}\r\n */\r\nexport function useSelect(init, mapper) {\r\n  const [selected, setSeleted] = useState(init);\r\n  const selector = useCallback(value => ({\r\n    className: `${value === selected ? 'selected ' : ''}button`,\r\n    onClick: () => setSeleted(value),\r\n  }), [selected]);\r\n  return [mapper ? mapper[selected] : selected, selector];\r\n}\r\n\r\nexport const playerPath = [\r\n  { position: [0/*  */, 0/*  */], velocity: [0, 0], gravity: [] },\r\n  // test velocity: d = vt = 0.6 * 1000\r\n  { position: [0/*  */, 0/*  */], velocity: [0.6, 0], gravity: [] },\r\n  { position: [600/**/, 0/*  */], velocity: [0, 0.6], gravity: [] },\r\n  { position: [600/**/, 600/**/], velocity: [-0.6, 0], gravity: [] },\r\n  { position: [0/*  */, 600/**/], velocity: [0, -0.6], gravity: [] },\r\n  // test gravity: d = 0.5gt^2 = 0.5 * 0.5 * 1000**2\r\n  { position: [0/*  */, 0/*  */], velocity: [0, 0], gravity: [0.0016, 0] },\r\n  { position: [800/**/, 0/*  */], velocity: [0, 0], gravity: [0, 0.0016] },\r\n  { position: [800/**/, 800/**/], velocity: [0, 0], gravity: [-0.0016, 0] },\r\n  { position: [0/*  */, 800/**/], velocity: [0, 0], gravity: [0, -0.0016] },\r\n];\r\n\r\nexport const playerAnims = [\r\n  '\\n\\n', '\\n\\n', // 00, 01: idle\r\n  '\\n\\n', '\\n\\n', // 02, 03: up\r\n  '\\n\\n', '\\n\\n', // 04, 05: down\r\n  '\\n\\n', '\\n \\n', // 06, 07: left\r\n  '\\n\\n', '\\n \\n', // 08, 09: right\r\n  '\\n\\n', '\\n\\n', // 10, 11: boom\r\n];\r\n","import React, { ReactNode, useMemo } from 'react';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport { App, Loader, Renderer, Stage, TickerController, UI, fromResize, useSubscribe } from '@fure/view';\r\nimport './index.css';\r\nimport { useSelect } from '../helper';\r\nimport { Ticker } from '@fure/core';\r\n\r\nconst bodySize = () => ({ width: document.body.clientWidth, height: document.body.clientHeight });\r\n\r\nconst usages = {\r\n  Simple({ children }: { children: ReactNode }) {\r\n    return (\r\n      // `App` == `Loader` + `Renderer` + `Stage` + `Ticker` + `Stage.TickRefresh`\r\n      <App id=\"game\" {...App.Creator({ width: 1920, height: 1080, backgroundColor: 0x66ccff })}>\r\n        <UI id=\"hello\">\r\n          <h2>HELLO</h2>\r\n          <h1>Fure Game</h1>\r\n          <h3>(simple usage)</h3>\r\n        </UI>\r\n        {children}\r\n      </App>\r\n    );\r\n  },\r\n  Advance({ children }: { children: ReactNode }) {\r\n    const size = useSubscribe(useMemo(() => fromResize(document.body).pipe(debounceTime(100), map(bodySize)), []), bodySize());\r\n    return (\r\n      <Loader> {/* `Loader` is optional */}\r\n        <div style={{ position: 'absolute', width: '100%', height: '100%', textAlign: 'center' }}>\r\n          <h1>Fill Window</h1><h1>{'&'}</h1><h1>Transparent Background</h1><h1>{'&'}</h1><h1>Scale Mode UI</h1>\r\n        </div>\r\n        <Renderer id=\"game\" {...size} {...Renderer.Creator({ transparent: true })} style={{ backgroundColor: 'rgba(102, 204, 255, 0.933)' }}>\r\n          <Stage>\r\n            <TickerController ticker={new Ticker()} /* `Ticker` is optional */>\r\n              <Stage.TickRefresh />\r\n            </TickerController>\r\n          </Stage>\r\n          <UI id=\"hello\" scaleMode={true}>\r\n            <h2>HELLO</h2>\r\n            <h1>Fure Game</h1>\r\n            <h3>(advance usage)</h3>\r\n          </UI>\r\n          {children}\r\n        </Renderer>\r\n      </Loader>\r\n    );\r\n  },\r\n};\r\n\r\nconst StageAndUI = () => {\r\n  const [Usage, usageSelector] = useSelect('Simple', usages);\r\n  return (\r\n    <Usage>\r\n      <UI id=\"helper\">\r\n        <p {...usageSelector('Simple')}>Simple Usage</p>\r\n        <p {...usageSelector('Advance')}>Advance Usage</p>\r\n      </UI>\r\n    </Usage>\r\n  );\r\n};\r\nStageAndUI.displayName = 'StageAndUI';\r\nStageAndUI.displayText = 'Stage & UI';\r\nexport default StageAndUI;\r\n","import React, { useMemo } from 'react';\r\nimport { map, throttleTime } from 'rxjs/operators';\r\nimport { AnimatedSprite, Gradient, MovableSprite, Renderer, RendererOptions, Sprite, Stage, THColors, UI, makeResource, useCloseable, useSubscribe, useTicker } from '@fure/view';\r\nimport { playerAnims, playerPath, useSelect } from '../helper';\r\n\r\nconst options: RendererOptions = { width: 1920, height: 1080, backgroundColor: 0x66ccff };\r\nconst randomPosition = () => ({\r\n  x: (0.2 + 0.6 * Math.random()) * options.width,\r\n  y: (0.2 + 0.6 * Math.random()) * options.height,\r\n});\r\n\r\nconst usages = {\r\n  Simple() {\r\n    return (Object.entries(THColors).map(([name, thc]) => (\r\n      <Sprite key={name} texture={thc.texture} scale={{ x: 3, y: 3 }} position={randomPosition()} >\r\n        <Stage.LazyRefresh />\r\n      </Sprite>\r\n    )));\r\n  },\r\n  Animated() {\r\n    const textures = useCloseable(\r\n      () => [\r\n        ...['', '', '', '', ''].map(text => makeResource.text(text)(text)),\r\n        ...Object.entries(THColors).map(([name, thc]) => makeResource.shape({ fill: { color: thc.rgb } }).circle(8)(`${name}.circle`)),\r\n        ...Object.entries(THColors).map(([name, thc]) => makeResource.shape({ fill: { color: thc.rgb } }).star(5, 12, 6)(`${name}.star`)),\r\n      ],\r\n      textures => textures.forEach(texture => texture.destroy()),\r\n    );\r\n    return (\r\n      <>\r\n        <Stage.TickRefresh />\r\n        {textures.map((_, index) => (\r\n          <AnimatedSprite key={index} textures={[...textures.slice(index), ...textures.slice(0, index)]} animationSpeed={0.1} position={randomPosition()} />\r\n        ))}\r\n      </>\r\n    );\r\n  },\r\n  Moveable() {\r\n    const ticker = useTicker();\r\n\r\n    const subject = useMemo(() => ticker.pipe(throttleTime(1000)).pipe(map((_delta, index) => playerPath[index % playerPath.length])), [ticker]);\r\n    const { position: [x, y], velocity, gravity } = useSubscribe(subject, playerPath[0]);\r\n\r\n    const textures = useMemo(() => MovableSprite.toUDLR(playerAnims.map(value => (\r\n      makeResource.text(value, { fontFamily: ['monospace'], fontSize: 24 })())\r\n    )), []);\r\n\r\n    Stage.TickRefresh(); // `Stage.XxxRefresh` could usage as react-hook too.\r\n\r\n    return (\r\n      <Gradient.Velocity state={[[560 + x, 140 + y], velocity, gravity]}>{pipe => (\r\n        <MovableSprite source={pipe} {...MovableSprite.UDLR} textures={textures} animationSpeed={0.1} />\r\n      )}</Gradient.Velocity>\r\n    );\r\n  },\r\n};\r\n\r\nconst TextureAndSprite = () => {\r\n  const [Usage, usageSelector] = useSelect('Simple', usages);\r\n  return (\r\n    <Renderer {...Renderer.Creator(options)}>\r\n      <Stage>\r\n        <UI id=\"helper\">\r\n          <p {...usageSelector('Simple')}>Simple Usage</p>\r\n          <p {...usageSelector('Animated')}>Animated Usage</p>\r\n          <p {...usageSelector('Moveable')}>Moveable Usage</p>\r\n        </UI>\r\n        <Usage />\r\n      </Stage>\r\n    </Renderer>\r\n  );\r\n};\r\nTextureAndSprite.displayName = 'TextureAndSprite';\r\nTextureAndSprite.displayText = 'Texture & Sprite';\r\nexport default TextureAndSprite;\r\n","import React, { MutableRefObject, ReactElement, useMemo, useRef } from 'react';\r\nimport { App, FreeMoveSprite, Gradient, MovableSprite, Progress, Subscribe, THColors, Texture, UI, useResource, useSubscribe, useTicker } from '@fure/view';\r\nimport { of } from 'rxjs';\r\nimport { delay, map, mergeMap, sampleTime, startWith, take } from 'rxjs/operators';\r\nimport { useSelect } from '../helper';\r\n\r\nconst Loading = ({ progress, resource }: IndicatorProps) => {\r\n  const ref: MutableRefObject<HTMLDivElement> = useRef();\r\n  return (\r\n    <UI>\r\n      <Gradient.Simple state={progress}>{pipe =>\r\n        <div ref={ref} style={{ position: 'absolute', width: '1%', height: 6, left: 0, bottom: '6%', background: THColors.Reimu.hex }}>\r\n          <Subscribe source={pipe} update={state => ref.current.style.width = `${state}%`} />\r\n        </div>\r\n      }</Gradient.Simple>\r\n      <small style={{ position: 'absolute', right: '1em', bottom: '6%' }}>{progress.toFixed(2)}% | {resource ? resource.name : 'waiting'} {resource && resource.error && 'failed'}</small>\r\n    </UI>\r\n  );\r\n};\r\n\r\nconst size = {\r\n  get width() { return document.body.clientWidth; },\r\n  get height() { return document.body.clientHeight; },\r\n};\r\nconst useShooter = (time: number, turn: number) => {\r\n  const ticker = useTicker(); // TODO \r\n  return useMemo(\r\n    () => ticker.pipe(sampleTime(time * 1000), startWith(0))\r\n      .pipe(mergeMap(_ =>\r\n        ticker.pipe(sampleTime(time * 1000 / turn), startWith(0), map((_, i) => i))\r\n          .pipe(take(turn))\r\n      ))\r\n      .pipe(map(index => [index * size.width / turn, index])),\r\n    [time, turn, ticker],\r\n  );\r\n};\r\n\r\nconst copies = (children: (offset: [number, number], index: number) => ReactElement) => {\r\n  return new Array(15).fill().map((_, index) => children([size.width / 2 * ((index / 3 | 0) - 2), size.height / 3 * (index % 3)], index));\r\n};\r\n\r\nconst Reimu = ({ texture }: { texture: Texture }) => {\r\n  const time = 3;\r\n  const [positionX] = useSubscribe(useShooter(time, 2), [0, 0]);\r\n\r\n  const velocityX = size.width / time / 1000; // v = s / t;\r\n  const state = [[positionX, 50], [velocityX]];\r\n\r\n  return (\r\n    <Gradient.Velocity state={state}>{pipe => copies(([ox, oy], index) => (\r\n      <MovableSprite key={index} textures={[texture]} scale={{ x: 2, y: 2 }} source={pipe(map(([[x, y]]) => [[x + ox, y + oy]]))} />\r\n    ))}</Gradient.Velocity>\r\n  );\r\n};\r\n\r\nconst Marisa = ({ texture }: { texture: Texture }) => {\r\n  const time = 3;\r\n  const [positionX] = useSubscribe(useShooter(time, 3), [0, 0]);\r\n\r\n  const velocityX = size.width / time / 1000; // v = s / t;\r\n  const velocityY = -400 / 1000;\r\n  const gravityY = 2 * -velocityY / 1000;\r\n  const offsetY = 50; // s = -0.5g * (0.5t)^2\r\n  const state = [[positionX + 200, 150 + offsetY], [velocityX, velocityY], [0, gravityY]];\r\n\r\n  return (\r\n    <Gradient.Velocity state={state}>{pipe => copies(([ox, oy], index) => (\r\n      <MovableSprite key={index} textures={[texture]} source={pipe(map(([[x, y]]) => [[x + ox, y + oy]]))} />\r\n    ))}</Gradient.Velocity>\r\n  );\r\n};\r\n\r\nconst Alice = ({ texture }: { texture: Texture }) => {\r\n  const time = 3;\r\n  const turn = 6;\r\n  const [positionX, index] = useSubscribe(useShooter(time, turn), [0, 0]);\r\n\r\n  const rotate = (index % 2 === 0 ? 1 : -1) / 3 * Math.PI;\r\n  const frames = time * 1000 / turn;\r\n  const distance = size.width / turn;\r\n  const direction = 0;\r\n  const state = { rotate, frames, distance, direction, position: [positionX + 400, 250] };\r\n\r\n  return (\r\n    <Gradient.Circular state={state}>{pipe => copies(([ox, oy], index) => (\r\n      <FreeMoveSprite key={index} textures={[texture]} source={pipe(map(({ x, y, angle }) => ({ position: { x: x + ox, y: y + oy }, rotation: { radian: 0.5 * Math.PI + angle } })))} />\r\n    ))}</Gradient.Circular>\r\n  );\r\n};\r\nconst Kagari = ({ texture }: { texture: Texture }) => {\r\n  return (\r\n    <img src={texture.baseTexture.resource.url} alt=\"kagari\" style={{ maxWidth: '30%', maxHeight: '60%', position: 'absolute', right: 0, bottom: 0 }} />\r\n  );\r\n};\r\n\r\nconst usages = {\r\n  Simple() {\r\n    const resource = useResource({\r\n      reimu: { url: THColors.Reimu.data }, // base usage\r\n      kagari: of({ url: 'https://raw.githubusercontent.com/zhengxiaoyao0716/rewrite-kagali/master/kagari-nobg-nolight.gif' }).toPromise(), // async usage\r\n      marisa: make => make.shape({ fill: { color: THColors.Marisa.rgb } }).star(5, 12, 6), // mock resource usage\r\n      'kagari-nobg-nolight': of({ url: 'https://raw.githubusercontent.com/zhengxiaoyao0716/rewrite-kagali/master/kagali.gif' }).pipe(delay(300)).toPromise(), // async usage with delay\r\n      alice: make => of(make.shape({ fill: { color: THColors.Alice.rgb } }).triangle(16, 20, 8)).pipe(delay(600)).toPromise(), // async and mock resource usage\r\n    });\r\n    const textures = useResource.query(resource)('texture');\r\n\r\n    return (\r\n      <Progress completed={!!resource} indicator={Loading}>\r\n        <Reimu texture={textures.reimu} />\r\n        <Marisa texture={textures.marisa} />\r\n        <Alice texture={textures.alice} />\r\n        <Kagari texture={textures.kagari} />\r\n      </Progress>\r\n    );\r\n  },\r\n};\r\n\r\nconst PreloadResource = () => {\r\n  const [Usage] = useSelect('Simple', usages);\r\n  return (\r\n    <App resizeTo={document.body} {...App.Creator({ backgroundColor: 0x66ccff })}>\r\n      <Usage />\r\n    </App>\r\n  );\r\n};\r\nPreloadResource.displayName = 'PreloadResource';\r\nPreloadResource.displayText = 'Preload Resource';\r\nexport default PreloadResource;\r\n","import { Core } from '@fure/core';\r\nimport { Subject, Subscription, from, interval, timer } from 'rxjs';\r\nimport { tap, zip } from 'rxjs/operators';\r\n\r\nexport const LogicDecoupling = (() => {\r\n  type Attr = | 'fire' | 'water';\r\n\r\n  const subject: Subject<Partial<{\r\n    life: number;\r\n    attr: Attr;\r\n    message: string;\r\n  }>> = new Subject();\r\n\r\n  const newBubble = () => {\r\n    let life = 5;\r\n    return {\r\n      /** @type {Attr} */attr: undefined,\r\n      get() { return life; },\r\n      inc(attr: Attr) {\r\n        if (life < 9) {\r\n          if (attr !== this.attr) {\r\n            subject.next({ message: 'miss' });\r\n            return;\r\n          }\r\n          life++;\r\n          subject.next({ life });\r\n          return;\r\n        }\r\n\r\n        this.inc = () => subject.next({ life, message: 'GAME PASS' });\r\n        this.dec = () => { };\r\n        subject.next({ life, message: 'YOU WIN' });\r\n      },\r\n      dec() {\r\n        life -= 1 / 60;\r\n        if (life > 0) {\r\n          subject.next({ life });\r\n          return;\r\n        }\r\n\r\n        life = 0;\r\n        this.inc = () => subject.next({ life, message: 'GAME OVER' });\r\n        this.dec = () => { };\r\n        subject.next({ life, message: 'BOO~OOM' });\r\n      },\r\n    };\r\n  };\r\n  let bubble: ReturnType<typeof newBubble>;\r\n  const players: Set<string> = new Set();\r\n\r\n  const subscriptions: Set<Subscription> = new Set();\r\n\r\n  const events = {\r\n    join(playerName: string, playerAttr: Attr) {\r\n      if (players.has(playerName)) return;\r\n      players.add(playerName);\r\n      subject.next({ message: `${playerName} (${playerAttr}) joined.` });\r\n      if (players.size < 2) return;\r\n\r\n      // game start\r\n      bubble = newBubble();\r\n\r\n      const readyTimer = from(['READY...', 'GO!!!']).pipe(zip(interval(500), message => message));\r\n      subscriptions.add(readyTimer.subscribe(message => subject.next({ message })));\r\n\r\n      subscriptions.add(timer(1500, 1000 / 60).subscribe(() => bubble.dec()));\r\n\r\n      const bubbleTimer = timer(1500, 500).pipe(tap(() => bubble.attr = Math.random() < 0.5 ? 'fire' : 'water'));\r\n      subscriptions.add(bubbleTimer.subscribe(() => subject.next({ attr: bubble.attr })));\r\n    },\r\n    blow(playerAttr: Attr) {\r\n      bubble.inc(playerAttr);\r\n    },\r\n    leave(player: string) {\r\n      players.delete(player);\r\n      subject.next({ message: `${player} leaved.` });\r\n      if (players.size > 0) return;\r\n\r\n      // game stop\r\n      subscriptions.forEach(sub => sub.unsubscribe());\r\n      subscriptions.clear();\r\n    },\r\n  };\r\n  return new Core('LogicDecoupling', events, subject);\r\n})();\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport { map, scan, throttleTime } from 'rxjs/operators';\r\nimport { App, AppOptions, useSubscribe } from '@fure/view';\r\nimport './index.css';\r\nimport { LogicDecoupling as core } from '../../main/core';\r\nimport { Subject, interval } from 'rxjs';\r\nimport { pick } from '@fure/core';\r\n\r\nconst options: AppOptions = { width: 960, height: 1080, transparent: true };\r\ntype Attr = | 'fire' | 'water';\r\n\r\ninterface BubbleProps { life: number; attr: Attr }\r\nconst Bubble = ({ life, attr }: BubbleProps) => {\r\n  const size = `${life && (0.5 + life)}em`;\r\n  return (\r\n    <div className={`Bubble ${attr}`} style={{ width: size, height: size }} />\r\n  );\r\n};\r\n\r\ninterface PlayerProps { attr: Attr }\r\nconst Player = ({ attr }: PlayerProps) => {\r\n  const onTap = useMemo(() => {\r\n    const subject = new Subject();\r\n    subject.pipe(throttleTime(300)).subscribe(() => core.events.blow(attr));\r\n    return event => subject.next(event);\r\n  }, [attr]);\r\n  return (\r\n    <div className={`Player ${attr}`} onClick={onTap} onTouchStart={onTap} />\r\n  );\r\n};\r\n\r\nconst Message = ({ value = [], show }: { value: [string, number][]; show: number }) => {\r\n  const now = useSubscribe(useMemo(() => interval(1000 / 30).pipe(map(() => new Date().getTime())), []), 0);\r\n  const messages = value.map(([message, insertAt]): [string, number] => [message, now - insertAt]).filter(([, time]) => (time < show));\r\n  return (\r\n    <div className=\"Message\">{messages.map(([message, time], index) => (\r\n      <p key={index} style={{ opacity: Math.cos(time / show) }}>{message}</p>\r\n    ))}</div>\r\n  );\r\n};\r\nMessage.queue = scan((queue: [[string, number]], message: string): [[string, number]] => [...queue.slice(1 - 5), [message, new Date().getTime()]], []);\r\n\r\ninterface GameProps { player: PlayerProps & { name: string } }\r\nconst Game = ({ player }: GameProps) => {\r\n  const life = useSubscribe(useMemo(() => core.pipe(pick('life')), []), 0);\r\n  const attr = useSubscribe(useMemo(() => core.pipe(pick('attr')), []));\r\n  const messages = useSubscribe(useMemo(() => core.pipe(pick('message')).pipe(Message.queue), []));\r\n\r\n  useEffect(() => {\r\n    core.events.join(player.name, player.attr);\r\n    return () => core.events.leave(player.name);\r\n  }, [player.name, player.attr]);\r\n\r\n  return (\r\n    <App {...App.Creator(options)}>\r\n      <p className=\"name\">{player.name}</p>\r\n      {attr && <Bubble life={life} attr={attr} />}\r\n      <Player attr={player.attr} />\r\n      <Message value={messages} show={3000} />\r\n    </App>\r\n  );\r\n};\r\n\r\nexport const LogicDecoupling = () => {\r\n  return (\r\n    <div className=\"LogicDecoupling\">\r\n      <Game player={{ name: 'Girl', attr: 'fire' }} />\r\n      <Game player={{ name: 'Boy', attr: 'water' }} />\r\n    </div>\r\n  );\r\n};\r\nLogicDecoupling.displayName = 'LogicDecoupling';\r\nLogicDecoupling.displayText = 'Logic Decoupling';\r\nexport default LogicDecoupling;\r\n","import React, { useCallback, useEffect, useMemo } from 'react';\r\nimport { range } from 'rxjs';\r\nimport { map, mergeMap } from 'rxjs/operators';\r\nimport { App, AppOptions, BLEND_MODES, Container, Sprite, SpriteContext, Subscribe, makeResource, useCloseable, useTicker } from '@fure/view';\r\n\r\nconst options: AppOptions = { width: 1920, height: 1080, backgroundColor: 0x66ccff };\r\nconst birth = { x: options.width / 2, y: options.height / 2 };\r\nconst size = 1000; // lived particles number.\r\nconst period = 1; // send particles interval.\r\nconst speed = 0.5; // particle move speed, 1000px/s.\r\n// distanceMax = size * period * speed\r\n\r\nconst Particle = () => {\r\n  const texture = useCloseable(\r\n    () => makeResource.shape({ fill: { color: 0xffffff } }).star(5, 12, 6)('particle'),\r\n    texture => texture.destroy(),\r\n  );\r\n\r\n  const ticker = useTicker();\r\n\r\n  //#region particles shooter\r\n  const particles: { cos: number; sin: number; scale: number; tint: number; sendAt: number }[] = useMemo(() => [], []);\r\n  useEffect(() => {\r\n    const emitter = ticker.pipe(map(_delta => ticker.runTime))\r\n      .pipe(mergeMap(now => {\r\n        const last = particles[0] ? particles[0].sendAt : now - period;\r\n        const count = Math.floor((now - last) / period);\r\n        return range(1, count).pipe(map(index => {\r\n          const angle = Math.random() * 2 * Math.PI;\r\n          return ({\r\n            cos: Math.cos(angle),\r\n            sin: Math.sin(angle),\r\n            scale: 0.5 + Math.random(),\r\n            tint: Math.random() * 0xffffff | 0,\r\n            sendAt: last + (1 + index) * period,\r\n          });\r\n        }));\r\n      }));\r\n    const subcription = emitter.subscribe(particle => {\r\n      particles.unshift(particle);\r\n      if (particles.length > size) particles.pop();\r\n    });\r\n    return () => subcription.unsubscribe();\r\n  }, [particles, ticker]);\r\n  //#endregion\r\n\r\n  // hight frequence update, used only when necessary, for most time, just use `Gradient` to make our code more `reactive`.\r\n  const update = useCallback((index, sprite) => {\r\n    if (!particles[index]) return;\r\n    const { cos, sin, scale, tint, sendAt } = particles[index];\r\n    const distance = (ticker.runTime - sendAt) * speed;\r\n    const position = { x: birth.x + cos * distance, y: birth.y + sin * distance };\r\n    sprite.position.x = position.x;\r\n    sprite.position.y = position.y;\r\n    sprite.scale.x = scale;\r\n    sprite.scale.y = scale;\r\n    sprite.tint = tint;\r\n  }, [particles, ticker]);\r\n\r\n  return (\r\n    <Container>{new Array(size).fill().map((_, index) => (\r\n      <Sprite key={index} texture={texture} blendMode={BLEND_MODES.ADD}>\r\n        <SpriteContext.Consumer>{sprite => (\r\n          <Subscribe source={ticker.pipe} update={() => update(index, sprite)} />\r\n        )}</SpriteContext.Consumer>\r\n      </Sprite>\r\n    ))}</Container>\r\n  );\r\n};\r\n\r\nconst HighFrequency = () => {\r\n  return (\r\n    <App {...App.Creator(options)}>\r\n      <Particle />\r\n    </App>\r\n  );\r\n};\r\nHighFrequency.displayName = 'HighFrequency';\r\nHighFrequency.displayText = 'High Frequency';\r\nexport default HighFrequency;\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport { App, Body, Constraint, Matter, Sprite, THColors, UI, World, useResource } from '@fure/view';\r\nimport { useSelect } from '../helper';\r\n\r\nconst options: AppOptions = { width: 1920, height: 1080, backgroundColor: 0x66ccff };\r\nconst sceneConfig = {\r\n  Reimu: {\r\n    position: { x: 700, y: options.height - 300 },\r\n  },\r\n  Marisa: {\r\n    position: { x: options.width / 2, y: options.height - 320 },\r\n  },\r\n  Alice: {\r\n    position: { x: options.width - 700, y: options.height - 295 },\r\n    anchor: { x: 0.5, y: 0.668 }, // Matter use the gravity center as the anchor\r\n  },\r\n  Cirno: {\r\n    scale: { x: 128, y: 3 },\r\n    position: { x: options.width / 2, y: options.height - 256 },\r\n  },\r\n  Sakuya: {\r\n    scale: { x: 3, y: 32 },\r\n    position: { x: options.width / 2, y: options.height - 128 },\r\n  },\r\n  Youmu: {\r\n    scale: { x: 240, y: 3 },\r\n    position: { x: options.width / 2, y: options.height - 12 },\r\n  },\r\n};\r\n\r\nconst usages = {\r\n  Catapult() {\r\n    const resource = useResource({\r\n      Reimu: make => make.shape({ fill: { color: THColors.Reimu.rgb } }).rectangle(64, 64),\r\n      Marisa: make => make.shape({ fill: { color: THColors.Marisa.rgb } }).circle(32),\r\n      Alice: make => make.shape({ fill: { color: THColors.Alice.rgb } }).triangle(102.4, 80, 51.2),\r\n    });\r\n    const textures = useResource.query(resource)('texture');\r\n\r\n    const catapultRefs = Constraint.useRefs(['bodyA', 'pointB']);\r\n    useEffect(() => {\r\n      catapultRefs.bodyA.then(bodyA => catapultRefs.pointB.current = { ...bodyA.position });\r\n    }, [catapultRefs]);\r\n\r\n    const filters = useMemo(() => ({\r\n      negCatapult: { collisionFilter: { group: Body.nextGroup(true) } },\r\n    }), []);\r\n\r\n    World.useEvent('collisionStart', ({ pairs }) => pairs.forEach(({ bodyA, bodyB }) => {\r\n      const [marisa, victim] = bodyA.label === 'Marisa' ? [bodyA, bodyB] : bodyB.label === 'Marisa' ? [bodyB, bodyA] : [];\r\n      if (marisa == null) return;\r\n      if (victim.label !== 'Reimu' && victim.label !== 'Alice') return;\r\n      const marisaX = marisa.position.x;\r\n      const victimX = victim.position.x;\r\n      const velocityX = marisaX > victimX ? 12 : marisaX < victimX ? -12 : 0;\r\n      if (velocityX === 0) return;\r\n      Matter.Body.setVelocity(marisa, Matter.Vector.add(marisa.velocity, { x: velocityX, y: 0 }));\r\n      Matter.Body.setVelocity(victim, Matter.Vector.add(victim.velocity, { x: 0, y: -3}));\r\n    }));\r\n\r\n    return (resource && <>\r\n      <Sprite texture={textures.Reimu} {...sceneConfig.Reimu}>\r\n        <Body {...Body.SpriteRectangle({ label: 'Reimu', restitution: 0.1, density: 0.01 })} />\r\n      </Sprite>\r\n      <Sprite texture={textures.Marisa} {...sceneConfig.Marisa}>\r\n        <Body {...Body.SpriteCircle({ label: 'Marisa', restitution: 0.8, friction: 0, velocity: { x: Math.random() > 0.5 ? 6 : -6, y: 0 } })} />\r\n      </Sprite>\r\n      <Sprite texture={textures.Alice} {...sceneConfig.Alice}>\r\n        <Body {...Body.SpriteTriangle({ label: 'Alice', restitution: 0.1, density: 0.01 })} />\r\n      </Sprite>\r\n      <Sprite texture={THColors.Cirno.texture} {...sceneConfig.Cirno}>\r\n        <Body {...Body.SpriteRectangle({ label: 'Cirno', density: 0.05, friction: 0.01, ...filters.negCatapult })} ref={catapultRefs.bodyA} />\r\n      </Sprite>\r\n      <Sprite texture={THColors.Sakuya.texture} {...sceneConfig.Sakuya}>\r\n        <Body {...Body.SpriteRectangle({ isStatic: true, ...filters.negCatapult })} />\r\n      </Sprite>\r\n      <Sprite texture={THColors.Youmu.texture} {...sceneConfig.Youmu}>\r\n        <Body {...Body.SpriteRectangle({ isStatic: true })} />\r\n      </Sprite>\r\n      <Constraint {...catapultRefs} stiffness={1} length={0} />\r\n    </>);\r\n  },\r\n};\r\n\r\nconst Physics = () => {\r\n  const [Usage, usageSelector] = useSelect('Catapult', usages);\r\n  return (\r\n    <App {...App.Creator(options)}>\r\n      <World renderDebug={/*draw debug-renderer*/true}>\r\n        <Usage />\r\n        <World.Mouse />\r\n      </World>\r\n      <UI id=\"helper\">\r\n        <p {...usageSelector('Catapult')}>Catapult</p>\r\n      </UI>\r\n    </App>\r\n  );\r\n};\r\nPhysics.displayName = 'Physics';\r\nPhysics.displayText = 'Physics';\r\nexport default Physics;\r\n","import StageAndUI from './StageAndUI';\r\nimport TextureAndSprite from './TextureAndSprite';\r\nimport PreloadResource from './PreloadResource';\r\nimport LogicDecoupling from './LogicDecoupling';\r\nimport HighFrequency from './HighFrequency';\r\nimport Physics from './Physics';\r\n\r\nexport const scenes = [\r\n  StageAndUI,\r\n  TextureAndSprite,\r\n  HighFrequency,\r\n  PreloadResource,\r\n  LogicDecoupling,\r\n  Physics,\r\n];\r\n","import React from 'react';\r\nimport { Link, match } from 'react-router-dom';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { History, Location } from 'history'; // only used as type.\r\nimport './index.css';\r\nimport '@fure/view';\r\nimport { scenes } from '../Scene';\r\nimport { PUBLIC_URL } from '..';\r\n\r\ninterface LocationState { } // eslint-disable-line @typescript-eslint/no-empty-interface\r\n\r\ninterface Props {\r\n  history: History<LocationState>;\r\n  location: Location<LocationState>;\r\n  match: match;\r\n}\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nconst Home = ({ history: _history, location, match: _match }: Props) => {\r\n  return (\r\n    <div className=\"Home\">\r\n      {scenes.map(Scene => (\r\n        <Link key={Scene.displayName} to={{ ...location, pathname: `${PUBLIC_URL}/scene/${Scene.displayName}` }}>\r\n          <p>{Scene.displayText}</p>\r\n        </Link>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\nHome.displayName = 'Home';\r\nexport default Home;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport './index.css';\r\nimport Home from './Home';\r\nimport { scenes } from './Scene';\r\n\r\nexport const PUBLIC_URL = process.env.PUBLIC_URL; // eslint-disable-line no-undef\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <>\r\n      <Route exact path={`${PUBLIC_URL}/`} component={Home} />\r\n\r\n      {scenes.map(Scene => (\r\n        <Route key={Scene.displayName} path={`${PUBLIC_URL}/scene/${Scene.displayName}`} component={Scene} />\r\n      ))}\r\n    </>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}