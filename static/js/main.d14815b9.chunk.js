(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(101);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var o=r(147);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(164);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var a=r(96);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var u=r(169);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var c=r(172);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var l=r(71);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})});var s=r(22);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var f=r(97);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})});var d=r(173);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})});var p=r(69);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})});var b=r(121);Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}})});var v=r(72);Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})})},,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(44);Object.defineProperty(t,"__esModule",{value:!0}),t.useObservable=t.useUpdate=t.useCloseableAsync=t.useCloseable=t.defaultClose=void 0;var o=r(1),i=function(e){return"close"in e?e.close():"destroy"in e?e.destroy():"remove"in e?e.remove():void 0};t.defaultClose=i;t.useCloseable=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=(0,o.useMemo)(e,[]);return(0,o.useEffect)(function(){return function(){return t(n)}},r),n};t.useCloseableAsync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=(0,o.useState)(void 0),u=n(a,2),c=u[0],l=u[1];return(0,o.useEffect)(function(){var r=Promise.resolve(e());return r.then(l),function(){r.then(t)}},r),c};t.useUpdate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,o.useMemo)(e,[]),(0,o.useEffect)(e,t)};t.useObservable=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=(0,o.useState)(t),a=n(i,2),u=a[0],c=a[1];return(0,o.useEffect)(function(){var t=e.subscribe(function(e){return c(e)});return function(){return t.unsubscribe()}},r),(0,o.useDebugValue)(u,JSON.stringify),u}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useView=t.useScreen=t.useRenderer=t.Renderer=t.RendererContext=void 0;var n=u(r(1)),o=u(r(25)),i=r(22),a=r(111);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=(0,n.createContext)(void 0);t.RendererContext=l,l.displayName="Renderer";var s=(0,a.withView)("Renderer",function(e){var t=e.children,r=e.create,u=e.width,c=e.height,s=(0,n.useContext)(a.ViewContext),f=(0,i.useCloseable)(function(){return r?r(s):new o.Renderer({view:s})});return(0,i.useUpdate)(function(){null==u||null==c||u===f.width&&c===f.height||f.resize(u,c)},[u,c]),n.default.createElement(l.Provider,{value:f},t)},{Creator:function(e){return(0,n.useMemo)(function(){return{create:function(t){return new o.Renderer(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){c(e,t,r[t])})}return e}({view:t},e))}}},[])}});t.Renderer=s;t.useRenderer=function(){return(0,n.useContext)(l)};t.useScreen=function(){var e=(0,n.useContext)(l);return e&&e.screen};t.useView=function(){var e=(0,n.useContext)(l);return e&&e.view}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Container=t.useContainer=t.ContainerContext=void 0;var n=a(r(1)),o=a(r(25)),i=r(22);function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=(0,n.createContext)(void 0);t.ContainerContext=c,c.displayName="Container";var l=function(){return(0,n.useContext)(c)};t.useContainer=l;var s=function(e,t){var r=t.children,o=l();return o&&o.addChild(e),n.default.createElement(c.Provider,{value:e},r)},f=function(e){var t=u({},e),r=(0,i.useCloseable)(function(){return new o.Container});return s(r,t)};t.Container=f,f.Particle=function(e){var t=u({},e),r=(0,i.useCloseable)(function(){return new o.ParticleContainer});return s(r,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePlayTime=t.useTicker=t.Ticker=t._patchPIXITicker=t.TickerContext=void 0;var n=a(r(1)),o=a(r(25)),i=r(22);function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var u=(0,n.createContext)(o.Ticker.shared);t.TickerContext=u,u.displayName="Ticker";var c=function(e){var t=e.remove.bind(e);return e.remove=function(){return e._head&&t.apply(void 0,arguments)},e};t._patchPIXITicker=c,c(o.Ticker.shared);t.Ticker=function(e){var t=e.children,r=e.running,a=void 0===r||r,l=e.speed,s=void 0===l?1:l,f=e.minFPS,d=void 0===f?10:f,p=(0,i.useCloseable)(function(){return c(new o.Ticker)});return(0,i.useUpdate)(function(){a!==p.started&&(a?p.start():p.stop()),s!==p.speed&&(p.speed=s),d!==p.minFPS&&(p.minFPS=d)},[a,s,d]),n.default.createElement(u.Provider,{value:p},t)};var l=function(){var e=(0,n.useContext)(u);return(0,n.useDebugValue)(e,function(e){return e.FPS.toFixed(2)}),e};t.useTicker=l;t.usePlayTime=function(){var e=l(),t=(0,n.useRef)(0);return(0,n.useEffect)(function(){var r=function(){t.current+=e.deltaMS};return e.add(r),function(){e.remove(r)}},[]),t}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={SpriteProps:!0,SpriteContext:!0,useSprite:!0,Sprite:!0};Object.defineProperty(t,"SpriteProps",{enumerable:!0,get:function(){return i.SpriteProps}}),Object.defineProperty(t,"SpriteContext",{enumerable:!0,get:function(){return i.SpriteContext}}),Object.defineProperty(t,"useSprite",{enumerable:!0,get:function(){return i.useSprite}}),Object.defineProperty(t,"Sprite",{enumerable:!0,get:function(){return i.Sprite}});var o=r(149);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var i=r(109),a=r(162);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLoader=t.Loader=t.LoaderContext=void 0;var n=a(r(1)),o=a(r(25)),i=r(22);function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var u=(0,n.createContext)(o.Loader.shared);t.LoaderContext=u,u.displayName="Loader";var c=function(e){var t=e.children,r=e.baseUrl,a=e.concurrency,c=(0,i.useCloseable)(function(){return new o.Loader(r,a)});return(0,i.useUpdate)(function(){null!=r&&r!==c.baseUrl&&(c.baseUrl=r),null!=a&&a!==c.concurrency&&(c.concurrency=a)},[]),n.default.createElement(u.Provider,{value:c},t)};t.Loader=c,c.Creator=function(e){var t=e.baseUrl,r=e.concurrency;return(0,n.useMemo)(function(){return{create:function(){return new o.Loader(t,r)}}},[])};t.useLoader=function(){var e=(0,n.useContext)(u);return(0,n.useDebugValue)(e.progress,function(e){return"progress: ".concat(e)}),e}},,,,function(e,t,r){"use strict";var n=r(44);Object.defineProperty(t,"__esModule",{value:!0}),t.useGradient=s,t.Gradient=f;var o=r(1),i=r(3),a=l(r(141)),u=l(r(145)),c=l(r(146));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=(0,i.useTicker)(),a=(0,o.useRef)([]);(0,o.useEffect)(function(){a.current=e(r,a.current)},[e]);var u=(0,o.useState)(void 0),c=n(u,2),l=c[0],s=c[1];return(0,o.useEffect)(function(){var e,n=function(){e=t(r,a.current,e),s(e)};return r.add(n),function(){r.remove(n)}},[t]),(0,o.useDebugValue)(l,JSON.stringify),l}function f(e){var t=e.children,r=s(e.pointsFn,e.gradientFn);return null==r?null:null==t?null:t(r)}f.Simple=a.default,f.Velocity=u.default,f.Circular=c.default},,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sprite=t.withSprite=t.useSprite=t.SpriteContext=void 0;var n=c(r(1)),o=c(r(25)),i=r(71),a=r(22),u=r(72);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var l=(0,n.createContext)(void 0);t.SpriteContext=l,l.displayName="Sprite";var s=function(){return(0,n.useContext)(l)};t.useSprite=s;var f=function(e,t){var r=t.children,o=t.texture,i=t.position,u=t.scale,c=t.anchor,s=void 0===c?{x:.5,y:.5}:c,f=t.rotation,d=t.tint,p=void 0===d?16777215:d,b=t.blendMode;return(0,a.useUpdate)(function(){if(null!=o&&o!==e.texture&&(e.texture=o),i&&i!==e.position&&e.position.set(i.x,i.y),null!=u){var t=u instanceof Object?u:{x:u,y:u},r=t.x,n=t.y;r!==e.scale.x&&(e.scale.x=r),n!==e.scale.y&&(e.scale.y=n)}s&&(s.x!==e.anchor.x&&(e.anchor.x=s.x),s.y!==e.anchor.y&&(e.anchor.y=s.y)),f&&("degree"in f&&f.degree!==e.angle&&(e.angle=f.degree),"radian"in f&&f.radian!==e.rotation&&(e.rotation=f.radian)),p!==e.tint&&(e.tint=p),null!=b&&b!==e.blendMode&&(e.blendMode=b)},[o,i,u,s,f]),n.default.createElement(l.Provider,{value:e},r)};t.withSprite=f;var d=function(e){var t=(0,i.useContainer)(),r=(0,a.useCloseable)(function(){var r=new o.Sprite(e.texture);return t.addChild(r),r},function(e){t.removeChild(e),e.destroy()});return f(r,e)};t.Sprite=d,d.Ticker=function(e){var t=e.update,r=(0,u.useTicker)(),o=s();return(0,n.useMemo)(function(){t(o)},[]),(0,n.useEffect)(function(){var e=function(){return t(o)};return r.add(e),function(){r.remove(e)}},[]),null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWorld=t.World=t.WorldContext=void 0;var n=u(r(1)),o=u(r(102)),i=r(69),a=r(22);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){l(e,t,r[t])})}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=(0,n.createContext)(void 0);t.WorldContext=s,s.displayName="World";t.World=function(e){var t=e.children,r=e.element,u=e.options,l=(0,i.useRenderer)(),f=(0,a.useCloseable)(function(){var e=o.Engine.create(),t=o.Render.create({engine:e,element:"debug"===r?l.view.parentElement:r||void 0,options:c({width:l.width,height:l.height},u)});return o.Engine.run(e),o.Render.run(t),e.world});return n.default.createElement(s.Provider,{value:f},t)};t.useWorld=function(){return(0,n.useContext)(s)}},function(e,t,r){"use strict";var n=r(44);Object.defineProperty(t,"__esModule",{value:!0}),t.withView=t.ViewContext=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1));function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r(163);var a=(0,o.createContext)(void 0);t.ViewContext=a,a.displayName="View";t.withView=function(e,t,r){t.displayName=e;var u=function(e){var r=e.id,u=e.className,c=e.style,l=i(e,["id","className","style"]);return function(e){var t=e.id,r=e.className,i=void 0===r?"":r,u=e.style,c=e.children,l=(0,o.useState)(void 0),s=n(l,2),f=s[0],d=s[1],p=(0,o.useCallback)(function(e){e&&d(e)},[]);return o.default.createElement("div",{id:t,className:"".concat(i&&"".concat(i," "),"Furegame"),style:u},o.default.createElement("canvas",{ref:p}),f&&o.default.createElement(a.Provider,{value:f},c))}({id:r,className:u,style:c,children:o.default.createElement(t,l)})};u.displayName="".concat(e,".View");var c=u;return r&&Object.entries(r).forEach(function(e){var t=n(e,2),r=t[0],o=t[1];c[r]=o}),c}},function(e,t,r){"use strict";var n=r(165);Object.defineProperty(t,"__esModule",{value:!0}),t.makeResource=t.Resource=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(25)),i=r(22);var a=o.LoaderResource;t.Resource=a;var u=o.Polygon,c={maker:void 0,draw:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.defaultClose;null==this.maker&&(this.maker=new o.Renderer({width:0,height:0,transparent:!0}),console.warn("[Furegame]: used `makeResource` to generate temporary resources, not recommand for production envriroments."));var r=this.maker,n=e.getBounds(),u=n.width,c=n.height;r.view.width=u,r.view.height=c,r.render(e);var l=new Image;l.src=r.view.toDataURL();var s=new o.Texture(new o.BaseTexture(l));return r.clear(),r.view.width=0,r.view.height=0,t(e),function(e,t){if(e){if(t){var r=new a(e,"#".concat(e));t.resources[e]=r,r.texture=s}o.Texture.addToCache(s,e)}return s}},shape:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fill,r=e.line,i=r&&r.width?2*r.width:0;return{draw:function(e){var n=new o.Graphics;return t?n.beginFill(t.color,t.alpha):n.beginFill(0),r&&n.lineStyle(r.width,r.color,r.alpha),e instanceof Function?e(n):n.drawShape(e),c.draw(n)},circle:function(e){return this.draw(new o.Circle(i+e,i+e,e))},ellipse:function(e,t){return this.draw(new o.Ellipse(i+e,i+t,e,t))},polygon:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.draw(n(u,t))},rectangle:function(e,t){return this.draw(new o.Rectangle(i,i,e,t))},roundedRectangle:function(e,t,r){return this.draw(new o.RoundedRectangle(i,i,e,t,r))},triangle:function(e,t,r){return this.draw(new u(new o.Point(i+r,i),new o.Point(i,i+t),new o.Point(i+e,i+t)))},star:function(e,t,r,n){return this.draw(function(o){return o.drawStar(i+t,i+t,e,t,r,n)})}}},text:function(e,t){return c.draw(new o.Text(e,t))}};t.makeResource=c},,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStage=t.Stage=t.StageContext=void 0;var n=l(r(1)),o=l(r(25)),i=r(71),a=r(22),u=r(69),c=r(72);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var s=i.ContainerContext;t.StageContext=s;var f=function(e){var t=e.children,r=(0,a.useCloseable)(function(){return new o.Container});return n.default.createElement(s.Provider,{value:r},t)};t.Stage=f;var d=i.useContainer;t.useStage=d,(f.LazyRefresh=function(){var e=d(),t=(0,u.useRenderer)(),r=(0,n.useCallback)(function(){t.render(e)},[t,e]);return(0,c.useTicker)().addOnce(r),null}).displayName="Stage.LazyRefresh",(f.TickRefresh=function(){var e=d(),t=(0,u.useRenderer)(),r=(0,c.useTicker)();return(0,n.useEffect)(function(){var n=function(){return t.render(e)};return r.add(n),function(){r.remove(n)}},[]),null}).displayName="Stage.TickRefresh"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=t.compareExtract=t.compareNature=void 0;var n=function(e,t){return e<t?-1:e===t?0:1};t.compareNature=n;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return function(r,n){return t(e(r),e(n))}};t.compareExtract=o;t.shuffle=function(e){var t=e.map(function(e){return{element:e,weight:Math.random()}});return t.sort(o(function(e){return e.weight})),t.map(function(e){return e.element})}},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(176);var n=r(178);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var o=r(181);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},,,,function(e,t,r){e.exports=r(190)},,,,,function(e,t,r){},function(e,t,r){},,,,function(e,t,r){"use strict";var n=r(44),o=r(95);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(1);t.default=function(e){return{pointsFn:(0,i.useCallback)(function(e){return function(t,r){return[{state:e,time:t.lastTime}].concat(o(r.slice(0,1)))}}(e),[e]),gradientFn:(0,i.useCallback)(function(e,t,r){var o=n(t,2),i=o[0],a=o[1];if(null==a)return 0;if(r===i.state)return i.state;var u=i.time-a.time-(e.lastTime-i.time),c=r+(i.state-r)/u*e.elapsedMS;return Math.max(r,Math.min(c,i.state))},[])}}},,,,function(e,t,r){"use strict";var n=r(95),o=r(44);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(1);t.default=function(e){var t=e.map(function(e){return e.join(",")});return{pointsFn:(0,i.useCallback)(function(){return[e]},t),gradientFn:(0,i.useCallback)(function(e,t,r){var i=o(t,1)[0];if(null==r)return i;for(var a=e.deltaTime,u=r.map(function(e){return n(e)}),c=function(e){var t=u[u.length-e],r=u[u.length-e-1];t.forEach(function(e,t){return r[t]=r[t]+e*a})},l=1;l<u.length;l++)c(l);return u},t)}}},function(e,t,r){"use strict";var n=r(44),o=r(95);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(1),a=r(101);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){var t=e.position,r=e.rotate,c=e.frames,l=e.distance,s=e.direction,f=e.children,d=(0,i.useMemo)(function(){return[[0,r,c,l,s].concat(o(t)),[r/c]]},[r,c,l,s].concat(o(t)));return(0,a.Gradient)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){u(e,t,r[t])})}return e}({},a.Gradient.Velocity(d),{children:function(e){return null==e?e:function(r){var o=n(r,1),i=n(o[0],7),a=i[0],u=i[1],c=i[2],l=i[3],s=i[4],f=i[5],d=i[6],p=u/2,b=l/Math.sin(p)/2,v=s-p,y=f+b*(Math.cos(v)*Math.sin(a)+Math.sin(v)*Math.cos(a)-Math.sin(v)),m=d+b*(Math.sin(v)*Math.sin(a)-Math.cos(v)*Math.cos(a)+Math.cos(v));return e({x:y,y:m,angle:v+a,rotate:u,frames:c,distance:l,direction:s,position:t})}}(f)}))};c.displayName="Gradient.VelocityCircular";var l=c;t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(148);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var o=r(110);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useBody=t.Body=t.BodyContext=t.useSpriteBounds=t.Bodies=void 0;var n=u(r(1)),o=u(r(102)),i=r(96),a=r(110);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var c=o.Bodies;t.Bodies=c;var l=function(){var e=(0,i.useSprite)();return(0,n.useMemo)(function(){if(null==e)throw new Error("`Sprite` context not found for create `Physics.Body`");var t=e.x,r=e.y,n=e.width,o=e.height,i=c.rectangle(t,r,n,o);return i.position={get x(){return e.position.x},get y(){return e.position.y},set x(t){e.position.x=t},set y(t){e.position.y=t}},i},[e])};t.useSpriteBounds=l;var s=(0,n.createContext)(void 0);t.BodyContext=s,s.displayName="Body";t.Body=function(e){var t=e.children,r=e.useBody,i=(void 0===r?l:r)(),u=(0,a.useWorld)();return(0,n.useEffect)(function(){return o.World.add(u,i),function(){o.World.remove(u,i)}},[]),n.default.createElement(s.Provider,{value:i},t)};t.useBody=function(){return(0,n.useContext)(s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedSprite=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(25)),o=r(71),i=r(22),a=r(109);function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.AnimatedSprite=function(e){var t=e.textures,r=e.autoUpdate,c=e.playing,l=void 0===c||c,s=e.loop,f=void 0===s||s,d=e.animationSpeed,p=void 0===d?1:d,b=u(e,["textures","autoUpdate","playing","loop","animationSpeed"]),v=(0,o.useContainer)(),y=(0,i.useCloseable)(function(){var e=new n.AnimatedSprite(t,r);return v.addChild(e),e},function(e){v.removeChild(e),e.destroy()});return(0,i.useUpdate)(function(){t!==y.textures&&(y.textures=t),l!==y.playing&&(l?y.play():y.stop()),f!==y.loop&&(y.loop=f),p!==y.animationSpeed&&(y.animationSpeed=p)},[t,l,f,p]),(0,a.withSprite)(y,b)}},,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MovableSprite=void 0;var n=r(96);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var a=function(e){var t=e.animId,r=e.textures,a=e.position,u=e.velocity,c=i(e,["animId","textures","position","velocity"]),l=t instanceof Function?t(u):t;return(0,n.AnimatedSprite)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}({textures:r[l],position:a},c))};t.MovableSprite=a,a.UDLR={animId:function(e){var t=e.vx,r=e.vy;return 0===t?0===r?"idle":r<0?"up":"down":t<0?"left":"right"}},a.toUDLR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return{idle:e.slice(0,t),up:e.slice(1*t,2*t),down:e.slice(2*t,3*t),left:e.slice(3*t,4*t),right:e.slice(4*t,5*t)}}},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={Texture:!0,BLEND_MODES:!0};Object.defineProperty(t,"Texture",{enumerable:!0,get:function(){return o.Texture}}),Object.defineProperty(t,"BLEND_MODES",{enumerable:!0,get:function(){return o.BLEND_MODES}});var o=r(25),i=r(112);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var a=r(167);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var u=r(168);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))})},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THColors=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(25));var o=function(e,t){var r=e.toString(16);if(e>4294967295)throw new Error("color value overflow: ".concat(r));var o=255&e,i=e>>>8,a=255&i,u=i>>>8,c=255&u,l=u>>>8,s=new Image;s.src=t;var f=new n.Texture(new n.BaseTexture(s));return{value:e,data:t,hex:"#".concat(e.toString(16)),rgb:i,alpha:o,rgba:{R:l,G:c,B:a,A:o},image:s,texture:f}},i={Reimu:o(3407562239,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2M8Le36nwEPYBwZCgDiuxFZv0b9QAAAAABJRU5ErkJggg=="),Marisa:o(471604479,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2OUkZH5z4AHMI4MBQAGEgqh6nJAewAAAABJRU5ErkJggg=="),Alice:o(3918211839,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2N82a31nwEPYBwZCgDzHRTxpXyovQAAAABJRU5ErkJggg=="),Cirno:o(1488116991,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2OM2HTnPwMewDgyFAAAMsMXMXWBeqIAAAAASUVORK5CYII="),Sakuya:o(4244304639,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2P88+vTfwY8gHFkKAAA1JcfQVtkt10AAAAASUVORK5CYII="),Youmu:o(578638335,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2NUqg38z4AHMI4MBQDO6A+BFQpJiAAAAABJRU5ErkJggg=="),Yuyuko:o(4276085247,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2P8d//hfwY8gHFkKAAAFOcd8YzlO0MAAAAASUVORK5CYII="),Yakumo:o(1243766271,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2P0Uor9z4AHMI4MBQAdPA5J0HdVbgAAAABJRU5ErkJggg==")};t.THColors=i},function(e,t,r){"use strict";var n=r(113),o=r(44);Object.defineProperty(t,"__esModule",{value:!0}),t.useResource=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(25)),a=r(112),u=r(1),c=r(97),l=r(22);function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){f(e,t,r[t])})}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e,t,r){var f=(0,u.useMemo)(function(){return{}},[]),d=(0,c.useLoader)(),p=(0,l.useCloseableAsync)(function(){var r=Object.entries(e).map(function(e){var t=o(e,2),r=t[0],n=t[1];return n instanceof Function?Promise.resolve(n(a.makeResource)).then(function(e){return e(r,d)}).then(function(){d.emit("load",d,d.resources[r])}).catch(function(e){if(null==d.resources[r]){var t=new a.Resource(r,"#".concat(r));t.error=e,d.resources[r]=t}throw d.emit("error",e,d,d.resources[r]),e}).finally(function(){return d.emit("progress",d,d.resources[r])}):Promise.resolve(n).then(function(e){var t=e.url,n=e.options,o=e.callback;d.add(r,t,n,o)})});return Promise.all(r).then(function(){return new Promise(function(r){return d.load(function(r){return function(){return Object.defineProperties(f,Object.keys(e).map(function(e){return n({},e,{configurable:!0,enumerable:!0,get:function(){return d.resources[e]}})}).reduce(function(e,t){return s({},e,t)},{})),Promise.resolve((t&&t(f),!0)).then(r)}}(r))})})},function(e){r&&r(),d.reset(),i.utils.clearTextureCache()});return(0,u.useDebugValue)(p,function(e){return e?"finished":"loading"}),p?f:null};t.useResource=d,d.query=function(e){return(0,u.useMemo)(function(){return null==e?function(e){return{}}:function(t){return Object.entries(e).reduce(function(e,r){var i=o(r,2),a=i[0],u=i[1];return s({},e,n({},a,u[t]))},{})}},[e])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fromResize",{enumerable:!0,get:function(){return i.fromResize}}),t.UI=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),o=r(45);r(170);var i=r(171),a=r(69),u=r(22);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.view,n=r.clientWidth,o=r.clientHeight,i=r.offsetLeft,a=r.offsetTop;if(!t)return{width:n,height:o,left:i,top:a};var u=e.width,c=e.height;return{width:u,height:c,transform:"scale(".concat(n/u,", ").concat(o/c,")"),left:(n-u)/2+i,top:(o-c)/2+a}};t.UI=function(e){var t=e.id,r=e.className,s=void 0===r?"":r,f=e.style,d=e.children,p=e.scaleMode,b=(0,a.useRenderer)(),v=(0,n.useMemo)(function(){return(0,i.fromResize)(b.view).pipe((0,o.debounceTime)(100)).pipe((0,o.map)(function(e){return l(b,p)}))},[]),y=(0,u.useObservable)(v,(0,n.useMemo)(function(){return l(b,p)},[])),m=(0,n.useMemo)(function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){c(e,t,r[t])})}return e}({},f,y)},[f,y]);return n.default.createElement("div",{id:t,className:"".concat(s&&"".concat(s," "),"UI"),style:m},d)}},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromResize=void 0;var n=r(48);t.fromResize=function(e){var t,r=window.ResizeObserver;return"undefined"===typeof r?(0,n.fromEvent)(window,"resize"):(0,n.fromEventPattern)(function(n){(t=new r(n)).observe(e)},function(r){t.unobserve(e)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useApp=t.App=t.AppContext=void 0;var n=f(r(1)),o=f(r(25)),i=r(22),a=r(69),u=r(97),c=r(121),l=r(72),s=r(111);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=(0,n.createContext)(void 0);t.AppContext=p,p.displayName="App";var b=(0,s.withView)("App",function(e){var t=e.children,r=e.create,f=e.resizeTo,d=(0,n.useContext)(s.ViewContext),b=(0,i.useCloseable)(function(){var e=r?r(d):new o.Application({view:d});return(0,l._patchPIXITicker)(e.ticker),e});return(0,i.useUpdate)(function(){null!=f&&f!==b.resizeTo&&(b.resizeTo=f,b.resize())},[f]),n.default.createElement(p.Provider,{value:b},n.default.createElement(u.LoaderContext.Provider,{value:b.loader},n.default.createElement(a.RendererContext.Provider,{value:b.renderer},n.default.createElement(c.StageContext.Provider,{value:b.stage},n.default.createElement(l.TickerContext.Provider,{value:b.ticker},t)))))},{Creator:function(e){return(0,n.useMemo)(function(){return{create:function(t){return new o.Application(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){d(e,t,r[t])})}return e}({view:t},e))}}},[])}});t.App=b;t.useApp=function(){return(0,n.useContext)(p)}},function(e,t,r){"use strict";var n=r(44);Object.defineProperty(t,"__esModule",{value:!0}),t.Progress=function(e){var t=e.completed,r=e.children,a=e.indicator,u=(0,i.useLoader)(),c=(0,o.useState)(void 0),l=n(c,2),s=l[0],f=l[1];return(0,o.useEffect)(function(){var e=function(e,t){return f(t)};return u.on("progress",e),function(){u.removeListener("progress",e)}},[]),o.default.createElement(o.default.Fragment,null,t?r:null==a?null:o.default.createElement(a,{progress:u.progress,resource:s}))};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(1)),i=r(3)},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";var n,o,i=(o=r(177))&&o.__esModule?o:{default:o};var a="padding: 0.2em 0.5em;";(n=console).info.apply(n,[["%cFuregame ".concat(i.default.version,"%c"),"%c".concat(i.default.author,"%c\n"),"%c".concat(i.default.license,"%c"),"%c".concat(i.default.homepage,"%c")].join("")].concat(["background: #6cf; color: #fff; ".concat(a),""].concat(["color: #6cc; ".concat(a),""],["background: #e00; color: #9ff; ".concat(a),""],["".concat(a),""])))},function(e){e.exports={name:"@fure/core",version:"0.0.0",description:"Functional Reactive Game Framework (core)",keywords:["furegame","functional","reactive","game","framework","engine"],author:"zhengxiaoyao0716 <1499383852@qq.com>",homepage:"https://github.com/zhengxiaoyao0716/furegame#readme",license:"MIT",main:"lib/index.js",directories:{lib:"lib",test:"__tests__"},files:["lib"],repository:{type:"git",url:"git+https://github.com/zhengxiaoyao0716/furegame.git"},scripts:{test:'echo "Error: run tests from root" && exit 1'},bugs:{url:"https://github.com/zhengxiaoyao0716/furegame/issues"},devDependencies:{rxjs:"^6.5.2"},peerDependencies:{rxjs:"^6.5.2"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(122);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var o=r(179);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},function(e,t,r){"use strict";var n=r(123),o=r(180);Object.defineProperty(t,"__esModule",{value:!0}),t.TreeSet=t.binarySearch=void 0;var i=r(122);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e,t,r){for(var n=0,o=t.length-1;n<=o;){var i=n+o>>1,a=e(t[i],r);if(a<0)n=i+1;else{if(!(a>0))return i;o=i-1}}return n};t.binarySearch=u;var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.compareNature,r=arguments.length>1?arguments[1]:void 0;n(this,e),a(this,"elements",[]),a(this,"comparator",void 0),this.comparator=t,r&&this.pushAll(r)}return o(e,[{key:"top",value:function(){if(!this.isEmpty)return this.elements.splice(0,1)[0]}},{key:"pop",value:function(){if(!this.isEmpty)return this.elements.splice(this.size-1,1)[0]}},{key:"push",value:function(e){var t=u(this.comparator,this.elements,e);this.elements.splice(t,0,e)}},{key:"pushAll",value:function(e){var t=this;e.forEach(function(e){return t.push(e)})}},{key:"size",get:function(){return this.elements.length}},{key:"isEmpty",get:function(){return 0===this.elements.length}},{key:"head",get:function(){return this.elements[0]}},{key:"last",get:function(){return this.elements[this.size-1]}}]),e}();t.TreeSet=c},,function(e,t,r){"use strict";var n=r(113),o=r(123);Object.defineProperty(t,"__esModule",{value:!0}),t.Core=void 0;var i=r(48),a=r(45);function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){c(e,t,r[t])})}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.Core=function e(t,r,l){var s=this;if(o(this,e),c(this,"rpcId",void 0),c(this,"subjectId",void 0),c(this,"pipe",void 0),c(this,"rpc",void 0),c(this,"events",void 0),this.rpcId="_fure_core_rpc-".concat(t),this.subjectId="_fure_core_subject-".concat(t),this.pipe=l.pipe.bind(l),"undefined"===typeof window)return this.rpc=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Promise.resolve(r[e].apply(r,n))},this.events=r,void(this[this.subjectId]=l);var f=window;if(f[this.rpcId]instanceof Function)return this.rpc=f[this.rpcId],this.events=Object.keys(r).reduce(function(e,t){return u({},e,n({},t,s.rpc.bind(null,t)))},{}),void(f[this.subjectId]=l);this.rpc=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Promise.resolve(r[e].apply(r,n))},this.events=Object.keys(r).reduce(function(e,t){return u({},e,n({},t,function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,i.interval)(1).pipe((0,a.take)(1)).toPromise().then(function(){return s.rpc.apply(s,[t].concat(r))})}))},{})}},,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),i=r(125),a=r.n(i),u=r(93),c=r(53),l=(r(136),r(130)),s=(r(137),r(3)),f=r(11),d=r(114),p=r(12);r(174);function b(e,t){var r=Object(n.useState)(e),o=Object(f.a)(r,2),i=o[0],a=o[1],u=Object(n.useCallback)(function(e){return{className:"".concat(e===i?"selected ":"","button"),onClick:function(){return a(e)}}},[i]);return[t?t[i]:i,u]}var v=[{position:[0,0],velocity:[0,0],gravity:[]},{position:[0,0],velocity:[10,0],gravity:[]},{position:[600,0],velocity:[0,10],gravity:[]},{position:[600,600],velocity:[-10,0],gravity:[]},{position:[0,600],velocity:[0,-10],gravity:[]},{position:[0,0],velocity:[0,0],gravity:[.5,0]},{position:[900,0],velocity:[0,0],gravity:[0,.5]},{position:[900,900],velocity:[0,0],gravity:[-.5,0]},{position:[0,900],velocity:[0,0],gravity:[0,-.5]}],y=["\u3000\u2588\u3000\n\u2588\u2588\u2588\n\u2588\u3000\u2588","\u3000\u2588\u3000\n\u2588\u3000\u2588\n\u2588\u3000\u2588","\u3000\u3000\u3000\n\u2588\u2588\u2588\n\u2588\u3000\u2588","\u3000\u2588\u3000\n\u2588\u3000\u2588\n\u2588\u3000\u2588","\u2588\u3000\u2588\n\u2588\u2588\u2588\n\u3000\u3000\u3000","\u2588\u3000\u2588\n\u2588\u3000\u2588\n\u3000\u2588\u3000","\u3000\u2588\u2588\n\u3000\u2588\u3000\n\u3000\u2588\u2588","\u3000\u2588\u2588\n\u2588\u3000 \n\u3000\u2588\u2588","\u2588\u2588\u3000\n\u3000\u2588\u3000\n\u2588\u2588\u3000","\u2588\u2588\u3000\n \u3000\u2588\n\u2588\u2588\u3000","\u3000\u2588\u3000\n\u2588\u3000\u2588\n\u3000\u2588\u3000","\u2588\u3000\u2588\n\u3000\u2588\u3000\n\u2588\u3000\u2588"],m=function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},O={Simple:function(e){var t=e.children;return o.a.createElement(s.App,Object.assign({id:"game"},s.App.Creator({width:1920,height:1080,backgroundColor:6737151})),o.a.createElement(s.UI,{id:"hello"},o.a.createElement("h2",null,"HELLO"),o.a.createElement("h1",null,"Fure Game"),o.a.createElement("h3",null,"(simple usage)")),t)},Advance:function(e){var t=e.children,r=Object(s.useObservable)(Object(n.useMemo)(function(){return Object(s.fromResize)(document.body).pipe(Object(d.a)(100),Object(p.a)(m))},[]),m());return o.a.createElement(s.Loader,null," ",o.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",textAlign:"center"}},o.a.createElement("h1",null,"Fill Window"),o.a.createElement("h1",null,"&"),o.a.createElement("h1",null,"Transparent Background"),o.a.createElement("h1",null,"&"),o.a.createElement("h1",null,"Scale Mode UI")),o.a.createElement(s.Renderer,Object.assign({id:"game"},r,s.Renderer.Creator({transparent:!0}),{style:{backgroundColor:"rgba(102, 204, 255, 0.933)"}}),o.a.createElement(s.Stage,null,o.a.createElement(s.Ticker,null," ",o.a.createElement(s.Stage.TickRefresh,null))),o.a.createElement(s.UI,{id:"hello",scaleMode:!0},o.a.createElement("h2",null,"HELLO"),o.a.createElement("h1",null,"Fure Game"),o.a.createElement("h3",null,"(advance usage)")),t))}},g=function(){var e=b("Simple",O),t=Object(f.a)(e,2),r=t[0],n=t[1];return o.a.createElement(r,null,o.a.createElement(s.UI,{id:"helper"},o.a.createElement("p",n("Simple"),"Simple Usage"),o.a.createElement("p",n("Advance"),"Advance Usage")))};g.displayName="StageAndUI",g.displayText="Stage & UI";var h=g,j=r(47),w=r(76),A={width:1920,height:1080,backgroundColor:6737151},P=function(){return{x:(.2+.6*Math.random())*A.width,y:(.2+.6*Math.random())*A.height}},E={Simple:function(){return Object.entries(s.THColors).map(function(e){var t=Object(f.a)(e,2),r=t[0],n=t[1];return o.a.createElement(s.Sprite,{key:r,texture:n.texture,scale:{x:3,y:3},position:P()},o.a.createElement(s.Stage.LazyRefresh,null))})},Animated:function(){var e=Object(s.useCloseable)(function(){return[].concat(Object(j.a)(["\u3042","\u3044","\u3046","\u3048","\u304a"].map(function(e){return s.makeResource.text(e)(e)})),Object(j.a)(Object.entries(s.THColors).map(function(e){var t=Object(f.a)(e,2),r=t[0],n=t[1];return s.makeResource.shape({fill:{color:n.rgb}}).circle(8)("".concat(r,".circle"))})),Object(j.a)(Object.entries(s.THColors).map(function(e){var t=Object(f.a)(e,2),r=t[0],n=t[1];return s.makeResource.shape({fill:{color:n.rgb}}).star(5,12,6)("".concat(r,".star"))})))},function(e){return e.forEach(function(e){return e.destroy()})});return s.Stage.TickRefresh(),e.map(function(t,r){return o.a.createElement(s.AnimatedSprite,{key:r,textures:[].concat(Object(j.a)(e.slice(r)),Object(j.a)(e.slice(0,r))),animationSpeed:.1,position:P()})})},Moveable:function(){var e=Object(n.useMemo)(function(){return Object(w.a)(0,1e3).pipe(Object(p.a)(function(e){return v[e%v.length]}))},[]),t=Object(s.useObservable)(e,{position:[],velocity:[],gravity:[]}),r=t.position,i=t.velocity,a=t.gravity,u=Object(n.useMemo)(function(){return s.MovableSprite.toUDLR(y.map(function(e){return s.makeResource.text(e,{fontFamily:["monospace"],fontSize:24})()}))},[]);return o.a.createElement(s.Gradient,s.Gradient.Velocity([r,i,a]),function(e){var t=Object(f.a)(e,2),r=Object(f.a)(t[0],2),n=r[0],i=r[1],a=Object(f.a)(t[1],2),c=a[0],l=a[1];return o.a.createElement(s.MovableSprite,Object.assign({},s.MovableSprite.UDLR,{textures:u,position:{x:n+510,y:i+90},velocity:{vx:c,vy:l},animationSpeed:.1}),o.a.createElement(s.Stage.LazyRefresh,null))})}},x=function(){var e=b("Simple",E),t=Object(f.a)(e,2),r=t[0],n=t[1];return o.a.createElement(s.Renderer,s.Renderer.Creator(A),o.a.createElement(s.Stage,null,o.a.createElement(s.UI,{id:"helper"},o.a.createElement("p",n("Simple"),"Simple Usage"),o.a.createElement("p",n("Animated"),"Animated Usage"),o.a.createElement("p",n("Moveable"),"Moveable Usage")),o.a.createElement(r,null)))};x.displayName="TextureAndSprite",x.displayText="Texture & Sprite";var _=x,M=r(46),S=r(29),C=r(58),k=r(115),R=function(e){var t=e.progress,r=e.resource;return o.a.createElement(s.UI,null,o.a.createElement(s.Gradient,s.Gradient.Simple(t),function(e){return o.a.createElement("div",{style:{position:"absolute",width:"".concat(e,"%"),height:6,left:0,bottom:"6%",background:s.THColors.Reimu.hex}})}),o.a.createElement("small",{style:{position:"absolute",right:"1em",bottom:"6%"}},t.toFixed(2),"% | ",r?r.name:"waiting"," ",r&&r.error&&"failed"))},D={get width(){return document.body.clientWidth},get height(){return document.body.clientHeight}},T=function(e,t){return Object(n.useMemo)(function(){return Object(w.a)(0,1e3*e).pipe(Object(S.a)(function(r){return Object(w.a)(0,1e3*e/t).pipe(Object(C.a)(t))})).pipe(Object(p.a)(function(e){return[e*D.width/t,e]}))},[e,t])},U=function(e,t){return function(r){return new Array(15).fill().map(function(n,o){return r(e+D.width/2*((o/3|0)-2),t+D.height/3*(o%3),o)})}},N=function(e){var t=e.texture,r=Object(s.useObservable)(T(3,2),[0,0]),n=Object(f.a)(r,1)[0],i=D.width/3/Object(s.useTicker)().maxFPS;return o.a.createElement(s.Gradient,s.Gradient.Velocity([[n],[i]]),function(e){var r=Object(f.a)(e,1),n=Object(f.a)(r[0],2),i=n[0],a=n[1];return U(i,void 0===a?50:a)(function(e,r,n){return o.a.createElement(s.Sprite,{key:n,texture:t,position:{x:e,y:r},scale:{x:2,y:2}})})})},I=function(e){var t=e.texture,r=Object(s.useObservable)(T(3,3),[0,0]),n=Object(f.a)(r,1)[0],i=Object(s.useTicker)(),a=D.width/3/i.maxFPS,u=-400/i.maxFPS,c=2*-u/i.maxFPS;return o.a.createElement(s.Gradient,s.Gradient.Velocity([[n+200,200],[a,u],[0,c]]),function(e){var r=Object(f.a)(e,1),n=Object(f.a)(r[0],2),i=n[0],a=n[1];return U(i,a)(function(e,r,n){return o.a.createElement(s.Sprite,{key:n,texture:t,position:{x:e,y:r}})})})},B=function(e){var t=e.texture,r=Object(s.useObservable)(T(3,6),[0,0]),n=Object(f.a)(r,2),i=n[0],a=(n[1]%2===0?1:-1)/3*Math.PI,u=3*Object(s.useTicker)().maxFPS/6,c=D.width/6;return o.a.createElement(s.Gradient.Circular,{rotate:a,frames:u,distance:c,direction:0,position:[i+400,250]},function(e){var r=e.x,n=e.y,i=e.angle;return U(r,n)(function(e,r,n){return o.a.createElement(s.Sprite,{key:n,texture:t,position:{x:e,y:r},rotation:{radian:.5*Math.PI+i}})})})},L=function(e){var t=e.texture;return o.a.createElement("img",{src:t.baseTexture.resource.url,alt:"kagari",style:{maxWidth:"30%",maxHeight:"60%",position:"absolute",right:0,bottom:0}})},F={Simple:function(){var e=Object(s.useResource)({reimu:{url:s.THColors.Reimu.data},kagari:Object(M.a)({url:"https://raw.githubusercontent.com/zhengxiaoyao0716/rewrite-kagali/master/kagari-nobg-nolight.gif"}).toPromise(),marisa:function(e){return e.shape({fill:{color:s.THColors.Marisa.rgb}}).star(5,12,6)},"kagari-nobg-nolight":Object(M.a)({url:"https://raw.githubusercontent.com/zhengxiaoyao0716/rewrite-kagali/master/kagali.gif"}).pipe(Object(k.a)(300)).toPromise(),alice:function(e){return Object(M.a)(e.shape({fill:{color:s.THColors.Alice.rgb}}).triangle(16,20,8)).pipe(Object(k.a)(600)).toPromise()}}),t=s.useResource.query(e)("texture");return o.a.createElement(s.Progress,{completed:!!e,indicator:R},o.a.createElement(N,{texture:t.reimu}),o.a.createElement(I,{texture:t.marisa}),o.a.createElement(B,{texture:t.alice}),o.a.createElement(L,{texture:t.kagari}))}},V=function(){var e=b("Simple",F),t=Object(f.a)(e,1)[0];return o.a.createElement(s.App,Object.assign({resizeTo:document.body},s.App.Creator({backgroundColor:6737151})),o.a.createElement(t,null))};V.displayName="PreloadResource",V.displayText="Preload Resource";var z=V,G=r(118),H=r(50),Q=r(116),Y=r(20),J=(r(175),r(127)),W=r(8),K=r(15),q=r(120),X=r(119),Z=r(117),$=function(){var e,t=new W.a,r=new Set,n=new Set,o={join:function(o,i){if(!r.has(o)&&(r.add(o),t.next({message:"".concat(o," (").concat(i,") joined.")}),!(r.size<2))){e=function(){var e=5;return{attr:void 0,get:function(){return e},inc:function(r){if(e<9)return r!==this.attr?void t.next({message:"miss"}):(e++,void t.next({life:e}));this.inc=function(){return t.next({life:e,message:"GAME PASS"})},this.dec=function(){},t.next({life:e,message:"YOU WIN"})},dec:function(){(e-=1/60)>0?t.next({life:e}):(e=0,this.inc=function(){return t.next({life:e,message:"GAME OVER"})},this.dec=function(){},t.next({life:e,message:"BOO~OOM"}))}}}();var a=Object(K.a)(["READY...","GO!!!"]).pipe(Object(X.a)(Object(q.a)(500),function(e){return e}));n.add(a.subscribe(function(e){return t.next({message:e})})),n.add(Object(w.a)(1500,1e3/60).subscribe(function(){return e.dec()}));var u=Object(w.a)(1500,500).pipe(Object(Z.a)(function(){return e.attr=Math.random()<.5?"fire":"water"}));n.add(u.subscribe(function(){return t.next({attr:e.attr})}))}},blow:function(t){e.inc(t)},leave:function(e){r.delete(e),t.next({message:"".concat(e," leaved.")}),r.size>0||(n.forEach(function(e){return e.unsubscribe()}),n.clear())}};return new J.Core("LogicDecoupling",o,t)}(),ee={width:960,height:1080,transparent:!0},te=function(e){var t=e.life,r=e.attr,n="".concat(t&&.5+t,"em");return o.a.createElement("div",{className:"Bubble ".concat(r),style:{width:n,height:n}})},re=function(e){var t=e.attr,r=Object(n.useMemo)(function(){var e=new W.a;return e.pipe(Object(G.a)(300)).subscribe(function(){return $.events.blow(t)}),function(t){return e.next(t)}},[t]);return o.a.createElement("div",{className:"Player ".concat(t),onClick:r,onTouchStart:r})},ne=function(e){var t=e.value,r=void 0===t?[]:t,i=e.show,a=Object(s.useObservable)(Object(n.useMemo)(function(){return Object(q.a)(1e3/30).pipe(Object(p.a)(function(){return(new Date).getTime()}))},[]),0),u=r.map(function(e){var t=Object(f.a)(e,2),r=t[0],n=t[1];return[r,a-n]}).filter(function(e){return Object(f.a)(e,2)[1]<i});return o.a.createElement("div",{className:"Message"},u.map(function(e,t){var r=Object(f.a)(e,2),n=r[0],a=r[1];return o.a.createElement("p",{key:t,style:{opacity:Math.cos(a/i)}},n)}))};ne.queue=Object(H.a)(function(e,t){return[].concat(Object(j.a)(e.slice(-4)),[[t,(new Date).getTime()]])},[]);var oe=function(e){var t=e.player,r=Object(s.useObservable)(Object(n.useMemo)(function(){return $.pipe(Object(Q.a)("life"),Object(Y.a)(function(e){return null!=e}))},[]),0),i=Object(s.useObservable)(Object(n.useMemo)(function(){return $.pipe(Object(Q.a)("attr"),Object(Y.a)(function(e){return null!=e}))},[])),a=Object(s.useObservable)(Object(n.useMemo)(function(){return $.pipe(Object(Q.a)("message"),Object(Y.a)(function(e){return null!=e})).pipe(ne.queue)},[]));return Object(n.useEffect)(function(){return $.events.join(t.name,t.attr),function(){return $.events.leave(t.name)}},[t.name,t.attr]),o.a.createElement(s.App,s.App.Creator(ee),o.a.createElement("p",{className:"name"},t.name),i&&o.a.createElement(te,{life:r,attr:i}),o.a.createElement(re,{attr:t.attr}),o.a.createElement(ne,{value:a,show:3e3}))},ie=function(){return o.a.createElement("div",{className:"LogicDecoupling"},o.a.createElement(oe,{player:{name:"Girl",attr:"fire"}}),o.a.createElement(oe,{player:{name:"Boy",attr:"water"}}))};ie.displayName="LogicDecoupling",ie.displayText="Logic Decoupling";var ae=ie,ue={width:1920,height:1080,backgroundColor:6737151},ce=ue.width/2,le=ue.height/2,se=function(){var e=Object(s.useCloseable)(function(){return s.makeResource.shape({fill:{color:16777215}}).star(5,12,6)("particle")},function(e){return e.destroy()}),t=Object(s.usePlayTime)(),r=Object(n.useMemo)(function(){return[]},[]);Object(n.useEffect)(function(){var e=Object(w.a)(0,4).pipe(Object(p.a)(function(){return 2*Math.random()*Math.PI})).pipe(Object(p.a)(function(e){return{cos:Math.cos(e),sin:Math.sin(e),scale:.5+Math.random(),tint:16777215*Math.random()|0,sendAt:t.current}})).subscribe(function(e){r.unshift(e),r.length>1e3&&r.pop()});return function(){return e.unsubscribe()}},[r,t]);var i=Object(n.useCallback)(function(e){return function(n){if(r[e]){n.visible=!0;var o=r[e],i=o.cos,a=o.sin,u=o.scale,c=o.tint,l=o.sendAt,s=.2*(t.current-l),f={x:ce+i*s,y:le+a*s};n.position.x=f.x,n.position.y=f.y,n.scale.x=u,n.scale.y=u,n.tint=c}else n.visible=!1}},[r,t]);return o.a.createElement(s.Container,null,new Array(1e3).fill().map(function(t,r){return o.a.createElement(s.Sprite,{key:r,texture:e,blendMode:s.BLEND_MODES.ADD},o.a.createElement(s.Sprite.Ticker,{update:i(r)}))}))},fe=function(){return o.a.createElement(s.App,s.App.Creator(ue),o.a.createElement(se,null))};fe.displayName="HighFrequency",fe.displayText="High Frequency";var de=fe,pe={width:1920,height:1080,backgroundColor:6737151},be=function(){var e=Object(s.useResource)({Reimu:function(e){return e.shape({fill:{color:s.THColors.Reimu.rgb}}).rectangle(200,100)},Marisa:function(e){return e.shape({fill:{color:s.THColors.Marisa.rgb}}).circle(16)},Alice:function(e){return e.shape({fill:{color:s.THColors.Alice.rgb}}).triangle(16,20,8)}}),t=s.useResource.query(e)("texture");return o.a.createElement(s.App,s.App.Creator(pe),o.a.createElement(s.World,{element:"debug"},e&&o.a.createElement(o.a.Fragment,null,o.a.createElement(s.Sprite,{texture:t.Reimu,position:{x:pe.width/2,y:pe.height/2}},o.a.createElement(s.Body,null)))))};be.displayName="Physics",be.displayText="Physics";var ve=[h,_,de,z,ae,be],ye=function(e){e.history;var t=e.location;e.match;return o.a.createElement("div",{className:"Home"},ve.map(function(e){return o.a.createElement(u.b,{key:e.displayName,to:Object(l.a)({},t,{pathname:"".concat(Oe,"/scene/").concat(e.displayName)})},o.a.createElement("p",null,e.displayText))}))};ye.displayName="Home";var me=ye;r.d(t,"PUBLIC_URL",function(){return Oe});var Oe="/furegame";a.a.render(o.a.createElement(u.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,{exact:!0,path:"".concat(Oe,"/"),component:me}),ve.map(function(e){return o.a.createElement(c.a,{key:e.displayName,path:"".concat(Oe,"/scene/").concat(e.displayName),component:e})}))),document.getElementById("root"))}],[[131,1,2]]]);
//# sourceMappingURL=main.d14815b9.chunk.js.map