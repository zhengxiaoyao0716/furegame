{"version":3,"sources":["../../../fure-view/lib/index.js","../../../fure-view/lib/hooks.js","../../../fure-core/lib/index.js","../../../fure-view/lib/Ticker/index.js","../../../fure-view/lib/Renderer.js","../../../fure-view/lib/UI/View.js","../../../fure-view/lib/Gradient/Gradient.js","../../../fure-core/lib/Core.js","../../../fure-view/lib/Physics/Composite.js","../../../fure-view/lib/Physics/World.js","../../../fure-view/lib/Sprite/index.js","../../../fure-view/lib/Sprite/Sprite.js","../../../fure-view/lib/Container.js","../../../fure-view/lib/Loader.js","../../../fure-core/lib/collection/compare.js","../../../fure-core/lib/rx/index.js","../../../fure-core/lib/main/index.js","../../../fure-view/lib/Gradient/Velocity.js","../../../fure-view/lib/UI/index.js","../../../fure-view/lib/Resource/make.js","../../../fure-view/lib/Stage.js","../../../fure-view/lib/Gradient/index.js","../../../fure-core/lib/pkg-info.js","../../../fure-core/lib/collection/index.js","../../../fure-core/lib/collection/TreeSet.js","../../../fure-core/lib/main/main.js","../../../fure-core/lib/Ticker.js","../../../fure-view/lib/Ticker/Subscribe.js","../../../fure-view/lib/Gradient/Simple.js","../../../fure-view/lib/Gradient/Circular.js","../../../fure-view/lib/Physics/index.js","../../../fure-view/lib/Physics/Constraint.js","../../../fure-view/lib/Physics/Mouse.js","../../../fure-view/lib/UI/resize.js","../../../fure-view/lib/Physics/Body.js","../../../fure-view/lib/Physics/set-poly-decomp.js","../../../fure-view/lib/Sprite/Animated.js","../../../fure-view/lib/Sprite/Movable.js","../../../fure-view/lib/Resource/index.js","../../../fure-view/lib/Resource/THColors.js","../../../fure-view/lib/Resource/use.js","../../../fure-view/lib/App.js","../../../fure-view/lib/Progress.js","Scene/helper.js","Scene/StageAndUI/index.js","Scene/TextureAndSprite/index.js","Scene/PreloadResource/index.js","main/core/index.js","Scene/LogicDecoupling/index.js","Scene/HighFrequency/index.js","Scene/Physics/index.js","Scene/index.js","Home/index.js","index.js"],"names":["Object","defineProperty","exports","value","_Gradient","keys","forEach","key","enumerable","get","_Physics","_Resource","_Sprite","_Ticker","_UI","_App","_Container","_hooks","_Loader","_Progress","_Renderer","_Stage","_slicedToArray","usePromiseRef","useCloseableAsync","useCloseable","defaultClose","_react","close","destroy","remove","undefined","supplier","arguments","length","deps","state","useMemo","useEffect","closeRef","useRef","_ref","useState","_ref2","setState","promise","Promise","resolve","current","then","setValue","instance","bind","_collection","_rx","_Core","_exportNames","TickerContext","TickerController","useTicker","obj","__esModule","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","prototype","hasOwnProperty","call","desc","set","default","_interopRequireWildcard","_core","_Subscribe","WeakMap","createContext","Ticker","shared","displayName","_ref$ticker","ticker","_ref$children","children","_ref$running","running","autoStart","start","pause","createElement","Provider","useContext","useDebugValue","FPS","toFixed","useView","useScreen","useRenderer","Renderer","RendererContext","PIXI","_View","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","push","apply","_defineProperty","configurable","writable","withView","create","width","height","view","ViewContext","renderer","resize","Creator","options","target","i","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","screen","setRef","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","ref","Function","Component","ext","WithView","id","className","style","props","_ref2$className","_ref3","_ref4","setView","canvasRef","useCallback","canvas","concat","View","WithExt","forwardRef","entries","_ref5","_ref6","name","useGradient","pointsFn","gradientFn","points","subject","_rxjs","Subject","pipe","next","sub","each","unsubscribe","JSON","stringify","_Simple","_Velocity","_Circular","_defineProperty2","_classCallCheck","Core","_operators","events","_this","this","rpcId","subjectId","window","rpc","event","_len","args","Array","_key","reduce","dict","g","_len2","_key2","_len3","_key3","interval","take","toPromise","main","Composite","useComposite","CompositeContext","Matter","eventNames","definition","parent","composite","add","callback","Events","on","off","useEvent","_toConsumableArray","useWorld","useEngine","World","EngineContext","_Mouse","_Composite","defaultRenderOptions","wireframeBackground","showPositions","showBounds","showVelocity","showCollisions","_ref$events","_ref$renderDebug","renderDebug","engine","Engine","delta","update","clear","_canvas$classList","_ref2$classList","classList","renderDefinition","renderOptions","parentNode","document","appendChild","render","Render","run","updateStyle","_renderer$view","clientWidth","clientHeight","offsetLeft","offsetTop","left","top","fromResize","debounceTime","subscribe","_","world","firstDebug","Mouse","SpriteProps","SpriteContext","useSprite","Sprite","_Animated","_Movable","createSprite","container","useContainer","sprite","addChild","removeChild","texture","position","scale","_props$anchor","anchor","x","y","rotation","_props$tint","tint","blendMode","degree","angle","radian","_sprite","_props","ParticleContainer","Container","ContainerContext","createContainer","constructor","useLoader","Loader","LoaderContext","baseUrl","concurrency","loader","progress","shuffle","compareExtract","compareReverse","compareNature","l","r","compare","e1","e2","mapper","target1","target2","elements","wrapper","map","element","weight","Math","random","sort","pick","pluck","_possibleConstructorReturn","_getPrototypeOf","_assertThisInitialized","_inherits","MainCore","_Core$Core","emitter","emit","fullscreen","_default","addEventListener","_main$events","Velocity","velocityFn","vector","join","point","deltaTime","vectors","_loop","index","previous","_resize","UI","styleOf","scaleMode","transform","_ref$className","outerStyle","styleEvent","builtinStyle","useSubscribe","makeResource","Resource","LoaderResource","Polygon","maker","draw","transparent","console","warn","_object$getBounds","getBounds","image","Image","src","toDataURL","Texture","BaseTexture","resource","resources","addToCache","shape","fill","line","border","graphics","Graphics","beginFill","color","alpha","lineStyle","drawShape","circle","radius","Circle","ellipse","Ellipse","polygon","rectangle","Rectangle","roundedRectangle","RoundedRectangle","triangle","sharp","star","innerRadius","drawStar","text","Text","useStage","Stage","StageContext","LazyRefresh","stage","subRef","once","TickRefresh","Gradient","_console","_package","pkgInfo","version","author","license","homepage","padding","info","replace","_compare","_TreeSet","_createClass","TreeSet","binarySearch","comparator","right","middle","cmp","pushAll","isEmpty","splice","size","_events","EventEmitter","requestTimer","Date","getTime","cb","setTimeout","requestAnimationFrame","syncPeriod","now","offset","core","sync","time","timer","_running","skipOnBack","throttleTime","asyncScheduler","leading","trailing","_delta","fromEvent","visibilityState","_visibile","fn","Subscribe","init","snapshot","setSnapshot","subcription","Simple","simpleFn","slice","simplePointsFn","point0","point1","remain","interp","max","min","Circular","rotate","frames","distance","direction","velocityState","obs","_ref3$","positionX","positionY","halfRotate","velocity","sin","initial","cos","decorate","_Constraint","_Body","_World","_regeneratorRuntime","_asyncToGenerator","Constraint","mark","_callee2","tasks","constraint","wrap","_context2","prev","_callee","_context","abrupt","sent","stop","_x2","all","_x","useRefs","acc","newPromiseRef","mouseConstraint","mouse","MouseConstraint","stiffness","visible","observer","ResizeObserver","fromEventPattern","handler","observe","_handler","unobserve","Body","BodyComponent","useBody","isSleeping","isStatic","isSensor","body","Sleeping","setStatic","SpriteBody","newBody","Error","setVelocity","SpritePath","vertices","Vector","Bodies","fromVertices","SpriteCircle","SpriteRectangle","SpriteTriangle","nextCategory","nextGroup","_polyDecomp","decomp","AnimatedSprite","textures","autoUpdate","_ref2$playing","playing","_ref2$loop","loop","_ref2$animationSpeed","animationSpeed","play","MovableSprite","FreeMoveSprite","_extends","assign","Consumer","animId","_ref5$","UDLR","vx","vy","toUDLR","eachSize","idle","up","down","BLEND_MODES","_pixi","_make","_THColors","_use","THColors","newColor","data","toString","A","rgb","B","rg","G","R","hex","rgba","Reimu","Marisa","Alice","Cirno","Sakuya","Youmu","Yuyuko","Yakumo","useResource","complete","unmount","completed","option","save","catch","error","_resource","finally","url","load","onLoad","_completed","reset","utils","clearTextureCache","query","_field","field","useApp","App","AppContext","resizeTo","app","Application","Progress","Indicator","indicator","loaded","setLoaded","_loader","removeListener","Fragment","useSelect","selected","setSeleted","selector","onClick","playerPath","gravity","playerAnims","bodySize","usages","backgroundColor","Advance","textAlign","StageAndUI","Usage","usageSelector","displayText","randomPosition","thc","Animated","Moveable","fontFamily","fontSize","TextureAndSprite","Loading","bottom","background","useShooter","turn","sampleTime","startWith","mergeMap","copies","ox","oy","PI","Kagari","baseTexture","alt","maxWidth","maxHeight","reimu","kagari","of","marisa","make","delay","alice","PreloadResource","LogicDecoupling","bubble","players","Set","subscriptions","playerName","playerAttr","message","life","attr","inc","dec","newBubble","readyTimer","from","zip","bubbleTimer","tap","blow","leave","player","delete","Bubble","Player","onTap","onTouchStart","Message","show","messages","insertAt","opacity","queue","scan","Game","birth","Particle","particles","runTime","last","sendAt","count","floor","range","particle","unshift","pop","ADD","HighFrequency","sceneConfig","Catapult","catapultRefs","bodyA","pointB","filters","negCatapult","collisionFilter","group","pairs","bodyB","label","victim","marisaX","victimX","velocityX","restitution","density","friction","Physics","scenes","Scene","context","history","useHistory","goBack","Home","location","match","to","pathname","PUBLIC_URL","process","ReactDOM","exact","path","component","getElementById"],"mappings":"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","file":"static/js/main.45fef4fd.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Gradient = require(\"./Gradient\");\n\nObject.keys(_Gradient).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Gradient[key];\n    }\n  });\n});\n\nvar _Physics = require(\"./Physics\");\n\nObject.keys(_Physics).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Physics[key];\n    }\n  });\n});\n\nvar _Resource = require(\"./Resource\");\n\nObject.keys(_Resource).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Resource[key];\n    }\n  });\n});\n\nvar _Sprite = require(\"./Sprite\");\n\nObject.keys(_Sprite).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Sprite[key];\n    }\n  });\n});\n\nvar _Ticker = require(\"./Ticker\");\n\nObject.keys(_Ticker).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Ticker[key];\n    }\n  });\n});\n\nvar _UI = require(\"./UI\");\n\nObject.keys(_UI).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _UI[key];\n    }\n  });\n});\n\nvar _App = require(\"./App\");\n\nObject.keys(_App).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _App[key];\n    }\n  });\n});\n\nvar _Container = require(\"./Container\");\n\nObject.keys(_Container).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Container[key];\n    }\n  });\n});\n\nvar _hooks = require(\"./hooks\");\n\nObject.keys(_hooks).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _hooks[key];\n    }\n  });\n});\n\nvar _Loader = require(\"./Loader\");\n\nObject.keys(_Loader).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Loader[key];\n    }\n  });\n});\n\nvar _Progress = require(\"./Progress\");\n\nObject.keys(_Progress).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Progress[key];\n    }\n  });\n});\n\nvar _Renderer = require(\"./Renderer\");\n\nObject.keys(_Renderer).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Renderer[key];\n    }\n  });\n});\n\nvar _Stage = require(\"./Stage\");\n\nObject.keys(_Stage).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Stage[key];\n    }\n  });\n});","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.usePromiseRef = exports.useCloseableAsync = exports.useCloseable = exports.defaultClose = void 0;\n\nvar _react = require(\"react\");\n/** utility hooks. */\n\n\nvar defaultClose = function defaultClose(value) {\n  return 'close' in value ? value.close() : 'destroy' in value ? value.destroy() : 'remove' in value ? value.remove() : undefined;\n};\n\nexports.defaultClose = defaultClose;\n\nvar useCloseable = function useCloseable(supplier) {\n  var close = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultClose;\n  var deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var state = (0, _react.useMemo)(supplier, []);\n  (0, _react.useEffect)(function () {\n    return function () {\n      return close(state);\n    };\n  }, deps);\n  return state;\n};\n\nexports.useCloseable = useCloseable;\n\nvar useCloseableAsync = function useCloseableAsync(supplier) {\n  var close = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultClose;\n  var deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var closeRef = (0, _react.useRef)(false);\n\n  var _ref = (0, _react.useState)(undefined),\n      _ref2 = _slicedToArray(_ref, 2),\n      state = _ref2[0],\n      setState = _ref2[1];\n\n  (0, _react.useEffect)(function () {\n    var promise = Promise.resolve(supplier(closeRef));\n    closeRef.current || promise.then(setState);\n    return function () {\n      closeRef.current = true;\n      promise.then(close);\n    };\n  }, deps);\n  return state;\n}; // deprected.\n// export const useUpdate: typeof useEffect = (\n//   update: EffectCallback,\n//   deps: DependencyList = []\n// ): void => {\n//   useMemo(update, []);\n//   useEffect(update, deps);\n// };\n\n\nexports.useCloseableAsync = useCloseableAsync;\n\nvar usePromiseRef = function usePromiseRef() {\n  return (0, _react.useMemo)(function () {\n    var value = null;\n    var setValue;\n    var promise = new Promise(function (resolve) {\n      return setValue = resolve;\n    });\n    return {\n      set current(instance) {\n        value = instance;\n        instance == null || setValue(instance);\n      },\n\n      get current() {\n        return value;\n      },\n\n      then: promise.then.bind(promise)\n    };\n  }, []);\n};\n\nexports.usePromiseRef = usePromiseRef;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire(\"./pkg-info\");\n\nvar _collection = require(\"./collection\");\n\nObject.keys(_collection).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _collection[key];\n    }\n  });\n});\n\nvar _rx = require(\"./rx\");\n\nObject.keys(_rx).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _rx[key];\n    }\n  });\n});\n\nvar _Core = require(\"./Core\");\n\nObject.keys(_Core).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Core[key];\n    }\n  });\n});\n\nvar _Ticker = require(\"./Ticker\");\n\nObject.keys(_Ticker).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Ticker[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  TickerContext: true,\n  TickerController: true,\n  useTicker: true\n};\nexports.useTicker = exports.TickerController = exports.TickerContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _core = require(\"@fure/core\");\n\nvar _Subscribe = require(\"./Subscribe\");\n\nObject.keys(_Subscribe).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Subscribe[key];\n    }\n  });\n});\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar TickerContext = (0, _react.createContext)(_core.Ticker.shared);\nexports.TickerContext = TickerContext;\nTickerContext.displayName = 'Ticker';\n\nvar TickerController = function TickerController(_ref) {\n  var _ref$ticker = _ref.ticker,\n      ticker = _ref$ticker === void 0 ? _core.Ticker.shared : _ref$ticker,\n      _ref$children = _ref.children,\n      children = _ref$children === void 0 ? null : _ref$children,\n      _ref$running = _ref.running,\n      running = _ref$running === void 0 ? true : _ref$running,\n      autoStart = _ref.autoStart;\n  if (running !== ticker.running) running ? ticker.start() : ticker.pause();\n  if (autoStart != null && autoStart != ticker.autoStart) ticker.autoStart = autoStart;\n  (0, _react.useEffect)(function () {\n    return function () {\n      ticker.pause();\n    };\n  }, []);\n  return _react.default.createElement(TickerContext.Provider, {\n    value: ticker\n  }, children);\n};\n\nexports.TickerController = TickerController;\n\nvar useTicker = function useTicker() {\n  var ticker = (0, _react.useContext)(TickerContext);\n  (0, _react.useDebugValue)(ticker, function (ticker) {\n    return ticker.FPS.toFixed(2);\n  });\n  return ticker;\n};\n\nexports.useTicker = useTicker;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useView = exports.useScreen = exports.useRenderer = exports.Renderer = exports.RendererContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nvar _View = require(\"./UI/View\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar RendererContext = (0, _react.createContext)(undefined);\nexports.RendererContext = RendererContext;\nRendererContext.displayName = 'Renderer';\nvar Renderer = (0, _View.withView)('Renderer', function (_ref) {\n  var children = _ref.children,\n      create = _ref.create,\n      width = _ref.width,\n      height = _ref.height;\n  var view = (0, _react.useContext)(_View.ViewContext);\n  var renderer = (0, _hooks.useCloseable)(function () {\n    return create ? create(view) : new PIXI.Renderer({\n      view: view\n    });\n  });\n  if (width != null && height != null && (width !== renderer.width || height !== renderer.height)) renderer.resize(width, height);\n  return _react.default.createElement(RendererContext.Provider, {\n    value: renderer\n  }, children);\n}, {\n  Creator: function Creator(options) {\n    return (0, _react.useMemo)(function () {\n      return {\n        create: function create(view) {\n          return new PIXI.Renderer(_objectSpread({\n            view: view\n          }, options));\n        }\n      };\n    }, []);\n  }\n});\nexports.Renderer = Renderer;\n\nvar useRenderer = function useRenderer() {\n  return (0, _react.useContext)(RendererContext);\n};\n\nexports.useRenderer = useRenderer;\n\nvar useScreen = function useScreen() {\n  var renderer = (0, _react.useContext)(RendererContext);\n  return renderer && renderer.screen;\n};\n\nexports.useScreen = useScreen;\n\nvar useView = function useView() {\n  var renderer = (0, _react.useContext)(RendererContext);\n  return renderer && renderer.view;\n};\n\nexports.useView = useView;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setRef = setRef;\nexports.withView = exports.ViewContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nrequire(\"./View.css\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction setRef(ref, value) {\n  if (ref == null) return;\n  if ('current' in ref) ref.current = value;else if (ref instanceof Function) ref(value);\n}\n\nvar ViewContext = (0, _react.createContext)(undefined);\nexports.ViewContext = ViewContext;\nViewContext.displayName = 'View';\n\nvar View = function View(_ref2, ref) {\n  var id = _ref2.id,\n      _ref2$className = _ref2.className,\n      className = _ref2$className === void 0 ? '' : _ref2$className,\n      style = _ref2.style,\n      children = _ref2.children;\n\n  var _ref3 = (0, _react.useState)(undefined),\n      _ref4 = _slicedToArray(_ref3, 2),\n      view = _ref4[0],\n      setView = _ref4[1];\n\n  var canvasRef = (0, _react.useCallback)(function (canvas) {\n    canvas && setView(canvas);\n    setRef(ref, canvas);\n  }, []);\n  return _react.default.createElement(\"div\", {\n    id: id,\n    className: \"\".concat(className && \"\".concat(className, \" \"), \"Furegame\"),\n    style: style\n  }, _react.default.createElement(\"canvas\", {\n    ref: canvasRef\n  }), view && _react.default.createElement(ViewContext.Provider, {\n    value: view\n  }, children));\n};\n\nvar withView = function withView(displayName, Component, ext) {\n  Component.displayName = displayName;\n\n  var WithView = function WithView(_ref, ref) {\n    var id = _ref.id,\n        className = _ref.className,\n        style = _ref.style,\n        props = _objectWithoutProperties(_ref, [\"id\", \"className\", \"style\"]);\n\n    return View({\n      id: id,\n      className: className,\n      style: style,\n      children: _react.default.createElement(Component, props)\n    }, ref);\n  };\n\n  WithView.displayName = \"\".concat(displayName, \".View\");\n  var WithExt = (0, _react.forwardRef)(WithView);\n  ext && Object.entries(ext).forEach(function (_ref5) {\n    var _ref6 = _slicedToArray(_ref5, 2),\n        name = _ref6[0],\n        value = _ref6[1];\n\n    WithExt[name] = value; // eslint-disable-line @typescript-eslint/no-explicit-any\n  });\n  return WithExt;\n};\n\nexports.withView = withView;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  useGradient: true\n};\nexports.useGradient = useGradient;\n\nvar _react = require(\"react\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _Simple = require(\"./Simple\");\n\nObject.keys(_Simple).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Simple[key];\n    }\n  });\n});\n\nvar _Velocity = require(\"./Velocity\");\n\nObject.keys(_Velocity).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Velocity[key];\n    }\n  });\n});\n\nvar _Circular = require(\"./Circular\");\n\nObject.keys(_Circular).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Circular[key];\n    }\n  });\n});\n\nfunction useGradient(pointsFn, gradientFn) {\n  var ticker = (0, _Ticker.useTicker)();\n  var points = (0, _react.useRef)([]);\n  (0, _react.useEffect)(function () {\n    points.current = pointsFn(ticker, points.current);\n  }, [pointsFn]);\n\n  var _ref = (0, _react.useMemo)(function () {\n    var subject = new _rxjs.Subject();\n    return [subject.pipe.bind(subject), function (state) {\n      return subject.next(state);\n    }];\n  }, []),\n      _ref2 = _slicedToArray(_ref, 2),\n      state = _ref2[0],\n      setState = _ref2[1];\n\n  (0, _react.useEffect)(function () {\n    var state;\n    var sub = ticker.each(function () {\n      state = gradientFn(ticker, points.current, state);\n      setState(state);\n    });\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, [gradientFn]);\n  (0, _react.useDebugValue)(state, JSON.stringify);\n  return state;\n}","\"use strict\";\n\nvar _defineProperty2 = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Core = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Core = function Core(id, events, subject) {\n  var _this = this;\n\n  _classCallCheck(this, Core);\n\n  _defineProperty(this, \"rpcId\", void 0);\n\n  _defineProperty(this, \"subjectId\", void 0);\n\n  _defineProperty(this, \"pipe\", void 0);\n\n  _defineProperty(this, \"rpc\", void 0);\n\n  _defineProperty(this, \"events\", void 0);\n\n  this.rpcId = \"_FURE_CORE_RPC-\".concat(id);\n  this.subjectId = \"_FURE_CORE_SUBJECT-\".concat(id);\n  this.pipe = subject.pipe.bind(subject); //#region BACKEND\n\n  if (typeof window === 'undefined') {\n    this.rpc = function (event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return Promise.resolve(events[event].apply(events, args));\n    };\n\n    this.events = Object.keys(events).reduce(function (dict, key) {\n      return _objectSpread({}, dict, _defineProperty2({}, key, _this.rpc.bind(null, key)));\n    }, {}); // expose `subject` for the main process of `carlo` to listen from.\n\n    this[this.subjectId] = subject; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n    return;\n  } //#endregion\n  //#region FRONTEND\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  var g = window; // eslint-disable-line no-undef\n\n  if (g[this.rpcId] instanceof Function) {\n    this.rpc = g[this.rpcId];\n    this.events = Object.keys(events).reduce(function (dict, key) {\n      return _objectSpread({}, dict, _defineProperty2({}, key, _this.rpc.bind(null, key)));\n    }, {}); // expose `subject` for the view process of `carlo` to send forward.\n\n    g[this.subjectId] = subject;\n    return;\n  } //#endregion\n  //#region FRONT-ONLY MOCK\n\n\n  this.rpc = function (event) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return Promise.resolve(events[event].apply(events, args));\n  };\n\n  this.events = Object.keys(events).reduce(function (dict, key) {\n    return _objectSpread({}, dict, _defineProperty2({}, key, function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      // delay 1ms to emulate the frontend-backend RPC call delay.\n      return (0, _rxjs.interval)(1).pipe((0, _operators.take)(1)).toPromise().then(function () {\n        return _this.rpc.apply(_this, [key].concat(args));\n      });\n    }));\n  }, {}); //#endregion\n};\n\nexports.Core = Core;\n\n_defineProperty(Core, \"main\", function () {\n  var main = require('./main').default;\n\n  if (typeof window !== 'undefined') return main;\n  return require('./main/main').default;\n}());","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Composite = exports.useComposite = exports.CompositeContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _hooks = require(\"../hooks\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar eventNames = ['beforeAdd', 'afterAdd', 'beforeRemove', 'afterRemove'];\nvar CompositeContext = (0, _react.createContext)(undefined);\nexports.CompositeContext = CompositeContext;\nCompositeContext.displayName = 'Composite';\n\nvar useComposite = function useComposite() {\n  return (0, _react.useContext)(CompositeContext);\n};\n\nexports.useComposite = useComposite;\n\nvar Composite = function Composite(_ref) {\n  var children = _ref.children,\n      events = _ref.events,\n      definition = _objectWithoutProperties(_ref, [\"children\", \"events\"]);\n\n  var parent = useComposite();\n  var composite = (0, _hooks.useCloseable)(function () {\n    var composite = Matter.Composite.create(definition);\n    Matter.Composite.add(parent, composite);\n    return composite;\n  }, function (composite) {\n    return Matter.Composite.remove(parent, composite);\n  });\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(composite, name, callback);\n      return function () {\n        return Matter.Events.off(composite, name, callback);\n      };\n    }, [events[name]]);\n  });\n  return _react.default.createElement(CompositeContext.Provider, {\n    value: composite\n  }, children);\n};\n\nexports.Composite = Composite;\n\nComposite.useEvent = function (name, callback) {\n  var composite = useComposite();\n  (0, _react.useEffect)(function () {\n    Matter.Events.on(composite, name, callback);\n    return function () {\n      return Matter.Events.off(composite, name, callback);\n    };\n  }, [composite]);\n};","\"use strict\";\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useWorld = exports.useEngine = exports.World = exports.EngineContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _Renderer = require(\"../Renderer\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _Mouse = require(\"./Mouse\");\n\nvar _Composite = require(\"./Composite\");\n\nvar _UI = require(\"../UI\");\n\nvar _operators = require(\"rxjs/operators\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar eventNames = ['beforeAdd', 'afterAdd', 'beforeRemove', 'afterRemove', 'beforeUpdate', 'afterUpdate', 'beforeRender', 'afterRender', 'collisionStart', 'collisionActive', 'collisionEnd', 'beforeTick', 'tick', 'afterTick', 'beforeRender', 'afterRender'];\nvar defaultRenderOptions = {\n  wireframeBackground: 'transparent',\n  showPositions: true,\n  showBounds: true,\n  showVelocity: true,\n  showCollisions: true\n};\nvar EngineContext = (0, _react.createContext)(undefined);\nexports.EngineContext = EngineContext;\nEngineContext.displayName = 'World.Engine';\n\nvar World = function World(_ref) {\n  var children = _ref.children,\n      _ref$events = _ref.events,\n      events = _ref$events === void 0 ? {} : _ref$events,\n      _ref$renderDebug = _ref.renderDebug,\n      renderDebug = _ref$renderDebug === void 0 ? false : _ref$renderDebug,\n      definition = _objectWithoutProperties(_ref, [\"children\", \"events\", \"renderDebug\"]);\n\n  var renderer = (0, _Renderer.useRenderer)();\n  var ticker = (0, _Ticker.useTicker)();\n  var engine = (0, _hooks.useCloseable)(function () {\n    var engine = Matter.Engine.create(definition); // Matter.Engine.run(engine);\n\n    ticker.each(function (delta) {\n      return Matter.Engine.update(engine, delta);\n    });\n    return engine;\n  }, function (engine) {\n    return Matter.Engine.clear(engine);\n  });\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(engine, name, callback);\n      return function () {\n        return Matter.Events.off(engine, name, callback);\n      };\n    }, [events[name]]);\n  }); // render debug canvas.\n\n  (0, _react.useEffect)(function () {\n    var _canvas$classList;\n\n    if (!renderDebug) return; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    var _ref2 = renderDebug === true ? {} : renderDebug,\n        _ref2$classList = _ref2.classList,\n        classList = _ref2$classList === void 0 ? ['UI'] : _ref2$classList,\n        renderDefinition = _objectWithoutProperties(_ref2, [\"classList\"]);\n\n    var renderOptions = _objectSpread({\n      width: renderer.width,\n      height: renderer.height\n    }, defaultRenderOptions, {}, renderDefinition.options);\n\n    var _ref3 = renderDefinition.canvas ? [renderDefinition.canvas] : function () {\n      if (renderer.view.parentNode == null) return [];\n      var canvas = document.createElement('canvas');\n      canvas.id = 'debugRenderer';\n      renderer.view.parentNode.appendChild(canvas);\n      var style = canvas.style; // prevent `Matter` change the canvas style\n\n      Object.defineProperty(canvas, 'style', {\n        get: function get() {\n          return {};\n        }\n      });\n      return [canvas, style];\n    }(),\n        _ref4 = _slicedToArray(_ref3, 2),\n        canvas = _ref4[0],\n        style = _ref4[1];\n\n    var render = Matter.Render.create(_objectSpread({}, renderDefinition, {\n      canvas: canvas,\n      engine: engine,\n      options: renderOptions\n    }));\n\n    (_canvas$classList = canvas.classList).add.apply(_canvas$classList, _toConsumableArray(classList));\n\n    Matter.Render.run(render);\n    if (style == null) return;\n\n    var updateStyle = function updateStyle() {\n      var _renderer$view = renderer.view,\n          clientWidth = _renderer$view.clientWidth,\n          clientHeight = _renderer$view.clientHeight,\n          offsetLeft = _renderer$view.offsetLeft,\n          offsetTop = _renderer$view.offsetTop;\n      style.width = \"\".concat(clientWidth, \"px\");\n      style.height = \"\".concat(clientHeight, \"px\");\n      style.left = \"\".concat(offsetLeft, \"px\");\n      style.top = \"\".concat(offsetTop, \"px\");\n    };\n\n    var sub = (0, _UI.fromResize)(renderer.view).pipe((0, _operators.debounceTime)(100)).subscribe(function (_) {\n      return updateStyle();\n    });\n    updateStyle();\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, [engine]);\n  return _react.default.createElement(EngineContext.Provider, {\n    value: engine\n  }, _react.default.createElement(_Composite.CompositeContext.Provider, {\n    value: engine.world\n  }, children));\n};\n\nexports.World = World;\n\nvar useEngine = function useEngine() {\n  var engine = (0, _react.useContext)(EngineContext);\n  (0, _react.useDebugValue)(engine, function (engine) {\n    var g = window; // eslint-disable-line @typescript-eslint/no-explicit-any\n    // for debugger\n\n    g.Matter = Matter;\n    g.engine = engine; // eslint-disable-next-line @typescript-eslint/no-explicit-any, no-debugger\n\n    if (useEngine.firstDebug !== false) {\n      debugger;\n      useEngine.firstDebug = false;\n    }\n\n    return \"engine#\".concat(engine.world.id);\n  });\n  return engine;\n};\n\nexports.useEngine = useEngine;\n\nvar useWorld = function useWorld() {\n  return (useEngine() || {}).world;\n};\n\nexports.useWorld = useWorld;\nWorld.Mouse = _Mouse.Mouse;\n\nvar useEvent = function useEvent(name, callback) {\n  var engine = useEngine();\n  (0, _react.useEffect)(function () {\n    Matter.Events.on(engine, name, callback);\n    return function () {\n      return Matter.Events.off(engine, name, callback);\n    };\n  }, [engine]);\n};\n\nWorld.useEvent = useEvent;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  SpriteProps: true,\n  SpriteContext: true,\n  useSprite: true,\n  Sprite: true\n};\nObject.defineProperty(exports, \"SpriteProps\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.SpriteProps;\n  }\n});\nObject.defineProperty(exports, \"SpriteContext\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.SpriteContext;\n  }\n});\nObject.defineProperty(exports, \"useSprite\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.useSprite;\n  }\n});\nObject.defineProperty(exports, \"Sprite\", {\n  enumerable: true,\n  get: function get() {\n    return _Sprite.Sprite;\n  }\n});\n\nvar _Animated = require(\"./Animated\");\n\nObject.keys(_Animated).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Animated[key];\n    }\n  });\n});\n\nvar _Sprite = require(\"./Sprite\");\n\nvar _Movable = require(\"./Movable\");\n\nObject.keys(_Movable).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Movable[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Sprite = exports.createSprite = exports.useSprite = exports.SpriteContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _Container = require(\"../Container\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _View = require(\"../UI/View\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar SpriteContext = (0, _react.createContext)(undefined);\nexports.SpriteContext = SpriteContext;\nSpriteContext.displayName = 'Sprite';\n\nvar useSprite = function useSprite() {\n  return (0, _react.useContext)(SpriteContext);\n}; // should only usage in `Sprite` package, DO NOT export to others.\n\n\nexports.useSprite = useSprite;\n\nvar createSprite = function createSprite(displayName, supplier, update) {\n  var Sprite = function Sprite(props, ref) {\n    var container = (0, _Container.useContainer)();\n    var sprite = (0, _hooks.useCloseable)(function () {\n      var sprite = supplier(props);\n      container.addChild(sprite);\n      (0, _View.setRef)(ref, sprite);\n      return sprite;\n    }, function (sprite) {\n      (0, _View.setRef)(ref, null);\n      container.removeChild(sprite);\n      sprite.destroy();\n    });\n    update(sprite, props);\n    var children = props.children,\n        texture = props.texture,\n        position = props.position,\n        scale = props.scale,\n        _props$anchor = props.anchor,\n        anchor = _props$anchor === void 0 ? {\n      x: 0.5,\n      y: 0.5\n    } : _props$anchor,\n        rotation = props.rotation,\n        _props$tint = props.tint,\n        tint = _props$tint === void 0 ? 0xFFFFFF : _props$tint,\n        blendMode = props.blendMode;\n    if (texture != null && texture !== sprite.texture) sprite.texture = texture;\n    if (position && position !== sprite.position) sprite.position.set(position.x, position.y);\n\n    if (scale != null) {\n      var _ref = scale instanceof Object ? scale : {\n        x: scale,\n        y: scale\n      },\n          x = _ref.x,\n          y = _ref.y;\n\n      if (x !== sprite.scale.x) sprite.scale.x = x;\n      if (y !== sprite.scale.y) sprite.scale.y = y;\n    }\n\n    if (anchor) {\n      if (anchor.x !== sprite.anchor.x) sprite.anchor.x = anchor.x;\n      if (anchor.y !== sprite.anchor.y) sprite.anchor.y = anchor.y;\n    }\n\n    if (rotation) {\n      if ('degree' in rotation && rotation.degree !== sprite.angle) sprite.angle = rotation.degree;else if ('radian' in rotation && rotation.radian !== sprite.rotation) sprite.rotation = rotation.radian;\n    }\n\n    if (tint !== sprite.tint) sprite.tint = tint;\n    if (blendMode != null && blendMode !== sprite.blendMode) sprite.blendMode = blendMode;\n    return _react.default.createElement(SpriteContext.Provider, {\n      value: sprite\n    }, children);\n  };\n\n  Sprite.displayName = displayName;\n  return (0, _react.forwardRef)(Sprite);\n};\n\nexports.createSprite = createSprite;\nvar Sprite = createSprite('Sprite', function (_ref2) {\n  var texture = _ref2.texture;\n  return new PIXI.Sprite(texture);\n}, function (_sprite, _props) {});\nexports.Sprite = Sprite;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ParticleContainer = exports.Container = exports.useContainer = exports.ContainerContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nvar _View = require(\"./UI/View\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar ContainerContext = (0, _react.createContext)(undefined);\nexports.ContainerContext = ContainerContext;\nContainerContext.displayName = 'Container';\n\nvar useContainer = function useContainer() {\n  return (0, _react.useContext)(ContainerContext);\n};\n\nexports.useContainer = useContainer;\n\nvar createContainer = function createContainer(displayName, constructor) {\n  var Container = function Container(_ref, ref) {\n    var children = _ref.children;\n    var parent = useContainer();\n    var container = (0, _hooks.useCloseable)(function () {\n      var container = new constructor();\n      parent && parent.addChild(container);\n      (0, _View.setRef)(ref, container);\n      return container;\n    }, function (container) {\n      (0, _View.setRef)(ref, null);\n      parent && parent.removeChild(container);\n      container.destroy();\n    });\n    return _react.default.createElement(ContainerContext.Provider, {\n      value: container\n    }, children);\n  };\n\n  Container.displayName = displayName;\n  return (0, _react.forwardRef)(Container);\n};\n\nvar Container = createContainer('Container', PIXI.Container);\nexports.Container = Container;\nvar ParticleContainer = createContainer('Container', PIXI.ParticleContainer);\nexports.ParticleContainer = ParticleContainer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLoader = exports.Loader = exports.LoaderContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar LoaderContext = (0, _react.createContext)(PIXI.Loader.shared);\nexports.LoaderContext = LoaderContext;\nLoaderContext.displayName = 'Loader';\n\nvar Loader = function Loader(_ref) {\n  var children = _ref.children,\n      baseUrl = _ref.baseUrl,\n      concurrency = _ref.concurrency;\n  var loader = (0, _hooks.useCloseable)(function () {\n    return new PIXI.Loader(baseUrl, concurrency);\n  });\n  if (baseUrl != null && baseUrl !== loader.baseUrl) loader.baseUrl = baseUrl;\n  if (concurrency != null && concurrency !== loader.concurrency) loader.concurrency = concurrency;\n  return _react.default.createElement(LoaderContext.Provider, {\n    value: loader\n  }, children);\n};\n\nexports.Loader = Loader;\n\nLoader.Creator = function (_ref2) {\n  var baseUrl = _ref2.baseUrl,\n      concurrency = _ref2.concurrency;\n  return (0, _react.useMemo)(function () {\n    return {\n      create: function create() {\n        return new PIXI.Loader(baseUrl, concurrency);\n      }\n    };\n  }, []);\n};\n\nvar useLoader = function useLoader() {\n  var loader = (0, _react.useContext)(LoaderContext);\n  (0, _react.useDebugValue)(loader.progress, function (progress) {\n    return \"progress: \".concat(progress);\n  });\n  return loader;\n};\n\nexports.useLoader = useLoader;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shuffle = exports.compareExtract = exports.compareReverse = exports.compareNature = void 0;\n\nvar compareNature = function compareNature() {\n  return function (l, r) {\n    return l < r ? -1 : l === r ? 0 : 1;\n  };\n};\n\nexports.compareNature = compareNature;\n\nvar compareReverse = function compareReverse() {\n  var compare = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : compareNature();\n  return function (e1, e2) {\n    return compare(e2, e1);\n  };\n};\n\nexports.compareReverse = compareReverse;\n\nvar compareExtract = function compareExtract(mapper) {\n  var compare = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : compareNature();\n  return function (target1, target2) {\n    return compare(mapper(target1), mapper(target2));\n  };\n};\n\nexports.compareExtract = compareExtract;\n\nvar shuffle = function shuffle(elements) {\n  var wrapper = elements.map(function (element) {\n    return {\n      element: element,\n      weight: Math.random()\n    };\n  });\n  wrapper.sort(compareExtract(function (_ref) {\n    var weight = _ref.weight;\n    return weight;\n  }));\n  return wrapper.map(function (_ref2) {\n    var element = _ref2.element;\n    return element;\n  });\n};\n\nexports.shuffle = shuffle;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pick = void 0;\n\nvar _operators = require(\"rxjs/operators\");\n/** rxjs extends */\n\n\nvar pick = function pick(key) {\n  return function (source) {\n    return source.pipe((0, _operators.pluck)(key), (0, _operators.filter)(function (value) {\n      return value !== undefined;\n    }));\n  };\n};\n\nexports.pick = pick;","\"use strict\";\n\nvar _classCallCheck = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _possibleConstructorReturn = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/getPrototypeOf\");\n\nvar _assertThisInitialized = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/inherits\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.MainCore = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _Core = require(\"../Core\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} // only used as type for `main` module.\n\n\nvar MainCore =\n/*#__PURE__*/\nfunction (_Core$Core) {\n  _inherits(MainCore, _Core$Core);\n\n  function MainCore(emitter, events, subject) {\n    var _this;\n\n    _classCallCheck(this, MainCore);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainCore).call(this, 'main', events, subject));\n\n    _defineProperty(_assertThisInitialized(_this), \"emitter\", void 0);\n\n    _this.emitter = emitter;\n    return _this;\n  }\n\n  return MainCore;\n}(_Core.Core);\n\nexports.MainCore = MainCore;\nvar main = new MainCore(\n/* stub! */\nundefined, {\n  emit: function emit() {\n    /* stub! */\n  },\n  // eslint-disable-line @typescript-eslint/no-unused-vars\n  fullscreen: function fullscreen() {\n    /* stub! */\n  }\n}, new _rxjs.Subject());\nvar _default = main;\nexports.default = _default;\n\nif (typeof window !== 'undefined') {\n  // eslint-disable-next-line no-undef\n  window.addEventListener('load', function () {\n    var _main$events;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (_main$events = main.events).emit.apply(_main$events, ['load'].concat(args));\n  });\n}","\"use strict\";\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Velocity = exports.velocityFn = void 0;\n\nvar _react = require(\"react\");\n\nvar _Gradient = require(\"./Gradient\");\n\nvar velocityGradientFn = function velocityGradientFn() {\n  return function (ticker, _ref, state) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        point = _ref2[0];\n\n    if (state == null) return point;\n    var deltaTime = ticker.deltaTime;\n    var vectors = state.map(function (vector) {\n      return _toConsumableArray(vector);\n    }); // deep clone\n\n    var _loop = function _loop(index) {\n      var vector = vectors[vectors.length - index];\n      var previous = vectors[vectors.length - index - 1];\n      vector.forEach(function (value, index) {\n        return previous[index] = previous[index] + value * deltaTime;\n      });\n    };\n\n    for (var index = 1; index < vectors.length; index++) {\n      _loop(index);\n    }\n\n    return vectors;\n  };\n};\n\nvar velocityFn = function velocityFn(state) {\n  var deps = state.map(function (vector) {\n    return vector.join(',');\n  });\n  var pointsFn = (0, _react.useCallback)(function () {\n    return [state];\n  }, deps);\n  var gradientFn = (0, _react.useCallback)(velocityGradientFn(), deps);\n  return [pointsFn, gradientFn];\n};\n\nexports.velocityFn = velocityFn;\n\nvar Velocity = function Velocity(_ref3) {\n  var children = _ref3.children,\n      state = _ref3.state;\n  var pipe = (0, _Gradient.useGradient).apply(void 0, _toConsumableArray(velocityFn(state)));\n  return children(pipe);\n};\n\nexports.Velocity = Velocity;\nVelocity.displayName = 'Gradient.Velocity';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"fromResize\", {\n  enumerable: true,\n  get: function get() {\n    return _resize.fromResize;\n  }\n});\nexports.UI = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _operators = require(\"rxjs/operators\");\n\nrequire(\"./index.css\");\n\nvar _resize = require(\"./resize\");\n\nvar _Renderer = require(\"../Renderer\");\n\nvar _Ticker = require(\"../Ticker\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar styleOf = function styleOf(renderer) {\n  var scaleMode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var _renderer$view = renderer.view,\n      clientWidth = _renderer$view.clientWidth,\n      clientHeight = _renderer$view.clientHeight,\n      offsetLeft = _renderer$view.offsetLeft,\n      offsetTop = _renderer$view.offsetTop;\n  if (!scaleMode) return {\n    width: clientWidth,\n    height: clientHeight,\n    left: offsetLeft,\n    top: offsetTop\n  };\n  var width = renderer.width,\n      height = renderer.height;\n  return {\n    width: width,\n    height: height,\n    transform: \"scale(\".concat(clientWidth / width, \", \").concat(clientHeight / height, \")\"),\n    left: (clientWidth - width) / 2 + offsetLeft,\n    top: (clientHeight - height) / 2 + offsetTop\n  };\n};\n\nvar UI = function UI(_ref) {\n  var id = _ref.id,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className,\n      outerStyle = _ref.style,\n      children = _ref.children,\n      scaleMode = _ref.scaleMode;\n  var renderer = (0, _Renderer.useRenderer)();\n  var styleEvent = (0, _react.useMemo)(function () {\n    return (0, _resize.fromResize)(renderer.view).pipe((0, _operators.debounceTime)(100)).pipe((0, _operators.map)(function (_) {\n      return styleOf(renderer, scaleMode);\n    }));\n  }, []);\n  var builtinStyle = (0, _Ticker.useSubscribe)(styleEvent, (0, _react.useMemo)(function () {\n    return styleOf(renderer, scaleMode);\n  }, []));\n  var style = (0, _react.useMemo)(function () {\n    return _objectSpread({}, outerStyle, {}, builtinStyle);\n  }, [outerStyle, builtinStyle]);\n  return _react.default.createElement(\"div\", {\n    id: id,\n    className: \"\".concat(className && \"\".concat(className, \" \"), \"UI\"),\n    style: style\n  }, children);\n};\n\nexports.UI = UI;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeResource = exports.Resource = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"../hooks\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n} //#region fix fuck type\n\n\nvar Resource = PIXI.LoaderResource;\nexports.Resource = Resource;\nvar Polygon = PIXI.Polygon; //#endregion\n\nvar makeResource = {\n  maker: undefined,\n  draw: function draw(object) {\n    var close = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _hooks.defaultClose;\n\n    if (this.maker == null) {\n      this.maker = new PIXI.Renderer({\n        width: 0,\n        height: 0,\n        transparent: true\n      });\n      console.warn('[Furegame]: used `makeResource` to generate temporary resources, not recommand for production envriroments.'); // eslint-disable-line no-console\n    }\n\n    var maker = this.maker; // lazy init the maker once it was used.\n\n    var _object$getBounds = object.getBounds(),\n        width = _object$getBounds.width,\n        height = _object$getBounds.height; // renderer the object\n\n\n    maker.view.width = width;\n    maker.view.height = height;\n    maker.render(object); // generate texture\n\n    var image = new Image();\n    image.src = maker.view.toDataURL();\n    var texture = new PIXI.Texture(new PIXI.BaseTexture(image)); // clean the renderer\n\n    maker.clear();\n    maker.view.width = 0;\n    maker.view.height = 0;\n    close(object);\n    return function (id, loader) {\n      if (id) {\n        if (loader) {\n          var resource = new Resource(id, \"#\".concat(id));\n          loader.resources[id] = resource;\n          resource.texture = texture;\n        }\n\n        PIXI.Texture.addToCache(texture, id);\n      }\n\n      return texture;\n    };\n  },\n  shape: function shape() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        fill = _ref.fill,\n        line = _ref.line;\n\n    var border = line && line.width ? 2 * line.width : 0;\n    return {\n      draw: function draw(shape) {\n        var graphics = new PIXI.Graphics();\n        fill ? graphics.beginFill(fill.color, fill.alpha) : graphics.beginFill(0x000000);\n        line && graphics.lineStyle(line.width, line.color, line.alpha);\n\n        if (shape instanceof Function) {\n          shape(graphics);\n        } else {\n          graphics.drawShape(shape);\n        }\n\n        return makeResource.draw(graphics);\n      },\n      circle: function circle(radius) {\n        return this.draw(new PIXI.Circle(border + radius, border + radius, radius));\n      },\n      ellipse: function ellipse(width, height) {\n        return this.draw(new PIXI.Ellipse(border + width, border + height, width, height));\n      },\n      polygon: function polygon(points) {\n        return this.draw(new Polygon(points));\n      },\n      rectangle: function rectangle(width, height) {\n        return this.draw(new PIXI.Rectangle(border, border, width, height));\n      },\n      roundedRectangle: function roundedRectangle(width, height, radius) {\n        return this.draw(new PIXI.RoundedRectangle(border, border, width, height, radius));\n      },\n      triangle: function triangle(width, height, sharp) {\n        return this.draw(new Polygon([border + sharp, border, border, border + height, border + width, border + height]));\n      },\n      star: function star(points, radius, innerRadius, rotation) {\n        return this.draw(function (graphics) {\n          return graphics.drawStar(border + radius, border + radius, points, radius, innerRadius, rotation);\n        });\n      }\n    };\n  },\n  text: function text(value, style) {\n    return makeResource.draw(new PIXI.Text(value, style));\n  }\n};\nexports.makeResource = makeResource;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useStage = exports.Stage = exports.StageContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _Container = require(\"./Container\");\n\nvar _hooks = require(\"./hooks\");\n\nvar _Renderer = require(\"./Renderer\");\n\nvar _Ticker = require(\"./Ticker\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar StageContext = _Container.ContainerContext; // `Stage` is just alias of `Container`\n\nexports.StageContext = StageContext;\n\nvar Stage = function Stage(_ref) {\n  var children = _ref.children;\n  var container = (0, _hooks.useCloseable)(function () {\n    return new PIXI.Container();\n  });\n  return _react.default.createElement(StageContext.Provider, {\n    value: container\n  }, children);\n};\n\nexports.Stage = Stage;\nvar useStage = _Container.useContainer;\n/** `LazyRefresh` would refresh the `stage` only if the node was re-rendered. */\n\nexports.useStage = useStage;\n\nStage.LazyRefresh = function () {\n  var stage = useStage();\n  var renderer = (0, _Renderer.useRenderer)();\n  var ticker = (0, _Ticker.useTicker)();\n  var subRef = (0, _react.useRef)(null);\n  subRef.current = ticker.once(function () {\n    return renderer.render(stage);\n  });\n  (0, _react.useEffect)(function () {\n    return function () {\n      subRef.current && subRef.current.unsubscribe();\n    };\n  }, []);\n  return null;\n};\n\nStage.LazyRefresh.displayName = 'Stage.LazyRefresh'; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n/** `TickRefresh` would refresh the `stage` each time the ticker frame updated. */\n\nStage.TickRefresh = function () {\n  var stage = useStage();\n  var renderer = (0, _Renderer.useRenderer)();\n  var ticker = (0, _Ticker.useTicker)();\n  (0, _react.useEffect)(function () {\n    var sub = ticker.each(function () {\n      return renderer.render(stage);\n    });\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, []);\n  return null;\n};\n\nStage.TickRefresh.displayName = 'Stage.TickRefresh'; // eslint-disable-line @typescript-eslint/no-explicit-any","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Gradient = void 0;\n\nvar Gradient = _interopRequireWildcard(require(\"./Gradient\"));\n\nexports.Gradient = Gradient;\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}","\"use strict\";\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _console;\n\nvar _package = _interopRequireDefault(require(\"../package.json\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/** `..` path imported from `.ts` would broken the output dir structure */\n\n\nvar pkgInfo = [\"%c\".concat(\"Furegame \".concat(_package.default.version), \"%c\"), \"%c\".concat(_package.default.author, \"%c\"), '\\n', \"%c\".concat(_package.default.license, \"%c\"), \"%c\".concat(_package.default.homepage, \"%c\"), '\\n'].join('');\nvar padding = 'padding: 0.2em 0.5em;';\nvar style = [\"background: #6cf; color: #fff; \".concat(padding), ''].concat([\"color: #6cc; \".concat(padding), ''], [], [\"background: #e00; color: #9ff; \".concat(padding), ''], [\"\".concat(padding), ''], []);\nif (typeof window === 'undefined') console.info(pkgInfo.replace(/%c/g, ' * ')); // eslint-disable-line no-console\nelse (_console = console).info.apply(_console, [pkgInfo].concat(_toConsumableArray(style))); // eslint-disable-line no-console","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _compare = require(\"./compare\");\n\nObject.keys(_compare).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _compare[key];\n    }\n  });\n});\n\nvar _TreeSet = require(\"./TreeSet\");\n\nObject.keys(_TreeSet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _TreeSet[key];\n    }\n  });\n});","\"use strict\";\n\nvar _classCallCheck = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TreeSet = exports.binarySearch = void 0;\n\nvar _compare = require(\"./compare\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar binarySearch = function binarySearch(comparator, elements, target) {\n  var left = 0;\n  var right = elements.length - 1;\n\n  while (left <= right) {\n    var middle = left + right >> 1;\n    var cmp = comparator(elements[middle], target);\n\n    if (cmp < 0) {\n      left = middle + 1;\n    } else if (cmp > 0) {\n      right = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  return left;\n};\n\nexports.binarySearch = binarySearch;\n\nvar TreeSet =\n/*#__PURE__*/\nfunction () {\n  function TreeSet() {\n    var comparator = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _compare.compareNature)();\n    var elements = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, TreeSet);\n\n    _defineProperty(this, \"elements\", []);\n\n    _defineProperty(this, \"comparator\", void 0);\n\n    this.comparator = comparator;\n    elements && this.pushAll(elements);\n  }\n\n  _createClass(TreeSet, [{\n    key: \"top\",\n\n    /**\r\n     * get and remove the head element\r\n     */\n    value: function top() {\n      if (this.isEmpty) return undefined;\n      return this.elements.splice(0, 1)[0];\n    }\n    /**\r\n     * get and remove the last element\r\n     */\n\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      if (this.isEmpty) return undefined;\n      return this.elements.splice(this.size - 1, 1)[0];\n    }\n  }, {\n    key: \"push\",\n    value: function push(element) {\n      var index = binarySearch(this.comparator, this.elements, element);\n      this.elements.splice(index, 0, element);\n    }\n  }, {\n    key: \"pushAll\",\n    value: function pushAll(elements) {\n      var _this = this;\n\n      elements.forEach(function (element) {\n        return _this.push(element);\n      });\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.elements.length;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      return this.elements.length === 0;\n    }\n  }, {\n    key: \"head\",\n    get: function get() {\n      return this.elements[0];\n    }\n  }, {\n    key: \"last\",\n    get: function get() {\n      return this.elements[this.size - 1];\n    }\n  }]);\n\n  return TreeSet;\n}();\n\nexports.TreeSet = TreeSet;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _events = require(\"events\");\n\nvar _ = require(\".\");\n/* INNER INTERFACE, ONLY USED BY MAIN, NEVER EXPORT TO VIEW */\n\n\nvar emitter = new _events.EventEmitter();\n\nvar _default = new _.MainCore(emitter, {\n  emit: function emit() {\n    emitter.emit.apply(emitter, arguments);\n  },\n  fullscreen: function fullscreen() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    this.emit.apply(this, ['fullscreen'].concat(args));\n  }\n}, new _rxjs.Subject());\n\nexports.default = _default;","\"use strict\";\n\nvar _classCallCheck = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Ticker = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _Core = require(\"./Core\");\n\nvar _rx = require(\"./rx\");\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar requestTimer = typeof window === 'undefined' ? function () {\n  var start = new Date().getTime();\n  return function (cb) {\n    return setTimeout(function () {\n      return cb(new Date().getTime() - start);\n    }, 1000 / 60);\n  };\n}() : function () {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var g = window; // eslint-disable-line no-undef\n  // if ((g.performance && g.performance.now) instanceof Function) {\n  //   return cb => g.requestAnimationFrame(() => cb(g.performance.now()));\n  // }\n\n  return g.requestAnimationFrame;\n}();\n\nvar Ticker =\n/*#__PURE__*/\nfunction () {\n  _createClass(Ticker, [{\n    key: \"each\",\n    // execute `fn` each tick.\n    value: function each(fn) {\n      this._running || this.autoStart && this.start();\n      return this.pipe().subscribe(fn);\n    } // execute `fn` once at next tick.\n\n  }, {\n    key: \"once\",\n    value: function once(fn) {\n      this._running || this.autoStart && this.start();\n      return this.pipe((0, _operators.take)(1)).subscribe(fn);\n    }\n  }, {\n    key: \"start\",\n    //#endregion\n    //#region controller\n    // start ticker\n    value: function start() {\n      return this.core.events.start();\n    } // pause ticker\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      return this.core.events.pause();\n    } //#endregion\n\n    /**\r\n     * Ticker.\r\n     * if you create a new `Ticker`, then in most time you shoud registered it into `main` app by `pipeCore`.\r\n     * @param id .\r\n     * @param autoStart if `true` it would invoke `start()` automatically when `each`, `once` was called.\r\n     * @param syncPeriod default is `100`, it will sync timer betweenn browser and back-end each `syncPeriod` millisecond.\r\n     */\n\n  }, {\n    key: \"now\",\n    //#region timer\n    get: function get() {\n      return this.time.now + this.time.offset;\n    }\n    /** now - pauseTime */\n\n  }, {\n    key: \"runTime\",\n    get: function get() {\n      return this.time.run;\n    }\n    /** now - lastTime, `0` if ticker not running. */\n\n  }, {\n    key: \"deltaTime\",\n    get: function get() {\n      return this.time.delta;\n    }\n  }, {\n    key: \"FPS\",\n    get: function get() {\n      if (!this.time.delta) return 0;\n      return 1000 / this.time.delta;\n    }\n  }, {\n    key: \"running\",\n    get: function get() {\n      return this._running;\n    }\n  }]);\n\n  function Ticker(id) {\n    var _this = this;\n\n    var autoStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var syncPeriod = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n\n    _classCallCheck(this, Ticker);\n\n    _defineProperty(this, \"id\", void 0);\n\n    _defineProperty(this, \"time\", {\n      now: 0,\n      offset: 0,\n      run: 0,\n      delta: 0\n    });\n\n    _defineProperty(this, \"autoStart\", void 0);\n\n    _defineProperty(this, \"pipe\", void 0);\n\n    _defineProperty(this, \"_running\", false);\n\n    _defineProperty(this, \"core\", void 0);\n\n    this.id = id;\n    this.autoStart = autoStart; //#region init core\n\n    var core = function () {\n      var subject = new _rxjs.Subject();\n      var events = {\n        start: function start() {\n          return subject.next({\n            running: true\n          });\n        },\n        pause: function pause() {\n          return subject.next({\n            running: false\n          });\n        },\n        sync: function sync(offset) {\n          return subject.next({\n            time: {\n              offset: offset\n            }\n          });\n        }\n      };\n      return new _Core.Core(\"_FURE_CORE_TICKER-\".concat(id), events, subject);\n    }();\n\n    this.core = core; //#endregion\n    //#region init timer\n\n    var timer = new _rxjs.Subject();\n\n    var render = function render(now) {\n      var delta = now - _this.time.now;\n      _this.time.now = now;\n      _this.time.delta = 0;\n      if (!_this._running) return;\n      requestTimer(render);\n\n      if (render.skipOnBack) {\n        render.skipOnBack = false; // eslint-disable-next-line no-console\n\n        console.info(\"timer#\".concat(id, \" skipped a frame about \").concat(delta, \"ms because the window has hide.\"));\n        return;\n      }\n\n      if (delta <= 0 || delta > 1000) return;\n      _this.time.delta = delta;\n      _this.time.run += delta;\n      timer.next(delta);\n    };\n\n    core.pipe((0, _rx.pick)('running')).subscribe(function (running) {\n      _this._running = running;\n      running && requestTimer(render);\n    });\n    this.pipe = timer.pipe.bind(timer); //#endregion\n    //#region sync ticker\n    // backend.now == browser.now == browser.time.now + browser.time.offset\n\n    if (typeof window === 'undefined') {\n      syncPeriod > 0 && timer.pipe((0, _operators.throttleTime)(syncPeriod, _rxjs.asyncScheduler, {\n        leading: true,\n        trailing: false\n      })).subscribe(function (_delta) {\n        return core.events.sync(new Date().getTime() - _this.time.now);\n      });\n    } else {\n      core.pipe((0, _rx.pick)('time')).subscribe(function (_ref) {\n        var offset = _ref.offset;\n        return _this.time.offset = new Date().getTime() - _this.time.now - offset;\n      }); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      var g = window; // eslint-disable-line no-undef\n      // listen visibility change event to skip the first frame after the window changed.\n\n      (0, _rxjs.fromEvent)(g, 'visibilitychange').pipe((0, _operators.filter)(function () {\n        return g.document.visibilityState === 'visible';\n      })).subscribe(function (_visibile) {\n        return render.skipOnBack = true;\n      });\n      render.skipOnBack = false;\n    } //#endregion\n\n  }\n\n  return Ticker;\n}();\n\nexports.Ticker = Ticker;\n\n_defineProperty(Ticker, \"shared\", new Ticker('shared', true));","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useSubscribe = exports.Subscribe = void 0;\n\nvar _react = require(\"react\");\n\nvar Subscribe = function Subscribe(_ref) {\n  var source = _ref.source,\n      update = _ref.update;\n  (0, _react.useEffect)(function () {\n    var sub = (source instanceof Function ? source() : source).subscribe(update);\n    return function () {\n      return sub.unsubscribe();\n    };\n  }, [source]);\n  return null;\n};\n\nexports.Subscribe = Subscribe;\n\nvar useSubscribe = function useSubscribe(source, init) {\n  var deps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  var _ref2 = (0, _react.useState)(init),\n      _ref3 = _slicedToArray(_ref2, 2),\n      snapshot = _ref3[0],\n      setSnapshot = _ref3[1];\n\n  (0, _react.useEffect)(function () {\n    var subcription = (source instanceof Function ? source() : source).subscribe(setSnapshot);\n    return function () {\n      return subcription.unsubscribe();\n    };\n  }, deps);\n  (0, _react.useDebugValue)(snapshot, JSON.stringify);\n  return snapshot;\n};\n\nexports.useSubscribe = useSubscribe;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Simple = exports.simpleFn = void 0;\n\nvar _react = require(\"react\");\n\nvar _Gradient = require(\"./Gradient\");\n\nvar simplePointsFn = function simplePointsFn(state) {\n  return function (ticker, points) {\n    return [{\n      state: state,\n      time: ticker.now\n    }].concat(_toConsumableArray(points.slice(0, 1)));\n  };\n};\n\nvar simpleGradientFn = function simpleGradientFn() {\n  return function (ticker, _ref, state) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        point0 = _ref2[0],\n        point1 = _ref2[1];\n\n    if (point1 == null) return 0;\n    if (state === point0.state) return point0.state;\n    var remain = point0.time - point1.time - (ticker.now - point0.time);\n    var interp = state + (point0.state - state) / remain * ticker.deltaTime;\n    return Math.max(state, Math.min(interp, point0.state));\n  };\n};\n\nvar simpleFn = function simpleFn(state) {\n  var pointsFn = (0, _react.useCallback)(simplePointsFn(state), [state]);\n  var gradientFn = (0, _react.useCallback)(simpleGradientFn(), []);\n  return [pointsFn, gradientFn];\n};\n\nexports.simpleFn = simpleFn;\n\nvar Simple = function Simple(_ref3) {\n  var children = _ref3.children,\n      state = _ref3.state;\n  var pipe = (0, _Gradient.useGradient).apply(void 0, _toConsumableArray(simpleFn(state)));\n  return children(pipe);\n};\n\nexports.Simple = Simple;\nSimple.displayName = 'Gradient.Simple';","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Circular = void 0;\n\nvar _react = require(\"react\");\n\nvar _Velocity = require(\"./Velocity\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar Circular = function Circular(_ref) {\n  var children = _ref.children,\n      state = _ref.state;\n  var position = state.position,\n      rotate = state.rotate,\n      frames = state.frames,\n      distance = state.distance,\n      direction = state.direction;\n  var velocityState = (0, _react.useMemo)(function () {\n    return [[0, rotate, frames, distance, direction].concat(_toConsumableArray(position)), [rotate / frames]];\n  }, [rotate, frames, distance, direction].concat(_toConsumableArray(position)));\n\n  var decorate = function decorate(children) {\n    return function (pipe) {\n      var obs = pipe((0, _operators.map)(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 1),\n            _ref3$ = _slicedToArray(_ref3[0], 7),\n            offset = _ref3$[0],\n            rotate = _ref3$[1],\n            frames = _ref3$[2],\n            distance = _ref3$[3],\n            direction = _ref3$[4],\n            positionX = _ref3$[5],\n            positionY = _ref3$[6];\n\n        var halfRotate = rotate / 2;\n        var velocity = distance / Math.sin(halfRotate) / 2;\n        var initial = direction - halfRotate;\n        var x = positionX + velocity * (Math.cos(initial) * Math.sin(offset) + Math.sin(initial) * Math.cos(offset) - Math.sin(initial));\n        var y = positionY + velocity * (Math.sin(initial) * Math.sin(offset) - Math.cos(initial) * Math.cos(offset) + Math.cos(initial));\n        var angle = initial + offset;\n        return {\n          x: x,\n          y: y,\n          angle: angle,\n          rotate: rotate,\n          frames: frames,\n          distance: distance,\n          direction: direction,\n          position: position\n        };\n      }));\n      return children(obs.pipe.bind(obs));\n    };\n  };\n\n  return (0, _Velocity.Velocity)({\n    state: velocityState,\n    children: decorate(children)\n  });\n};\n\nexports.Circular = Circular;\nCircular.displayName = 'Gradient.Circular';","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  Matter: true\n};\nexports.Matter = void 0;\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nexports.Matter = Matter;\n\nvar _Composite = require(\"./Composite\");\n\nObject.keys(_Composite).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Composite[key];\n    }\n  });\n});\n\nvar _Constraint = require(\"./Constraint\");\n\nObject.keys(_Constraint).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Constraint[key];\n    }\n  });\n});\n\nvar _Body = require(\"./Body\");\n\nObject.keys(_Body).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Body[key];\n    }\n  });\n});\n\nvar _World = require(\"./World\");\n\nObject.keys(_World).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _World[key];\n    }\n  });\n});\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}","\"use strict\";\n\nvar _regeneratorRuntime = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nvar _asyncToGenerator = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/asyncToGenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Constraint = void 0;\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _World = require(\"./World\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _react = require(\"react\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar Constraint = function Constraint(props) {\n  var world = (0, _World.useWorld)();\n  (0, _hooks.useCloseableAsync)(\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2(closeRef) {\n      var options, tasks, constraint;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              options = {};\n              tasks = Object.entries(props).map(\n              /*#__PURE__*/\n              function () {\n                var _ref3 = _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee(_ref2) {\n                  var _ref4, key, promise;\n\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _ref4 = _slicedToArray(_ref2, 2), key = _ref4[0], promise = _ref4[1];\n\n                          if (!(promise == null)) {\n                            _context.next = 3;\n                            break;\n                          }\n\n                          return _context.abrupt(\"return\");\n\n                        case 3:\n                          _context.next = 5;\n                          return promise;\n\n                        case 5:\n                          options[key] = _context.sent;\n\n                        case 6:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n              _context2.next = 4;\n              return Promise.all(tasks);\n\n            case 4:\n              constraint = Matter.Constraint.create(options);\n              closeRef.current || Matter.World.add(world, constraint);\n              return _context2.abrupt(\"return\", constraint);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), function (constraint) {\n    return Matter.World.remove(world, constraint);\n  });\n  return null;\n};\n\nexports.Constraint = Constraint;\n\nConstraint.useRefs = function (keys) {\n  var promiseRefs = (0, _react.useMemo)(function () {\n    var newPromiseRef = function newPromiseRef() {\n      var value = null;\n      var setValue;\n      var promise = new Promise(function (resolve) {\n        return setValue = resolve;\n      });\n      return {\n        set current(instance) {\n          value = instance;\n          instance == null || setValue(instance);\n        },\n\n        get current() {\n          return value;\n        },\n\n        then: promise.then.bind(promise)\n      };\n    };\n\n    return keys.reduce(function (acc, key) {\n      acc[key] = newPromiseRef(); // eslint-disable-line @typescript-eslint/no-explicit-any\n\n      return acc;\n    }, {});\n  }, []);\n  return promiseRefs;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mouse = void 0;\n\nvar _react = require(\"react\");\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nvar _World = require(\"./World\");\n\nvar _Renderer = require(\"../Renderer\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar eventNames = ['mousedown', 'mousemove', 'enddrag', 'mouseup'];\n\nvar Mouse = function Mouse(_ref) {\n  var _ref$events = _ref.events,\n      events = _ref$events === void 0 ? {} : _ref$events;\n  var renderer = (0, _Renderer.useRenderer)();\n  var engine = (0, _World.useEngine)();\n  var mouseConstraint = (0, _react.useMemo)(function () {\n    var mouse = Matter.Mouse.create(renderer.view);\n    engine.render && (engine.render.mouse = mouse); // eslint-disable-line @typescript-eslint/no-explicit-any\n\n    var constraint = {\n      stiffness: 0.2,\n      render: {\n        visible: false\n      }\n    }; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n    return Matter.MouseConstraint.create(engine, {\n      mouse: mouse,\n      constraint: constraint\n    });\n  }, []);\n  (0, _react.useEffect)(function () {\n    Matter.World.add(engine.world, mouseConstraint.constraint);\n    return function () {\n      Matter.World.remove(engine.world, mouseConstraint.constraint);\n    };\n  }, [engine]);\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(mouseConstraint, name, callback);\n      return function () {\n        return Matter.Events.off(mouseConstraint, name, callback);\n      };\n    }, [events[name]]);\n  });\n  return null;\n};\n\nexports.Mouse = Mouse;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fromResize = void 0;\n\nvar _rxjs = require(\"rxjs\");\n\nvar fromResize = function fromResize(element) {\n  var ResizeObserver = window.ResizeObserver; // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  if (typeof ResizeObserver === 'undefined') {\n    return (0, _rxjs.fromEvent)(window, 'resize');\n  }\n\n  var observer;\n  return (0, _rxjs.fromEventPattern)(function (handler) {\n    observer = new ResizeObserver(handler);\n    observer.observe(element);\n  }, function (_handler) {\n    observer.unobserve(element);\n  });\n};\n\nexports.fromResize = fromResize;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Body = void 0;\n\nvar _react = require(\"react\");\n\nvar Matter = _interopRequireWildcard(require(\"matter-js\"));\n\nrequire(\"./set-poly-decomp\");\n\nvar _Sprite = require(\"../Sprite\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _View = require(\"../UI/View\");\n\nvar _Composite = require(\"./Composite\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n} // `Matter.Bodies.fromVertices` dependence `poly-decomp` to decomposed concave vertices.\n\n\nvar eventNames = ['sleepStart', 'sleepEnd'];\n\nvar BodyComponent = function BodyComponent(_ref, ref) {\n  var useBody = _ref.useBody,\n      _ref$events = _ref.events,\n      events = _ref$events === void 0 ? {} : _ref$events,\n      isSleeping = _ref.isSleeping,\n      isStatic = _ref.isStatic,\n      isSensor = _ref.isSensor;\n  var body = useBody();\n  var composite = (0, _Composite.useComposite)();\n  (0, _react.useEffect)(function () {\n    Matter.Composite.add(composite, body);\n    (0, _View.setRef)(ref, body);\n    return function () {\n      Matter.Composite.remove(composite, body);\n    };\n  }, []);\n  if (isSleeping != null && isSleeping != body.isSleeping) Matter.Sleeping.set(body, isSleeping);\n  if (isStatic != null && isStatic != body.isStatic) Matter.Body.setStatic(body, isStatic);\n  if (isSensor != null && isSensor != body.isSensor) body.isSensor = isSensor;\n  eventNames.forEach(function (name) {\n    return (0, _react.useEffect)(function () {\n      var callback = events[name];\n      if (callback == null) return;\n      Matter.Events.on(body, name, callback);\n      return function () {\n        return Matter.Events.off(body, name, callback);\n      };\n    }, [events[name]]);\n  });\n  return null;\n};\n\nBodyComponent.displayName = 'Body';\n\nvar SpriteBody = function SpriteBody(newBody) {\n  return {\n    useBody: function useBody() {\n      var sprite = (0, _Sprite.useSprite)();\n      var body = (0, _react.useMemo)(function () {\n        if (sprite == null) throw new Error('`Sprite` context not found for create `Physics.Body`');\n        return newBody(sprite);\n      }, [sprite]);\n      var ticker = (0, _Ticker.useTicker)();\n      (0, _react.useEffect)(function () {\n        if (body.isStatic) return;\n        Matter.Body.setVelocity(body, body.velocity);\n        var sub = ticker.each(function (_delta) {\n          // if (body.id === 100) console.log(body.velocity);\n          sprite.rotation = body.angle;\n          sprite.position.x = body.position.x;\n          sprite.position.y = body.position.y;\n        });\n        return function () {\n          return sub.unsubscribe();\n        };\n      }, [body.isStatic]);\n      return body;\n    }\n  };\n}; // eslint-disable-next-line @typescript-eslint/no-empty-interface\n\n\nvar SpriteCircle = function SpriteCircle(options) {\n  return SpriteBody(function (_ref2) {\n    var x = _ref2.x,\n        y = _ref2.y,\n        width = _ref2.width;\n    return Matter.Bodies.circle(x, y, width / 2, options);\n  });\n};\n\nvar SpriteRectangle = function SpriteRectangle(options) {\n  return SpriteBody(function (_ref3) {\n    var x = _ref3.x,\n        y = _ref3.y,\n        width = _ref3.width,\n        height = _ref3.height;\n    return Matter.Bodies.rectangle(x, y, width, height, options);\n  });\n};\n\nvar SpritePath = function SpritePath(points, options) {\n  var newBody = function newBody(sprite) {\n    var vertices = [points(sprite).map(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          x = _ref5[0],\n          y = _ref5[1];\n\n      return Matter.Vector.create(x, y);\n    })];\n    return Matter.Bodies.fromVertices(sprite.x, sprite.y, vertices, options);\n  };\n\n  return SpriteBody(newBody);\n};\n\nvar SpriteTriangle = function SpriteTriangle(options) {\n  return SpritePath(function (_ref6) {\n    var width = _ref6.width,\n        height = _ref6.height;\n    return [[width / 2, 0], [0, height], [width, height]];\n  }, options);\n};\n\nvar Body = (0, _react.forwardRef)(BodyComponent);\nexports.Body = Body;\nBody.Sprite = SpriteBody;\nBody.SpriteCircle = SpriteCircle;\nBody.SpriteRectangle = SpriteRectangle;\nBody.SpritePath = SpritePath;\nBody.SpriteTriangle = SpriteTriangle;\nBody.nextCategory = Matter.Body.nextCategory;\nBody.nextGroup = Matter.Body.nextGroup;","\"use strict\";\n\nvar _polyDecomp = _interopRequireDefault(require(\"poly-decomp\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nwindow.decomp = _polyDecomp.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AnimatedSprite = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _Sprite = require(\"./Sprite\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar AnimatedSprite = (0, _Sprite.createSprite)('AnimatedSprite', function (_ref) {\n  var textures = _ref.textures,\n      autoUpdate = _ref.autoUpdate;\n  return new PIXI.AnimatedSprite(textures, autoUpdate);\n}, function (sprite, _ref2) {\n  var textures = _ref2.textures,\n      _ref2$playing = _ref2.playing,\n      playing = _ref2$playing === void 0 ? true : _ref2$playing,\n      _ref2$loop = _ref2.loop,\n      loop = _ref2$loop === void 0 ? true : _ref2$loop,\n      _ref2$animationSpeed = _ref2.animationSpeed,\n      animationSpeed = _ref2$animationSpeed === void 0 ? 1 : _ref2$animationSpeed;\n  if (textures !== sprite.textures) sprite.textures = textures;\n  if (playing !== sprite.playing) playing ? sprite.play() : sprite.stop();\n  if (loop !== sprite.loop) sprite.loop = loop;\n  if (animationSpeed !== sprite.animationSpeed) sprite.animationSpeed = animationSpeed;\n});\nexports.AnimatedSprite = AnimatedSprite;","\"use strict\";\n\nvar _toConsumableArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MovableSprite = exports.FreeMoveSprite = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _ = require(\".\");\n\nvar _Ticker = require(\"../Ticker\");\n\nvar _Sprite = require(\"./Sprite\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar FreeMoveSprite = function FreeMoveSprite(_ref) {\n  var textures = _ref.textures,\n      source = _ref.source,\n      children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"textures\", \"source\", \"children\"]);\n\n  return _react.default.createElement(_.AnimatedSprite, _extends({}, props, {\n    textures: textures\n  }), children, _react.default.createElement(_Sprite.SpriteContext.Consumer, null, function (sprite) {\n    return sprite instanceof PIXI.AnimatedSprite && _react.default.createElement(_Ticker.Subscribe, {\n      source: source,\n      update: function update(_ref3) {\n        var position = _ref3.position,\n            rotation = _ref3.rotation;\n        sprite.position.x = position.x;\n        sprite.position.y = position.y;\n        if ('degree' in rotation && rotation.degree !== sprite.angle) sprite.angle = rotation.degree;else if ('radian' in rotation && rotation.radian !== sprite.rotation) sprite.rotation = rotation.radian;\n      }\n    });\n  }));\n}; //#endregion\n//#region limited direction move\n\n\nexports.FreeMoveSprite = FreeMoveSprite;\n\nvar MovableSprite = function MovableSprite(_ref2) {\n  var animId = _ref2.animId,\n      textures = _ref2.textures,\n      source = _ref2.source,\n      children = _ref2.children,\n      props = _objectWithoutProperties(_ref2, [\"animId\", \"textures\", \"source\", \"children\"]);\n\n  var id = animId instanceof Function ? animId(0, 0) : animId;\n  return _react.default.createElement(_.AnimatedSprite, _extends({}, props, {\n    textures: id === undefined ? textures : textures[id]\n  }), children, _react.default.createElement(_Sprite.SpriteContext.Consumer, null, function (sprite) {\n    return sprite instanceof PIXI.AnimatedSprite && _react.default.createElement(_Ticker.Subscribe, {\n      source: source,\n      update: function update(_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            _ref5$ = _slicedToArray(_ref5[0], 2),\n            x = _ref5$[0],\n            y = _ref5$[1],\n            velocity = _ref5[1];\n\n        sprite.position.x = x;\n        sprite.position.y = y;\n        var id = animId instanceof Function ? animId.apply(void 0, _toConsumableArray(velocity)) : animId;\n        if (id === undefined || textures[id] === sprite.textures) return;\n        var playing = sprite.playing;\n        sprite.textures = textures[id];\n        playing && sprite.play();\n      }\n    });\n  }));\n};\n\nexports.MovableSprite = MovableSprite;\nMovableSprite.UDLR = {\n  animId: function animId(vx, vy) {\n    return vx === 0 ? vy === 0 ? 'idle' : vy < 0 ? 'up' : 'down' : vx < 0 ? 'left' : 'right';\n  }\n};\n\nMovableSprite.toUDLR = function (textures) {\n  var eachSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  return {\n    idle: textures.slice(0, eachSize),\n    up: textures.slice(1 * eachSize, 2 * eachSize),\n    down: textures.slice(2 * eachSize, 3 * eachSize),\n    left: textures.slice(3 * eachSize, 4 * eachSize),\n    right: textures.slice(4 * eachSize, 5 * eachSize)\n  };\n}; //#endregion","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  Texture: true,\n  BLEND_MODES: true\n};\nObject.defineProperty(exports, \"Texture\", {\n  enumerable: true,\n  get: function get() {\n    return _pixi.Texture;\n  }\n});\nObject.defineProperty(exports, \"BLEND_MODES\", {\n  enumerable: true,\n  get: function get() {\n    return _pixi.BLEND_MODES;\n  }\n});\n\nvar _pixi = require(\"pixi.js\");\n\nvar _make = require(\"./make\");\n\nObject.keys(_make).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _make[key];\n    }\n  });\n});\n\nvar _THColors = require(\"./THColors\");\n\nObject.keys(_THColors).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _THColors[key];\n    }\n  });\n});\n\nvar _use = require(\"./use\");\n\nObject.keys(_use).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _use[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.THColors = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar newColor = function newColor(value, data) {\n  var color = value.toString(16);\n  if (value > 0xFFFFFFFF) throw new Error(\"color value overflow: \".concat(color));\n  var A = value & 0xFF;\n  var rgb = value >>> 8;\n  var B = rgb & 0xFF;\n  var rg = rgb >>> 8;\n  var G = rg & 0xFF;\n  var R = rg >>> 8;\n  var image = new Image();\n  image.src = data;\n  var texture = new PIXI.Texture(new PIXI.BaseTexture(image));\n  return {\n    value: value,\n    data: data,\n    hex: \"#\".concat(value.toString(16)),\n    rgb: rgb,\n    alpha: A,\n    rgba: {\n      R: R,\n      G: G,\n      B: B,\n      A: A\n    },\n    image: image,\n    texture: texture\n  };\n};\n\nvar THColors = {\n  /** red */\n  Reimu: newColor(0xCB1B45ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2M8Le36nwEPYBwZCgDiuxFZv0b9QAAAAABJRU5ErkJggg=='),\n\n  /** black */\n  Marisa: newColor(0x1C1C1Cff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2OUkZH5z4AHMI4MBQAGEgqh6nJAewAAAABJRU5ErkJggg=='),\n\n  /** yellow */\n  Alice: newColor(0xE98B2Aff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2N82a31nwEPYBwZCgDzHRTxpXyovQAAAABJRU5ErkJggg=='),\n\n  /** baka */\n  Cirno: newColor(0x58B2DCff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2OM2HTnPwMewDgyFAAAMsMXMXWBeqIAAAAASUVORK5CYII='),\n\n  /** white */\n  Sakuya: newColor(0xFCFAF2ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2P88+vTfwY8gHFkKAAA1JcfQVtkt10AAAAASUVORK5CYII='),\n\n  /** green */\n  Youmu: newColor(0x227D51ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2NUqg38z4AHMI4MBQDO6A+BFQpJiAAAAABJRU5ErkJggg=='),\n\n  /** sakura */\n  Yuyuko: newColor(0xFEDFE1ff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVQoU2P8d//hfwY8gHFkKAAAFOcd8YzlO0MAAAAASUVORK5CYII='),\n\n  /** purple */\n  Yakumo: newColor(0x4A225Dff, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAE0lEQVQoU2P0Uor9z4AHMI4MBQAdPA5J0HdVbgAAAABJRU5ErkJggg==')\n};\nexports.THColors = THColors;","\"use strict\";\n\nvar _defineProperty2 = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/defineProperty\");\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useResource = void 0;\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _make = require(\"./make\");\n\nvar _react = require(\"react\");\n\nvar _Loader = require(\"../Loader\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _rxjs = require(\"rxjs\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar useResource = function useResource(options, complete, unmount) {\n  var resource = (0, _react.useMemo)(function () {\n    return {};\n  }, []);\n  var loader = (0, _Loader.useLoader)();\n  var completed = (0, _hooks.useCloseableAsync)(function (closeRef) {\n    // tasks of making and loading resources\n    var tasks = Object.entries(options).map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          name = _ref2[0],\n          option = _ref2[1];\n\n      return option instanceof Function ? // make resource\n      Promise.resolve(option(_make.makeResource)) // make resource\n      .then(function (save) {\n        return closeRef.current || save(name, loader);\n      }) // save resource\n      .then(function () {\n        closeRef.current || loader.emit('load', loader, loader.resources[name]);\n      }) // emit load succeed event\n      .catch(function (error) {\n        if (loader.resources[name] == null) {\n          // make failed resource\n          var _resource = new _make.Resource(name, \"#\".concat(name));\n\n          _resource.error = error;\n          loader.resources[name] = _resource;\n        }\n\n        closeRef.current || loader.emit('error', error, loader, loader.resources[name]); // emit load failed event\n\n        throw error;\n      }).finally(function () {\n        return loader.emit('progress', loader, loader.resources[name]);\n      }) //emit load finish event\n      : // load resource\n      Promise.resolve(option).then(function (_ref3) {\n        var url = _ref3.url,\n            options = _ref3.options,\n            callback = _ref3.callback;\n        closeRef.current || loader.add(name, url, options, callback);\n      });\n    }); // load finished callback\n\n    var onLoad = function onLoad(resolve) {\n      return function () {\n        Object.defineProperties(resource, Object.keys(options).map(function (name) {\n          return _defineProperty2({}, name, {\n            configurable: true,\n            enumerable: true,\n            get: function get() {\n              return loader.resources[name];\n            }\n          });\n        }).reduce(function (dict, props) {\n          return _objectSpread({}, dict, {}, props);\n        }, {}));\n        return (0, _rxjs.timer)(0).toPromise() // the `width` and `height` has not set after first loaded, delay it to the next event loop.\n        .then(function () {\n          return complete && complete(resource);\n        }).then(function () {\n          return resolve(true);\n        });\n      };\n    }; // waits all tasks finished\n\n\n    return Promise.all(tasks).then(function () {\n      return closeRef.current || new Promise(function (resolve) {\n        return loader.load(onLoad(resolve));\n      });\n    });\n  }, function (_completed) {\n    unmount && unmount();\n    loader.reset();\n    PIXI.utils.clearTextureCache();\n  });\n  (0, _react.useDebugValue)(completed, function (completed) {\n    return completed ? 'finished' : 'loading';\n  });\n  return completed ? resource : null;\n};\n\nexports.useResource = useResource;\n\nuseResource.query = function (resource) {\n  return (0, _react.useMemo)(function () {\n    if (resource == null) return function (_field) {\n      return {};\n    };\n    return function (field) {\n      return Object.entries(resource).reduce(function (dict, _ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            name = _ref6[0],\n            value = _ref6[1];\n\n        return _objectSpread({}, dict, _defineProperty2({}, name, value[field]));\n      }, {});\n    };\n  }, [resource]);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useApp = exports.App = exports.AppContext = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar PIXI = _interopRequireWildcard(require(\"pixi.js\"));\n\nvar _hooks = require(\"./hooks\");\n\nvar _Renderer = require(\"./Renderer\");\n\nvar _Loader = require(\"./Loader\");\n\nvar _Stage = require(\"./Stage\");\n\nvar _Ticker = require(\"./Ticker\");\n\nvar _View = require(\"./UI/View\");\n\nvar _core = require(\"@fure/core\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar AppContext = (0, _react.createContext)(undefined);\nexports.AppContext = AppContext;\nAppContext.displayName = 'App';\nvar App = (0, _View.withView)('App', function (_ref) {\n  var children = _ref.children,\n      create = _ref.create,\n      _ref$ticker = _ref.ticker,\n      ticker = _ref$ticker === void 0 ? _core.Ticker.shared : _ref$ticker,\n      resizeTo = _ref.resizeTo;\n  var view = (0, _react.useContext)(_View.ViewContext);\n  var app = (0, _hooks.useCloseable)(function () {\n    var app = create ? create(view) : new PIXI.Application({\n      view: view\n    });\n    app.ticker = null;\n    return app;\n  });\n\n  if (resizeTo != null && resizeTo !== app.resizeTo) {\n    app.resizeTo = resizeTo;\n    app.resize();\n  }\n\n  return _react.default.createElement(AppContext.Provider, {\n    value: app\n  }, _react.default.createElement(_Loader.LoaderContext.Provider, {\n    value: app.loader\n  }, _react.default.createElement(_Renderer.RendererContext.Provider, {\n    value: app.renderer\n  }, _react.default.createElement(_Stage.StageContext.Provider, {\n    value: app.stage\n  }, _react.default.createElement(_Ticker.TickerController, {\n    ticker: ticker\n  }, children, _react.default.createElement(_Stage.Stage.TickRefresh, null))))));\n}, {\n  Creator: function Creator(options) {\n    return (0, _react.useMemo)(function () {\n      return {\n        create: function create(view) {\n          return new PIXI.Application(_objectSpread({\n            view: view\n          }, options));\n        }\n      };\n    }, []);\n  }\n});\nexports.App = App;\n\nvar useApp = function useApp() {\n  return (0, _react.useContext)(AppContext);\n};\n\nexports.useApp = useApp;","\"use strict\";\n\nvar _slicedToArray = require(\"E:\\\\MyProject\\\\Project\\\\furegame\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/slicedToArray\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Progress = Progress;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _ = require(\".\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction Progress(_ref) {\n  var completed = _ref.completed,\n      children = _ref.children,\n      Indicator = _ref.indicator;\n  var loader = (0, _.useLoader)();\n\n  var _ref2 = (0, _react.useState)(undefined),\n      _ref3 = _slicedToArray(_ref2, 2),\n      loaded = _ref3[0],\n      setLoaded = _ref3[1];\n\n  (0, _react.useEffect)(function () {\n    var progress = function progress(_loader, resource) {\n      return setLoaded(resource);\n    };\n\n    loader.on('progress', progress);\n    return function () {\n      loader.removeListener('progress', progress);\n    };\n  }, []);\n  return _react.default.createElement(_react.default.Fragment, null, completed ? children : Indicator == null ? null : _react.default.createElement(Indicator, {\n    progress: loader.progress,\n    resource: loaded\n  }));\n}","import { useCallback, useState } from 'react';\r\n\r\n/**\r\n * @template T\r\n * @param {keyof T} [init] .\r\n * @param {T} [mapper] .\r\n * @returns {[keyof T | T[keyof T], (value: keyof T) => void]}\r\n */\r\nexport function useSelect(init, mapper) {\r\n  const [selected, setSeleted] = useState(init);\r\n  const selector = useCallback(value => ({\r\n    className: `${value === selected ? 'selected ' : ''}button`,\r\n    onClick: () => setSeleted(value),\r\n  }), [selected]);\r\n  return [mapper ? mapper[selected] : selected, selector];\r\n}\r\n\r\nexport const playerPath = [\r\n  { position: [0/*  */, 0/*  */], velocity: [0, 0], gravity: [] },\r\n  // test velocity: d = vt = 0.6 * 1000\r\n  { position: [0/*  */, 0/*  */], velocity: [0.6, 0], gravity: [] },\r\n  { position: [600/**/, 0/*  */], velocity: [0, 0.6], gravity: [] },\r\n  { position: [600/**/, 600/**/], velocity: [-0.6, 0], gravity: [] },\r\n  { position: [0/*  */, 600/**/], velocity: [0, -0.6], gravity: [] },\r\n  // test gravity: d = 0.5gt^2 = 0.5 * 0.5 * 1000**2\r\n  { position: [0/*  */, 0/*  */], velocity: [0, 0], gravity: [0.0016, 0] },\r\n  { position: [800/**/, 0/*  */], velocity: [0, 0], gravity: [0, 0.0016] },\r\n  { position: [800/**/, 800/**/], velocity: [0, 0], gravity: [-0.0016, 0] },\r\n  { position: [0/*  */, 800/**/], velocity: [0, 0], gravity: [0, -0.0016] },\r\n];\r\n\r\nexport const playerAnims = [\r\n  '\\n\\n', '\\n\\n', // 00, 01: idle\r\n  '\\n\\n', '\\n\\n', // 02, 03: up\r\n  '\\n\\n', '\\n\\n', // 04, 05: down\r\n  '\\n\\n', '\\n \\n', // 06, 07: left\r\n  '\\n\\n', '\\n \\n', // 08, 09: right\r\n  '\\n\\n', '\\n\\n', // 10, 11: boom\r\n];\r\n","import React, { ReactNode, useMemo } from 'react';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport { App, Loader, Renderer, Stage, TickerController, UI, fromResize, useSubscribe } from '@fure/view';\r\nimport './index.css';\r\nimport { useSelect } from '../helper';\r\nimport { Ticker } from '@fure/core';\r\n\r\nconst bodySize = () => ({ width: document.body.clientWidth, height: document.body.clientHeight });\r\n\r\nconst usages = {\r\n  Simple({ children }: { children: ReactNode }) {\r\n    return (\r\n      // `App` == `Loader` + `Renderer` + `Stage` + `Ticker` + `Stage.TickRefresh`\r\n      <App id=\"game\" {...App.Creator({ width: 1920, height: 1080, backgroundColor: 0x66ccff })}>\r\n        <UI id=\"hello\">\r\n          <h2>HELLO</h2>\r\n          <h1>Fure Game</h1>\r\n          <h3>(simple usage)</h3>\r\n        </UI>\r\n        {children}\r\n      </App>\r\n    );\r\n  },\r\n  Advance({ children }: { children: ReactNode }) {\r\n    const size = useSubscribe(useMemo(() => fromResize(document.body).pipe(debounceTime(100), map(bodySize)), []), bodySize());\r\n    return (\r\n      <Loader> {/* `Loader` is optional */}\r\n        <div style={{ position: 'absolute', width: '100%', height: '100%', textAlign: 'center' }}>\r\n          <h1>Fill Window</h1><h1>{'&'}</h1><h1>Transparent Background</h1><h1>{'&'}</h1><h1>Scale Mode UI</h1>\r\n        </div>\r\n        <Renderer id=\"game\" {...size} {...Renderer.Creator({ transparent: true })} style={{ backgroundColor: 'rgba(102, 204, 255, 0.933)' }}>\r\n          <Stage>\r\n            <TickerController ticker={new Ticker()} /* `Ticker` is optional */>\r\n              <Stage.TickRefresh />\r\n            </TickerController>\r\n          </Stage>\r\n          <UI id=\"hello\" scaleMode={true}>\r\n            <h2>HELLO</h2>\r\n            <h1>Fure Game</h1>\r\n            <h3>(advance usage)</h3>\r\n          </UI>\r\n          {children}\r\n        </Renderer>\r\n      </Loader>\r\n    );\r\n  },\r\n};\r\n\r\nconst StageAndUI = () => {\r\n  const [Usage, usageSelector] = useSelect('Simple', usages);\r\n  return (\r\n    <Usage>\r\n      <UI id=\"helper\">\r\n        <p {...usageSelector('Simple')}>Simple Usage</p>\r\n        <p {...usageSelector('Advance')}>Advance Usage</p>\r\n      </UI>\r\n    </Usage>\r\n  );\r\n};\r\nStageAndUI.displayName = 'StageAndUI';\r\nStageAndUI.displayText = 'Stage & UI';\r\nexport default StageAndUI;\r\n","import React, { useMemo } from 'react';\r\nimport { map, throttleTime } from 'rxjs/operators';\r\nimport { AnimatedSprite, Gradient, MovableSprite, Renderer, RendererOptions, Sprite, Stage, THColors, UI, makeResource, useCloseable, useSubscribe, useTicker } from '@fure/view';\r\nimport { playerAnims, playerPath, useSelect } from '../helper';\r\n\r\nconst options: RendererOptions = { width: 1920, height: 1080, backgroundColor: 0x66ccff };\r\nconst randomPosition = () => ({\r\n  x: (0.2 + 0.6 * Math.random()) * options.width,\r\n  y: (0.2 + 0.6 * Math.random()) * options.height,\r\n});\r\n\r\nconst usages = {\r\n  Simple() {\r\n    return (Object.entries(THColors).map(([name, thc]) => (\r\n      <Sprite key={name} texture={thc.texture} scale={{ x: 3, y: 3 }} position={randomPosition()} >\r\n        <Stage.LazyRefresh />\r\n      </Sprite>\r\n    )));\r\n  },\r\n  Animated() {\r\n    const textures = useCloseable(\r\n      () => [\r\n        ...['', '', '', '', ''].map(text => makeResource.text(text)(text)),\r\n        ...Object.entries(THColors).map(([name, thc]) => makeResource.shape({ fill: { color: thc.rgb } }).circle(8)(`${name}.circle`)),\r\n        ...Object.entries(THColors).map(([name, thc]) => makeResource.shape({ fill: { color: thc.rgb } }).star(5, 12, 6)(`${name}.star`)),\r\n      ],\r\n      textures => textures.forEach(texture => texture.destroy()),\r\n    );\r\n    return (\r\n      <>\r\n        <Stage.TickRefresh />\r\n        {textures.map((_, index) => (\r\n          <AnimatedSprite key={index} textures={[...textures.slice(index), ...textures.slice(0, index)]} animationSpeed={0.1} position={randomPosition()} />\r\n        ))}\r\n      </>\r\n    );\r\n  },\r\n  Moveable() {\r\n    const ticker = useTicker();\r\n\r\n    const subject = useMemo(() => ticker.pipe(throttleTime(1000)).pipe(map((_delta, index) => playerPath[index % playerPath.length])), [ticker]);\r\n    const { position: [x, y], velocity, gravity } = useSubscribe(subject, playerPath[0]);\r\n\r\n    const textures = useMemo(() => MovableSprite.toUDLR(playerAnims.map(value => (\r\n      makeResource.text(value, { fontFamily: ['monospace'], fontSize: 24 })())\r\n    )), []);\r\n\r\n    Stage.TickRefresh(); // `Stage.XxxRefresh` could usage as react-hook too.\r\n\r\n    return (\r\n      <Gradient.Velocity state={[[560 + x, 140 + y], velocity, gravity]}>{pipe => (\r\n        <MovableSprite source={pipe} {...MovableSprite.UDLR} textures={textures} animationSpeed={0.1} />\r\n      )}</Gradient.Velocity>\r\n    );\r\n  },\r\n};\r\n\r\nconst TextureAndSprite = () => {\r\n  const [Usage, usageSelector] = useSelect('Simple', usages);\r\n  return (\r\n    <Renderer {...Renderer.Creator(options)}>\r\n      <Stage>\r\n        <UI id=\"helper\">\r\n          <p {...usageSelector('Simple')}>Simple Usage</p>\r\n          <p {...usageSelector('Animated')}>Animated Usage</p>\r\n          <p {...usageSelector('Moveable')}>Moveable Usage</p>\r\n        </UI>\r\n        <Usage />\r\n      </Stage>\r\n    </Renderer>\r\n  );\r\n};\r\nTextureAndSprite.displayName = 'TextureAndSprite';\r\nTextureAndSprite.displayText = 'Texture & Sprite';\r\nexport default TextureAndSprite;\r\n","import React, { MutableRefObject, ReactElement, useMemo, useRef } from 'react';\r\nimport { App, FreeMoveSprite, Gradient, MovableSprite, Progress, Subscribe, THColors, Texture, UI, useResource, useSubscribe, useTicker } from '@fure/view';\r\nimport { of } from 'rxjs';\r\nimport { delay, map, mergeMap, sampleTime, startWith, take } from 'rxjs/operators';\r\nimport { useSelect } from '../helper';\r\n\r\nconst Loading = ({ progress, resource }: IndicatorProps) => {\r\n  const ref: MutableRefObject<HTMLDivElement> = useRef();\r\n  return (\r\n    <UI>\r\n      <Gradient.Simple state={progress}>{pipe =>\r\n        <div ref={ref} style={{ position: 'absolute', width: '1%', height: 6, left: 0, bottom: '6%', background: THColors.Reimu.hex }}>\r\n          <Subscribe source={pipe} update={state => ref.current.style.width = `${state}%`} />\r\n        </div>\r\n      }</Gradient.Simple>\r\n      <small style={{ position: 'absolute', right: '1em', bottom: '6%' }}>{progress.toFixed(2)}% | {resource ? resource.name : 'waiting'} {resource && resource.error && 'failed'}</small>\r\n    </UI>\r\n  );\r\n};\r\n\r\nconst size = {\r\n  get width() { return document.body.clientWidth; },\r\n  get height() { return document.body.clientHeight; },\r\n};\r\nconst useShooter = (time: number, turn: number) => {\r\n  const ticker = useTicker(); // TODO \r\n  return useMemo(\r\n    () => ticker.pipe(sampleTime(time * 1000), startWith(0))\r\n      .pipe(mergeMap(_ =>\r\n        ticker.pipe(sampleTime(time * 1000 / turn), startWith(0), map((_, i) => i))\r\n          .pipe(take(turn))\r\n      ))\r\n      .pipe(map(index => [index * size.width / turn, index])),\r\n    [time, turn, ticker],\r\n  );\r\n};\r\n\r\nconst copies = (children: (offset: [number, number], index: number) => ReactElement) => {\r\n  return new Array(15).fill().map((_, index) => children([size.width / 2 * ((index / 3 | 0) - 2), size.height / 3 * (index % 3)], index));\r\n};\r\n\r\nconst Reimu = ({ texture }: { texture: Texture }) => {\r\n  const time = 3;\r\n  const [positionX] = useSubscribe(useShooter(time, 2), [0, 0]);\r\n\r\n  const velocityX = size.width / time / 1000; // v = s / t;\r\n  const state = [[positionX, 50], [velocityX]];\r\n\r\n  return (\r\n    <Gradient.Velocity state={state}>{pipe => copies(([ox, oy], index) => (\r\n      <MovableSprite key={index} textures={[texture]} scale={{ x: 2, y: 2 }} source={pipe(map(([[x, y]]) => [[x + ox, y + oy]]))} />\r\n    ))}</Gradient.Velocity>\r\n  );\r\n};\r\n\r\nconst Marisa = ({ texture }: { texture: Texture }) => {\r\n  const time = 3;\r\n  const [positionX] = useSubscribe(useShooter(time, 3), [0, 0]);\r\n\r\n  const velocityX = size.width / time / 1000; // v = s / t;\r\n  const velocityY = -400 / 1000;\r\n  const gravityY = 2 * -velocityY / 1000;\r\n  const offsetY = 50; // s = -0.5g * (0.5t)^2\r\n  const state = [[positionX + 200, 150 + offsetY], [velocityX, velocityY], [0, gravityY]];\r\n\r\n  return (\r\n    <Gradient.Velocity state={state}>{pipe => copies(([ox, oy], index) => (\r\n      <MovableSprite key={index} textures={[texture]} source={pipe(map(([[x, y]]) => [[x + ox, y + oy]]))} />\r\n    ))}</Gradient.Velocity>\r\n  );\r\n};\r\n\r\nconst Alice = ({ texture }: { texture: Texture }) => {\r\n  const time = 3;\r\n  const turn = 6;\r\n  const [positionX, index] = useSubscribe(useShooter(time, turn), [0, 0]);\r\n\r\n  const rotate = (index % 2 === 0 ? 1 : -1) / 3 * Math.PI;\r\n  const frames = time * 1000 / turn;\r\n  const distance = size.width / turn;\r\n  const direction = 0;\r\n  const state = { rotate, frames, distance, direction, position: [positionX + 400, 250] };\r\n\r\n  return (\r\n    <Gradient.Circular state={state}>{pipe => copies(([ox, oy], index) => (\r\n      <FreeMoveSprite key={index} textures={[texture]} source={pipe(map(({ x, y, angle }) => ({ position: { x: x + ox, y: y + oy }, rotation: { radian: 0.5 * Math.PI + angle } })))} />\r\n    ))}</Gradient.Circular>\r\n  );\r\n};\r\nconst Kagari = ({ texture }: { texture: Texture }) => {\r\n  return (\r\n    <img src={texture.baseTexture.resource.url} alt=\"kagari\" style={{ maxWidth: '30%', maxHeight: '60%', position: 'absolute', right: 0, bottom: 0 }} />\r\n  );\r\n};\r\n\r\nconst usages = {\r\n  Simple() {\r\n    const resource = useResource({\r\n      reimu: { url: THColors.Reimu.data }, // base usage\r\n      kagari: of({ url: 'https://raw.githubusercontent.com/zhengxiaoyao0716/rewrite-kagali/master/kagari-nobg-nolight.gif' }).toPromise(), // async usage\r\n      marisa: make => make.shape({ fill: { color: THColors.Marisa.rgb } }).star(5, 12, 6), // mock resource usage\r\n      'kagari-nobg-nolight': of({ url: 'https://raw.githubusercontent.com/zhengxiaoyao0716/rewrite-kagali/master/kagali.gif' }).pipe(delay(300)).toPromise(), // async usage with delay\r\n      alice: make => of(make.shape({ fill: { color: THColors.Alice.rgb } }).triangle(16, 20, 8)).pipe(delay(600)).toPromise(), // async and mock resource usage\r\n    });\r\n    const textures = useResource.query(resource)('texture');\r\n\r\n    return (\r\n      <Progress completed={!!resource} indicator={Loading}>\r\n        <Reimu texture={textures.reimu} />\r\n        <Marisa texture={textures.marisa} />\r\n        <Alice texture={textures.alice} />\r\n        <Kagari texture={textures.kagari} />\r\n      </Progress>\r\n    );\r\n  },\r\n};\r\n\r\nconst PreloadResource = () => {\r\n  const [Usage] = useSelect('Simple', usages);\r\n  return (\r\n    <App resizeTo={document.body} {...App.Creator({ backgroundColor: 0x66ccff })}>\r\n      <Usage />\r\n    </App>\r\n  );\r\n};\r\nPreloadResource.displayName = 'PreloadResource';\r\nPreloadResource.displayText = 'Preload Resource';\r\nexport default PreloadResource;\r\n","import { Core } from '@fure/core';\r\nimport { Subject, Subscription, from, interval, timer } from 'rxjs';\r\nimport { tap, zip } from 'rxjs/operators';\r\n\r\nexport const LogicDecoupling = (() => {\r\n  type Attr = | 'fire' | 'water';\r\n\r\n  const subject: Subject<Partial<{\r\n    life: number;\r\n    attr: Attr;\r\n    message: string;\r\n  }>> = new Subject();\r\n\r\n  const newBubble = () => {\r\n    let life = 5;\r\n    return {\r\n      /** @type {Attr} */attr: undefined,\r\n      get() { return life; },\r\n      inc(attr: Attr) {\r\n        if (life < 9) {\r\n          if (attr !== this.attr) {\r\n            subject.next({ message: 'miss' });\r\n            return;\r\n          }\r\n          life++;\r\n          subject.next({ life });\r\n          return;\r\n        }\r\n\r\n        this.inc = () => subject.next({ life, message: 'GAME PASS' });\r\n        this.dec = () => { };\r\n        subject.next({ life, message: 'YOU WIN' });\r\n      },\r\n      dec() {\r\n        life -= 1 / 60;\r\n        if (life > 0) {\r\n          subject.next({ life });\r\n          return;\r\n        }\r\n\r\n        life = 0;\r\n        this.inc = () => subject.next({ life, message: 'GAME OVER' });\r\n        this.dec = () => { };\r\n        subject.next({ life, message: 'BOO~OOM' });\r\n      },\r\n    };\r\n  };\r\n  let bubble: ReturnType<typeof newBubble>;\r\n  const players: Set<string> = new Set();\r\n\r\n  const subscriptions: Set<Subscription> = new Set();\r\n\r\n  const events = {\r\n    join(playerName: string, playerAttr: Attr) {\r\n      if (players.has(playerName)) return;\r\n      players.add(playerName);\r\n      subject.next({ message: `${playerName} (${playerAttr}) joined.` });\r\n      if (players.size < 2) return;\r\n\r\n      // game start\r\n      bubble = newBubble();\r\n\r\n      const readyTimer = from(['READY...', 'GO!!!']).pipe(zip(interval(500), message => message));\r\n      subscriptions.add(readyTimer.subscribe(message => subject.next({ message })));\r\n\r\n      subscriptions.add(timer(1500, 1000 / 60).subscribe(() => bubble.dec()));\r\n\r\n      const bubbleTimer = timer(1500, 500).pipe(tap(() => bubble.attr = Math.random() < 0.5 ? 'fire' : 'water'));\r\n      subscriptions.add(bubbleTimer.subscribe(() => subject.next({ attr: bubble.attr })));\r\n    },\r\n    blow(playerAttr: Attr) {\r\n      bubble.inc(playerAttr);\r\n    },\r\n    leave(player: string) {\r\n      players.delete(player);\r\n      subject.next({ message: `${player} leaved.` });\r\n      if (players.size > 0) return;\r\n\r\n      // game stop\r\n      subscriptions.forEach(sub => sub.unsubscribe());\r\n      subscriptions.clear();\r\n    },\r\n  };\r\n  return new Core('LogicDecoupling', events, subject);\r\n})();\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport { map, scan, throttleTime } from 'rxjs/operators';\r\nimport { App, AppOptions, useSubscribe } from '@fure/view';\r\nimport './index.css';\r\nimport { LogicDecoupling as core } from '../../main/core';\r\nimport { Subject, interval } from 'rxjs';\r\nimport { pick } from '@fure/core';\r\n\r\nconst options: AppOptions = { width: 960, height: 1080, transparent: true };\r\ntype Attr = | 'fire' | 'water';\r\n\r\ninterface BubbleProps { life: number; attr: Attr }\r\nconst Bubble = ({ life, attr }: BubbleProps) => {\r\n  const size = `${life && (0.5 + life)}em`;\r\n  return (\r\n    <div className={`Bubble ${attr}`} style={{ width: size, height: size }} />\r\n  );\r\n};\r\n\r\ninterface PlayerProps { attr: Attr }\r\nconst Player = ({ attr }: PlayerProps) => {\r\n  const onTap = useMemo(() => {\r\n    const subject = new Subject();\r\n    subject.pipe(throttleTime(300)).subscribe(() => core.events.blow(attr));\r\n    return event => subject.next(event);\r\n  }, [attr]);\r\n  return (\r\n    <div className={`Player ${attr}`} onClick={onTap} onTouchStart={onTap} />\r\n  );\r\n};\r\n\r\nconst Message = ({ value = [], show }: { value: [string, number][]; show: number }) => {\r\n  const now = useSubscribe(useMemo(() => interval(1000 / 30).pipe(map(() => new Date().getTime())), []), 0);\r\n  const messages = value.map(([message, insertAt]): [string, number] => [message, now - insertAt]).filter(([, time]) => (time < show));\r\n  return (\r\n    <div className=\"Message\">{messages.map(([message, time], index) => (\r\n      <p key={index} style={{ opacity: Math.cos(time / show) }}>{message}</p>\r\n    ))}</div>\r\n  );\r\n};\r\nMessage.queue = scan((queue: [[string, number]], message: string): [[string, number]] => [...queue.slice(1 - 5), [message, new Date().getTime()]], []);\r\n\r\ninterface GameProps { player: PlayerProps & { name: string } }\r\nconst Game = ({ player }: GameProps) => {\r\n  const life = useSubscribe(useMemo(() => core.pipe(pick('life')), []), 0);\r\n  const attr = useSubscribe(useMemo(() => core.pipe(pick('attr')), []));\r\n  const messages = useSubscribe(useMemo(() => core.pipe(pick('message')).pipe(Message.queue), []));\r\n\r\n  useEffect(() => {\r\n    core.events.join(player.name, player.attr);\r\n    return () => core.events.leave(player.name);\r\n  }, [player.name, player.attr]);\r\n\r\n  return (\r\n    <App {...App.Creator(options)}>\r\n      <p className=\"name\">{player.name}</p>\r\n      {attr && <Bubble life={life} attr={attr} />}\r\n      <Player attr={player.attr} />\r\n      <Message value={messages} show={3000} />\r\n    </App>\r\n  );\r\n};\r\n\r\nexport const LogicDecoupling = () => {\r\n  return (\r\n    <div className=\"LogicDecoupling\">\r\n      <Game player={{ name: 'Girl', attr: 'fire' }} />\r\n      <Game player={{ name: 'Boy', attr: 'water' }} />\r\n    </div>\r\n  );\r\n};\r\nLogicDecoupling.displayName = 'LogicDecoupling';\r\nLogicDecoupling.displayText = 'Logic Decoupling';\r\nexport default LogicDecoupling;\r\n","import React, { useCallback, useEffect, useMemo } from 'react';\r\nimport { range } from 'rxjs';\r\nimport { map, mergeMap } from 'rxjs/operators';\r\nimport { App, AppOptions, BLEND_MODES, Container, Sprite, SpriteContext, Subscribe, makeResource, useCloseable, useTicker } from '@fure/view';\r\n\r\nconst options: AppOptions = { width: 1920, height: 1080, backgroundColor: 0x66ccff };\r\nconst birth = { x: options.width / 2, y: options.height / 2 };\r\nconst size = 1000; // lived particles number.\r\nconst period = 1; // send particles interval.\r\nconst speed = 0.5; // particle move speed, 1000px/s.\r\n// distanceMax = size * period * speed\r\n\r\nconst Particle = () => {\r\n  const texture = useCloseable(\r\n    () => makeResource.shape({ fill: { color: 0xffffff } }).star(5, 12, 6)('particle'),\r\n    texture => texture.destroy(),\r\n  );\r\n\r\n  const ticker = useTicker();\r\n\r\n  //#region particles shooter\r\n  const particles: { cos: number; sin: number; scale: number; tint: number; sendAt: number }[] = useMemo(() => [], []);\r\n  useEffect(() => {\r\n    const emitter = ticker.pipe(map(_delta => ticker.runTime))\r\n      .pipe(mergeMap(now => {\r\n        const last = particles[0] ? particles[0].sendAt : now - period;\r\n        const count = Math.floor((now - last) / period);\r\n        return range(1, count).pipe(map(index => {\r\n          const angle = Math.random() * 2 * Math.PI;\r\n          return ({\r\n            cos: Math.cos(angle),\r\n            sin: Math.sin(angle),\r\n            scale: 0.5 + Math.random(),\r\n            tint: Math.random() * 0xffffff | 0,\r\n            sendAt: last + (1 + index) * period,\r\n          });\r\n        }));\r\n      }));\r\n    const subcription = emitter.subscribe(particle => {\r\n      particles.unshift(particle);\r\n      if (particles.length > size) particles.pop();\r\n    });\r\n    return () => subcription.unsubscribe();\r\n  }, [particles, ticker]);\r\n  //#endregion\r\n\r\n  // hight frequence update, used only when necessary, for most time, just use `Gradient` to make our code more `reactive`.\r\n  const update = useCallback((index, sprite) => {\r\n    if (!particles[index]) return;\r\n    const { cos, sin, scale, tint, sendAt } = particles[index];\r\n    const distance = (ticker.runTime - sendAt) * speed;\r\n    const position = { x: birth.x + cos * distance, y: birth.y + sin * distance };\r\n    sprite.position.x = position.x;\r\n    sprite.position.y = position.y;\r\n    sprite.scale.x = scale;\r\n    sprite.scale.y = scale;\r\n    sprite.tint = tint;\r\n  }, [particles, ticker]);\r\n\r\n  return (\r\n    <Container>{new Array(size).fill().map((_, index) => (\r\n      <Sprite key={index} texture={texture} blendMode={BLEND_MODES.ADD}>\r\n        <SpriteContext.Consumer>{sprite => (\r\n          <Subscribe source={ticker.pipe} update={() => update(index, sprite)} />\r\n        )}</SpriteContext.Consumer>\r\n      </Sprite>\r\n    ))}</Container>\r\n  );\r\n};\r\n\r\nconst HighFrequency = () => {\r\n  return (\r\n    <App {...App.Creator(options)}>\r\n      <Particle />\r\n    </App>\r\n  );\r\n};\r\nHighFrequency.displayName = 'HighFrequency';\r\nHighFrequency.displayText = 'High Frequency';\r\nexport default HighFrequency;\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport { App, Body, Constraint, Matter, Sprite, THColors, UI, World, useResource } from '@fure/view';\r\nimport { useSelect } from '../helper';\r\n\r\nconst options: AppOptions = { width: 1920, height: 1080, backgroundColor: 0x66ccff };\r\nconst sceneConfig = {\r\n  Reimu: {\r\n    position: { x: 700, y: options.height - 300 },\r\n  },\r\n  Marisa: {\r\n    position: { x: options.width / 2, y: options.height - 320 },\r\n  },\r\n  Alice: {\r\n    position: { x: options.width - 700, y: options.height - 295 },\r\n    anchor: { x: 0.5, y: 0.668 }, // Matter use the gravity center as the anchor\r\n  },\r\n  Cirno: {\r\n    scale: { x: 128, y: 3 },\r\n    position: { x: options.width / 2, y: options.height - 256 },\r\n  },\r\n  Sakuya: {\r\n    scale: { x: 3, y: 32 },\r\n    position: { x: options.width / 2, y: options.height - 128 },\r\n  },\r\n  Youmu: {\r\n    scale: { x: 240, y: 3 },\r\n    position: { x: options.width / 2, y: options.height - 12 },\r\n  },\r\n};\r\n\r\nconst usages = {\r\n  Catapult() {\r\n    const resource = useResource({\r\n      Reimu: make => make.shape({ fill: { color: THColors.Reimu.rgb } }).rectangle(64, 64),\r\n      Marisa: make => make.shape({ fill: { color: THColors.Marisa.rgb } }).circle(32),\r\n      Alice: make => make.shape({ fill: { color: THColors.Alice.rgb } }).triangle(102.4, 80, 51.2),\r\n    });\r\n    const textures = useResource.query(resource)('texture');\r\n\r\n    const catapultRefs = Constraint.useRefs(['bodyA', 'pointB']);\r\n    useEffect(() => {\r\n      catapultRefs.bodyA.then(bodyA => catapultRefs.pointB.current = { ...bodyA.position });\r\n    }, [catapultRefs]);\r\n\r\n    const filters = useMemo(() => ({\r\n      negCatapult: { collisionFilter: { group: Body.nextGroup(true) } },\r\n    }), []);\r\n\r\n    World.useEvent('collisionStart', ({ pairs }) => pairs.forEach(({ bodyA, bodyB }) => {\r\n      const [marisa, victim] = bodyA.label === 'Marisa' ? [bodyA, bodyB] : bodyB.label === 'Marisa' ? [bodyB, bodyA] : [];\r\n      if (marisa == null) return;\r\n      if (victim.label !== 'Reimu' && victim.label !== 'Alice') return;\r\n      const marisaX = marisa.position.x;\r\n      const victimX = victim.position.x;\r\n      const velocityX = marisaX > victimX ? 12 : marisaX < victimX ? -12 : 0;\r\n      if (velocityX === 0) return;\r\n      Matter.Body.setVelocity(marisa, Matter.Vector.add(marisa.velocity, { x: velocityX, y: 0 }));\r\n      Matter.Body.setVelocity(victim, Matter.Vector.add(victim.velocity, { x: 0, y: -3}));\r\n    }));\r\n\r\n    return (resource && <>\r\n      <Sprite texture={textures.Reimu} {...sceneConfig.Reimu}>\r\n        <Body {...Body.SpriteRectangle({ label: 'Reimu', restitution: 0.1, density: 0.01 })} />\r\n      </Sprite>\r\n      <Sprite texture={textures.Marisa} {...sceneConfig.Marisa}>\r\n        <Body {...Body.SpriteCircle({ label: 'Marisa', restitution: 0.8, friction: 0, velocity: { x: Math.random() > 0.5 ? 6 : -6, y: 0 } })} />\r\n      </Sprite>\r\n      <Sprite texture={textures.Alice} {...sceneConfig.Alice}>\r\n        <Body {...Body.SpriteTriangle({ label: 'Alice', restitution: 0.1, density: 0.01 })} />\r\n      </Sprite>\r\n      <Sprite texture={THColors.Cirno.texture} {...sceneConfig.Cirno}>\r\n        <Body {...Body.SpriteRectangle({ label: 'Cirno', density: 0.05, friction: 0.01, ...filters.negCatapult })} ref={catapultRefs.bodyA} />\r\n      </Sprite>\r\n      <Sprite texture={THColors.Sakuya.texture} {...sceneConfig.Sakuya}>\r\n        <Body {...Body.SpriteRectangle({ isStatic: true, ...filters.negCatapult })} />\r\n      </Sprite>\r\n      <Sprite texture={THColors.Youmu.texture} {...sceneConfig.Youmu}>\r\n        <Body {...Body.SpriteRectangle({ isStatic: true })} />\r\n      </Sprite>\r\n      <Constraint {...catapultRefs} stiffness={1} length={0} />\r\n    </>);\r\n  },\r\n};\r\n\r\nconst Physics = () => {\r\n  const [Usage, usageSelector] = useSelect('Catapult', usages);\r\n  return (\r\n    <App {...App.Creator(options)}>\r\n      <World renderDebug={/*draw debug-renderer*/true}>\r\n        <Usage />\r\n        <World.Mouse />\r\n      </World>\r\n      <UI id=\"helper\">\r\n        <p {...usageSelector('Catapult')}>Catapult</p>\r\n      </UI>\r\n    </App>\r\n  );\r\n};\r\nPhysics.displayName = 'Physics';\r\nPhysics.displayText = 'Physics';\r\nexport default Physics;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport StageAndUI from './StageAndUI';\r\nimport TextureAndSprite from './TextureAndSprite';\r\nimport PreloadResource from './PreloadResource';\r\nimport LogicDecoupling from './LogicDecoupling';\r\nimport HighFrequency from './HighFrequency';\r\nimport Physics from './Physics';\r\n\r\nconst createScene = Component => {\r\n  const Scene = (props, context) => {\r\n    const history = useHistory();\r\n    return (\r\n      <>\r\n        {Component(props, context)}\r\n        <div id=\"back\" onClick={() => history.goBack()}>BACK</div>\r\n      </>\r\n    );\r\n  };\r\n  Scene.displayName = Component.displayName;\r\n  Scene.displayText = Component.displayText;\r\n  return Scene;\r\n};\r\n\r\nexport const scenes = [\r\n  StageAndUI,\r\n  TextureAndSprite,\r\n  HighFrequency,\r\n  PreloadResource,\r\n  LogicDecoupling,\r\n  Physics,\r\n].map(createScene);\r\n","import React from 'react';\r\nimport { Link, match } from 'react-router-dom';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { History, Location } from 'history'; // only used as type.\r\nimport './index.css';\r\nimport '@fure/view';\r\nimport { scenes } from '../Scene';\r\nimport { PUBLIC_URL } from '..';\r\n\r\ninterface LocationState { } // eslint-disable-line @typescript-eslint/no-empty-interface\r\n\r\ninterface Props {\r\n  history: History<LocationState>;\r\n  location: Location<LocationState>;\r\n  match: match;\r\n}\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nconst Home = ({ history: _history, location, match: _match }: Props) => {\r\n  return (\r\n    <div className=\"Home\">\r\n      {scenes.map(Scene => (\r\n        <Link key={Scene.displayName} to={{ ...location, pathname: `${PUBLIC_URL}/scene/${Scene.displayName}` }}>\r\n          <p>{Scene.displayText}</p>\r\n        </Link>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\nHome.displayName = 'Home';\r\nexport default Home;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport './index.css';\r\nimport Home from './Home';\r\nimport { scenes } from './Scene';\r\n\r\nexport const PUBLIC_URL = process.env.PUBLIC_URL; // eslint-disable-line no-undef\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <>\r\n      <Route exact path={`${PUBLIC_URL}/`} component={Home} />\r\n\r\n      {scenes.map(Scene => (\r\n        <Route key={Scene.displayName} path={`${PUBLIC_URL}/scene/${Scene.displayName}`} component={Scene} />\r\n      ))}\r\n    </>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}